<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--Rendered using the Haskell Html Library v0.2-->
<HTML
><HEAD
><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"
><TITLE
>Ganeti.HTools.Text</TITLE
><LINK HREF="haddock.css" REL="stylesheet" TYPE="text/css"
><SCRIPT SRC="haddock-util.js" TYPE="text/javascript"
></SCRIPT
><SCRIPT TYPE="text/javascript"
>window.onload = function () {setSynopsis("mini_Ganeti-HTools-Text.html")};</SCRIPT
></HEAD
><BODY
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="topbar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><IMG SRC="haskell_icon.gif" WIDTH="16" HEIGHT="16" ALT=" "
></TD
><TD CLASS="title"
>ganeti-htools</TD
><TD CLASS="topbut"
><A HREF="Ganeti/HTools/Text.html"
>Source code</A
></TD
><TD CLASS="topbut"
><A HREF="index.html"
>Contents</A
></TD
><TD CLASS="topbut"
><A HREF="doc-index.html"
>Index</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="modulebar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><FONT SIZE="6"
>Ganeti.HTools.Text</FONT
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Description</TD
></TR
><TR
><TD CLASS="doc"
><P
>Parsing data from text-files
</P
><P
>This module holds the code for loading the cluster state from text
files, as produced by gnt-node and gnt-instance list.
</P
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Synopsis</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeNode"
>serializeNode</A
> :: <A HREF="Ganeti-HTools-Node.html#t%3ANode"
>Node</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeNodes"
>serializeNodes</A
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeInstance"
>serializeInstance</A
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AInstance"
>Instance</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeInstances"
>serializeInstances</A
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AList"
>List</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeCluster"
>serializeCluster</A
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AList"
>List</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadNode"
>loadNode</A
> :: Monad m =&gt; [String] -&gt; m (String, <A HREF="Ganeti-HTools-Node.html#t%3ANode"
>Node</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadInst"
>loadInst</A
> :: Monad m =&gt; [(String, <A HREF="Ganeti-HTools-Types.html#t%3ANdx"
>Ndx</A
>)] -&gt; [String] -&gt; m (String, <A HREF="Ganeti-HTools-Instance.html#t%3AInstance"
>Instance</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadTabular"
>loadTabular</A
> :: (Monad m, <A HREF="Ganeti-HTools-Types.html#t%3AElement"
>Element</A
> a) =&gt; [String] -&gt; ([String] -&gt; m (String, a)) -&gt; m ([(String, Int)], [(Int, a)])</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadData"
>loadData</A
> :: String -&gt; IO (<A HREF="Ganeti-HTools-Types.html#t%3AResult"
>Result</A
> (<A HREF="Ganeti-HTools-Node.html#t%3AAssocList"
>AssocList</A
>, <A HREF="Ganeti-HTools-Instance.html#t%3AAssocList"
>AssocList</A
>, [String]))</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Documentation</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeNode"
><A NAME="v%3AserializeNode"
></A
></A
><B
>serializeNode</B
> :: <A HREF="Ganeti-HTools-Node.html#t%3ANode"
>Node</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeNode"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Serialize a single node
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeNodes"
><A NAME="v%3AserializeNodes"
></A
></A
><B
>serializeNodes</B
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeNodes"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate node file data from node objects
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeInstance"
><A NAME="v%3AserializeInstance"
></A
></A
><B
>serializeInstance</B
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AInstance"
>Instance</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeInstance"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Serialize a single instance
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeInstances"
><A NAME="v%3AserializeInstances"
></A
></A
><B
>serializeInstances</B
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AList"
>List</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeInstances"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate instance file data from instance objects
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeCluster"
><A NAME="v%3AserializeCluster"
></A
></A
><B
>serializeCluster</B
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AList"
>List</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeCluster"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate complete cluster data from node and instance lists
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadNode"
><A NAME="v%3AloadNode"
></A
></A
><B
>loadNode</B
> :: Monad m =&gt; [String] -&gt; m (String, <A HREF="Ganeti-HTools-Node.html#t%3ANode"
>Node</A
>)</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadNode"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Load a node from a field list.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadInst"
><A NAME="v%3AloadInst"
></A
></A
><B
>loadInst</B
> :: Monad m =&gt; [(String, <A HREF="Ganeti-HTools-Types.html#t%3ANdx"
>Ndx</A
>)] -&gt; [String] -&gt; m (String, <A HREF="Ganeti-HTools-Instance.html#t%3AInstance"
>Instance</A
>)</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadInst"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Load an instance from a field list.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadTabular"
><A NAME="v%3AloadTabular"
></A
></A
><B
>loadTabular</B
> :: (Monad m, <A HREF="Ganeti-HTools-Types.html#t%3AElement"
>Element</A
> a) =&gt; [String] -&gt; ([String] -&gt; m (String, a)) -&gt; m ([(String, Int)], [(Int, a)])</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadTabular"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
><P
>Convert newline and delimiter-separated text.
</P
><P
>This function converts a text in tabular format as generated by
 <TT
>gnt-instance list</TT
> and <TT
>gnt-node list</TT
> to a list of objects using
 a supplied conversion function.
</P
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadData"
><A NAME="v%3AloadData"
></A
></A
><B
>loadData</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadData"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: String</TD
><TD CLASS="rdoc"
>Path to the text file
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; IO (<A HREF="Ganeti-HTools-Types.html#t%3AResult"
>Result</A
> (<A HREF="Ganeti-HTools-Node.html#t%3AAssocList"
>AssocList</A
>, <A HREF="Ganeti-HTools-Instance.html#t%3AAssocList"
>AssocList</A
>, [String]))</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Builds the cluster data from text input.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="botbar"
>Produced by <A HREF="http://www.haskell.org/haddock/"
>Haddock</A
> version 2.6.0</TD
></TR
></TABLE
></BODY
></HTML
>
