<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>ganeti-watcher</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="AEN1"
></A
>ganeti-watcher</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN13"
></A
><H2
>Name</H2
>ganeti-watcher&nbsp;--&nbsp;ganeti cluster watcher</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN16"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>ganeti-watcher </B
> </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN19"
></A
><H2
>DESCRIPTION</H2
><P
>      The <B
CLASS="COMMAND"
>ganeti-watcher</B
> is a periodically run script
      which is responsible for keeping the instances in the correct
      status.
    </P
><P
>      Its primary function is to try to keep running all instances
      which are marked as <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>up</I
></SPAN
> in the configuration
      file, by trying to start them a limited number of times.
    </P
><P
>      Its other function is to <SPAN
CLASS="QUOTE"
>"repair"</SPAN
> DRBD links by
      reactivating the block devices of instances which have
      secondaries on nodes that have been rebooted.
    </P
><P
>      The watcher does synchronous queries but will submit jobs for
      executing the changes. Due to locking, it could be that the jobs
      execute much later than the watcher executes them.
    </P
><P
>      The command has a state file located at
      <TT
CLASS="FILENAME"
>/usr/local/var/lib/ganeti/watcher.data</TT
> and a log
      file at
      <TT
CLASS="FILENAME"
>/usr/local/var/log/ganeti/watcher.log</TT
>. Removal of
      either file will not affect correct operation; the removal of
      the state file will just cause the restart counters for the
      instances to reset to zero.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN31"
></A
><H2
>REPORTING BUGS</H2
><P
>      Report bugs to <A
HREF="http://code.google.com/p/ganeti/"
TARGET="_top"
>http://code.google.com/p/ganeti/</A
> or contact the
      developers using the ganeti mailing list
      &lt;ganeti@googlegroups.com&gt;.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN35"
></A
><H2
>SEE ALSO</H2
><P
>      Ganeti overview and specifications:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti</SPAN
>(7)</SPAN
> (general overview),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-os-interface</SPAN
>(7)</SPAN
> (guest OS definitions).

    </P
><P
>Ganeti commands:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-cluster</SPAN
>(8)</SPAN
> (cluster-wide commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-job</SPAN
>(8)</SPAN
> (job-related commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-node</SPAN
>(8)</SPAN
> (node-related commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-instance</SPAN
>(8)</SPAN
> (instance commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-os</SPAN
>(8)</SPAN
> (guest OS commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-backup</SPAN
>(8)</SPAN
> (instance import/export commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-debug</SPAN
>(8)</SPAN
> (debug commands).
    </P
><P
>Ganeti daemons:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-watcher</SPAN
>(8)</SPAN
> (automatic instance restarter),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-cleaner</SPAN
>(8)</SPAN
> (job queue cleaner),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-noded</SPAN
>(8)</SPAN
> (node daemon),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-masterd</SPAN
>(8)</SPAN
> (master daemon),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-rapi</SPAN
>(8)</SPAN
> (remote API daemon).
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN82"
></A
><H2
>COPYRIGHT</H2
><P
>      Copyright (C) 2006, 2007, 2008, 2009 Google Inc. Permission is
      granted to copy, distribute and/or modify under the terms of the
      <ACRONYM
CLASS="ACRONYM"
>GNU</ACRONYM
> General Public License as published by the Free Software
      Foundation; either version 2 of the License, or (at your option)
      any later version.
    </P
><P
>      On Debian systems, the complete text of the GNU General Public
      License can be found in /usr/share/common-licenses/GPL.
    </P
></DIV
></BODY
></HTML
>