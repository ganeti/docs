<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.utils</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        Module&nbsp;utils
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.utils-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module utils</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.utils-pysrc.html">source&nbsp;code</a></span></p>
<p>Ganeti utility module.</p>
  <p>This module holds functions that can be used in both daemons (all) and
  the command line scripts.</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.utils.RunResult-class.html" class="summary-name">RunResult</a><br />
      Holds the result of running external programs.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.utils.HostInfo-class.html" class="summary-name">HostInfo</a><br />
      Class implementing resolver and hostname functionality
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.utils.FileLock-class.html" class="summary-name">FileLock</a><br />
      Utility class for file locks.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.utils.SignalHandler-class.html" class="summary-name">SignalHandler</a><br />
      Generic signal handler class.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.utils.FieldSet-class.html" class="summary-name">FieldSet</a><br />
      A simple field set.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.utils.RunResult-class.html" 
      class="link">RunResult</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#RunCmd" class="summary-sig-name">RunCmd</a>(<span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">env</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">output</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">cwd</span>=<span class="summary-sig-default">'/'</span>)</span><br />
      Execute a (shell) command.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#RunCmd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#_RunCmdPipe" class="summary-sig-name" onclick="show_private();">_RunCmdPipe</a>(<span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">env</span>,
        <span class="summary-sig-arg">via_shell</span>,
        <span class="summary-sig-arg">cwd</span>)</span><br />
      Run a command and return its output.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#_RunCmdPipe">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#_RunCmdFile" class="summary-sig-name" onclick="show_private();">_RunCmdFile</a>(<span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">env</span>,
        <span class="summary-sig-arg">via_shell</span>,
        <span class="summary-sig-arg">output</span>,
        <span class="summary-sig-arg">cwd</span>)</span><br />
      Run a command and save its output to a file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#_RunCmdFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#RemoveFile" class="summary-sig-name">RemoveFile</a>(<span class="summary-sig-arg">filename</span>)</span><br />
      Remove a file ignoring some errors.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#RemoveFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#RenameFile" class="summary-sig-name">RenameFile</a>(<span class="summary-sig-arg">old</span>,
        <span class="summary-sig-arg">new</span>,
        <span class="summary-sig-arg">mkdir</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">mkdir_mode</span>=<span class="summary-sig-default">0750</span>)</span><br />
      Renames a file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#RenameFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#_FingerprintFile" class="summary-sig-name" onclick="show_private();">_FingerprintFile</a>(<span class="summary-sig-arg">filename</span>)</span><br />
      Compute the fingerprint of a file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#_FingerprintFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#FingerprintFiles" class="summary-sig-name">FingerprintFiles</a>(<span class="summary-sig-arg">files</span>)</span><br />
      Compute fingerprints for a list of files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#FingerprintFiles">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#CheckDict" class="summary-sig-name">CheckDict</a>(<span class="summary-sig-arg">target</span>,
        <span class="summary-sig-arg">template</span>,
        <span class="summary-sig-arg">logname</span>=<span class="summary-sig-default">None</span>)</span><br />
      Ensure a dictionary has a required set of keys.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#CheckDict">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#ForceDictType" class="summary-sig-name">ForceDictType</a>(<span class="summary-sig-arg">target</span>,
        <span class="summary-sig-arg">key_types</span>,
        <span class="summary-sig-arg">allowed_values</span>=<span class="summary-sig-default">None</span>)</span><br />
      Force the values of a dict to have certain types.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#ForceDictType">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#IsProcessAlive" class="summary-sig-name">IsProcessAlive</a>(<span class="summary-sig-arg">pid</span>)</span><br />
      Check if a given pid exists on the system.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#IsProcessAlive">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#ReadPidFile" class="summary-sig-name">ReadPidFile</a>(<span class="summary-sig-arg">pidfile</span>)</span><br />
      Read a pid from a file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#ReadPidFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None or str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#MatchNameComponent" class="summary-sig-name">MatchNameComponent</a>(<span class="summary-sig-arg">key</span>,
        <span class="summary-sig-arg">name_list</span>)</span><br />
      Try to match a name against a list.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#MatchNameComponent">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#ListVolumeGroups" class="summary-sig-name">ListVolumeGroups</a>()</span><br />
      List volume groups and their size</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#ListVolumeGroups">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#BridgeExists" class="summary-sig-name">BridgeExists</a>(<span class="summary-sig-arg">bridge</span>)</span><br />
      Check whether the given bridge exists in the system</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#BridgeExists">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#NiceSort" class="summary-sig-name">NiceSort</a>(<span class="summary-sig-arg">name_list</span>)</span><br />
      Sort a list of strings based on digit and non-digit groupings.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#NiceSort">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#TryConvert" class="summary-sig-name">TryConvert</a>(<span class="summary-sig-arg">fn</span>,
        <span class="summary-sig-arg">val</span>)</span><br />
      Try to convert a value ignoring errors.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#TryConvert">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">a regular expression match object</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#IsValidIP" class="summary-sig-name">IsValidIP</a>(<span class="summary-sig-arg">ip</span>)</span><br />
      Verifies the syntax of an IPv4 address.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#IsValidIP">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#IsValidShellParam" class="summary-sig-name">IsValidShellParam</a>(<span class="summary-sig-arg">word</span>)</span><br />
      Verifies is the given word is safe from the shell's p.o.v.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#IsValidShellParam">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#BuildShellCmd" class="summary-sig-name">BuildShellCmd</a>(<span class="summary-sig-arg">template</span>,
        <span class="summary-sig-arg">*args</span>)</span><br />
      Build a safe shell command line from the given arguments.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#BuildShellCmd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#FormatUnit" class="summary-sig-name">FormatUnit</a>(<span class="summary-sig-arg">value</span>,
        <span class="summary-sig-arg">units</span>)</span><br />
      Formats an incoming number of MiB with the appropriate unit.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#FormatUnit">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#ParseUnit" class="summary-sig-name">ParseUnit</a>(<span class="summary-sig-arg">input_string</span>)</span><br />
      Tries to extract number and scale from the given string.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#ParseUnit">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#AddAuthorizedKey" class="summary-sig-name">AddAuthorizedKey</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">key</span>)</span><br />
      Adds an SSH public key to an authorized_keys file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#AddAuthorizedKey">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#RemoveAuthorizedKey" class="summary-sig-name">RemoveAuthorizedKey</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">key</span>)</span><br />
      Removes an SSH public key from an authorized_keys file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#RemoveAuthorizedKey">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#SetEtcHostsEntry" class="summary-sig-name">SetEtcHostsEntry</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">ip</span>,
        <span class="summary-sig-arg">hostname</span>,
        <span class="summary-sig-arg">aliases</span>)</span><br />
      Sets the name of an IP address and hostname in /etc/hosts.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#SetEtcHostsEntry">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#AddHostToEtcHosts" class="summary-sig-name">AddHostToEtcHosts</a>(<span class="summary-sig-arg">hostname</span>)</span><br />
      Wrapper around SetEtcHostsEntry.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#AddHostToEtcHosts">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#RemoveEtcHostsEntry" class="summary-sig-name">RemoveEtcHostsEntry</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">hostname</span>)</span><br />
      Removes a hostname from /etc/hosts.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#RemoveEtcHostsEntry">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#RemoveHostFromEtcHosts" class="summary-sig-name">RemoveHostFromEtcHosts</a>(<span class="summary-sig-arg">hostname</span>)</span><br />
      Wrapper around RemoveEtcHostsEntry.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#RemoveHostFromEtcHosts">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#CreateBackup" class="summary-sig-name">CreateBackup</a>(<span class="summary-sig-arg">file_name</span>)</span><br />
      Creates a backup of a file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#CreateBackup">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#ShellQuote" class="summary-sig-name">ShellQuote</a>(<span class="summary-sig-arg">value</span>)</span><br />
      Quotes shell argument according to POSIX.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#ShellQuote">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#ShellQuoteArgs" class="summary-sig-name">ShellQuoteArgs</a>(<span class="summary-sig-arg">args</span>)</span><br />
      Quotes a list of shell arguments.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#ShellQuoteArgs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#TcpPing" class="summary-sig-name">TcpPing</a>(<span class="summary-sig-arg">target</span>,
        <span class="summary-sig-arg">port</span>,
        <span class="summary-sig-arg">timeout</span>=<span class="summary-sig-default">10</span>,
        <span class="summary-sig-arg">live_port_needed</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">source</span>=<span class="summary-sig-default">None</span>)</span><br />
      Simple ping implementation using TCP connect(2).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#TcpPing">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">bool</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#OwnIpAddress" class="summary-sig-name">OwnIpAddress</a>(<span class="summary-sig-arg">address</span>)</span><br />
      Check if the current host has the the given IP address.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#OwnIpAddress">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#ListVisibleFiles" class="summary-sig-name">ListVisibleFiles</a>(<span class="summary-sig-arg">path</span>)</span><br />
      Returns a list of visible files in a directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#ListVisibleFiles">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#GetHomeDir" class="summary-sig-name">GetHomeDir</a>(<span class="summary-sig-arg">user</span>,
        <span class="summary-sig-arg">default</span>=<span class="summary-sig-default">None</span>)</span><br />
      Try to get the homedir of the given user.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#GetHomeDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#NewUUID" class="summary-sig-name">NewUUID</a>()</span><br />
      Returns a random UUID.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#NewUUID">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#GenerateSecret" class="summary-sig-name">GenerateSecret</a>()</span><br />
      Generates a random secret.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#GenerateSecret">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#EnsureDirs" class="summary-sig-name">EnsureDirs</a>(<span class="summary-sig-arg">dirs</span>)</span><br />
      Make required directories, if they don't exist.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#EnsureDirs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#ReadFile" class="summary-sig-name">ReadFile</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">size</span>=<span class="summary-sig-default">None</span>)</span><br />
      Reads a file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#ReadFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None or int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#WriteFile" class="summary-sig-name">WriteFile</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">fn</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">data</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">mode</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">uid</span>=<span class="summary-sig-default">-1</span>,
        <span class="summary-sig-arg">gid</span>=<span class="summary-sig-default">-1</span>,
        <span class="summary-sig-arg">atime</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">mtime</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">close</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">dry_run</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">backup</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">prewrite</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">postwrite</span>=<span class="summary-sig-default">None</span>)</span><br />
      (Over)write a file atomically.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#WriteFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#FirstFree" class="summary-sig-name">FirstFree</a>(<span class="summary-sig-arg">seq</span>,
        <span class="summary-sig-arg">base</span>=<span class="summary-sig-default">0</span>)</span><br />
      Returns the first non-existing integer from seq.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#FirstFree">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="all"></a><span class="summary-sig-name">all</span>(<span class="summary-sig-arg">seq</span>,
        <span class="summary-sig-arg">pred</span>=<span class="summary-sig-default">bool</span>)</span><br />
      Returns True if pred(x) is True for every element in the iterable</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#all">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="any"></a><span class="summary-sig-name">any</span>(<span class="summary-sig-arg">seq</span>,
        <span class="summary-sig-arg">pred</span>=<span class="summary-sig-default">bool</span>)</span><br />
      Returns True if pred(x) is True for at least one element in the 
      iterable</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#any">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#UniqueSequence" class="summary-sig-name">UniqueSequence</a>(<span class="summary-sig-arg">seq</span>)</span><br />
      Returns a list with unique elements.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#UniqueSequence">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#IsValidMac" class="summary-sig-name">IsValidMac</a>(<span class="summary-sig-arg">mac</span>)</span><br />
      Predicate to check if a MAC address is valid.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#IsValidMac">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#TestDelay" class="summary-sig-name">TestDelay</a>(<span class="summary-sig-arg">duration</span>)</span><br />
      Sleep for a fixed amount of time.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#TestDelay">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#_CloseFDNoErr" class="summary-sig-name" onclick="show_private();">_CloseFDNoErr</a>(<span class="summary-sig-arg">fd</span>,
        <span class="summary-sig-arg">retries</span>=<span class="summary-sig-default">5</span>)</span><br />
      Close a file descriptor ignoring errors.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#_CloseFDNoErr">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#CloseFDs" class="summary-sig-name">CloseFDs</a>(<span class="summary-sig-arg">noclose_fds</span>=<span class="summary-sig-default">None</span>)</span><br />
      Close file descriptors.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#CloseFDs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#Daemonize" class="summary-sig-name">Daemonize</a>(<span class="summary-sig-arg">logfile</span>)</span><br />
      Daemonize the current process.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#Daemonize">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#DaemonPidFileName" class="summary-sig-name">DaemonPidFileName</a>(<span class="summary-sig-arg">name</span>)</span><br />
      Compute a ganeti pid file absolute path</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#DaemonPidFileName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#WritePidFile" class="summary-sig-name">WritePidFile</a>(<span class="summary-sig-arg">name</span>)</span><br />
      Write the current process pidfile.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#WritePidFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#RemovePidFile" class="summary-sig-name">RemovePidFile</a>(<span class="summary-sig-arg">name</span>)</span><br />
      Remove the current process pidfile.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#RemovePidFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#KillProcess" class="summary-sig-name">KillProcess</a>(<span class="summary-sig-arg">pid</span>,
        <span class="summary-sig-arg">signal_</span>=<span class="summary-sig-default">signal.SIGTERM</span>,
        <span class="summary-sig-arg">timeout</span>=<span class="summary-sig-default">30</span>,
        <span class="summary-sig-arg">waitpid</span>=<span class="summary-sig-default">False</span>)</span><br />
      Kill a process given by its pid.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#KillProcess">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str or None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#FindFile" class="summary-sig-name">FindFile</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">search_path</span>,
        <span class="summary-sig-arg">test</span>=<span class="summary-sig-default">os.path.exists</span>)</span><br />
      Look for a filesystem object in a given path.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#FindFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None or str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#CheckVolumeGroupSize" class="summary-sig-name">CheckVolumeGroupSize</a>(<span class="summary-sig-arg">vglist</span>,
        <span class="summary-sig-arg">vgname</span>,
        <span class="summary-sig-arg">minsize</span>)</span><br />
      Checks if the volume group list is valid.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#CheckVolumeGroupSize">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#SplitTime" class="summary-sig-name">SplitTime</a>(<span class="summary-sig-arg">value</span>)</span><br />
      Splits time as floating point number into a tuple.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#SplitTime">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#MergeTime" class="summary-sig-name">MergeTime</a>(<span class="summary-sig-arg">timetuple</span>)</span><br />
      Merges a tuple into time as a floating point number.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#MergeTime">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#GetNodeDaemonPort" class="summary-sig-name">GetNodeDaemonPort</a>()</span><br />
      Get the node daemon port for this cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#GetNodeDaemonPort">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#SetupLogging" class="summary-sig-name">SetupLogging</a>(<span class="summary-sig-arg">logfile</span>,
        <span class="summary-sig-arg">debug</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">stderr_logging</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">program</span>=<span class="summary-sig-default">&quot;&quot;</span>,
        <span class="summary-sig-arg">multithreaded</span>=<span class="summary-sig-default">False</span>)</span><br />
      Configures the logging module.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#SetupLogging">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#TailFile" class="summary-sig-name">TailFile</a>(<span class="summary-sig-arg">fname</span>,
        <span class="summary-sig-arg">lines</span>=<span class="summary-sig-default">20</span>)</span><br />
      Return the last lines from a file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#TailFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#SafeEncode" class="summary-sig-name">SafeEncode</a>(<span class="summary-sig-arg">text</span>)</span><br />
      Return a 'safe' version of a source string.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#SafeEncode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#CommaJoin" class="summary-sig-name">CommaJoin</a>(<span class="summary-sig-arg">names</span>)</span><br />
      Nicely join a set of identifiers.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#CommaJoin">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#LockedMethod" class="summary-sig-name">LockedMethod</a>(<span class="summary-sig-arg">fn</span>)</span><br />
      Synchronized object access decorator.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#LockedMethod">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils-module.html#LockFile" class="summary-sig-name">LockFile</a>(<span class="summary-sig-arg">fd</span>)</span><br />
      Locks a file using POSIX locks.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils-pysrc.html#LockFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="sha1"></a><span class="summary-name">sha1</span> = <code title="sha.new">sha.new</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_locksheld"></a><span class="summary-name">_locksheld</span> = <code title="[]">[]</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_re_shell_unquoted"></a><span class="summary-name">_re_shell_unquoted</span> = <code title="re.compile('^[-.,=:/_+@A-Za-z0-9]+$')">re.compile('^[-.,=:/_+@A-Za-z0-9]+$')</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="debug_locks"></a><span class="summary-name">debug_locks</span> = <code title="False">False</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="no_fork"></a><span class="summary-name">no_fork</span> = <code title="False">False</code>
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <span title="os">os</span>,
  <span title="time">time</span>,
  <span title="subprocess">subprocess</span>,
  <span title="re">re</span>,
  <span title="socket">socket</span>,
  <span title="tempfile">tempfile</span>,
  <span title="shutil">shutil</span>,
  <span title="errno">errno</span>,
  <span title="pwd">pwd</span>,
  <span title="itertools">itertools</span>,
  <span title="select">select</span>,
  <span title="fcntl">fcntl</span>,
  <span title="resource">resource</span>,
  <span title="logging">logging</span>,
  <span title="signal">signal</span>,
  <span title="cStringIO.StringIO">StringIO</span>,
  <span title="sha">sha</span>,
  <a href="ganeti.errors-module.html" title="ganeti.errors">errors</a>,
  <a href="ganeti.constants-module.html" title="ganeti.constants">constants</a>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="RunCmd"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RunCmd</span>(<span class="sig-arg">cmd</span>,
        <span class="sig-arg">env</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">output</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">cwd</span>=<span class="sig-default">'/'</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#RunCmd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Execute a (shell) command.</p>
  <p>The command should not read from its standard input, as it will be 
  closed.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cmd</code></strong> (string or list) - Command to run</li>
        <li><strong class="pname"><code>env</code></strong> (dict) - Additional environment</li>
        <li><strong class="pname"><code>output</code></strong> (str) - if desired, the output of the command can be saved in a file 
          instead of the RunResult instance; this parameter denotes the 
          file name (if not None)</li>
        <li><strong class="pname"><code>cwd</code></strong> (string) - if specified, will be used as the working directory for the 
          command; the default will be /</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.utils.RunResult-class.html" 
      class="link">RunResult</a></dt>
        <dd>RunResult instance</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - if we call this when forks are disabled</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_RunCmdPipe"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RunCmdPipe</span>(<span class="sig-arg">cmd</span>,
        <span class="sig-arg">env</span>,
        <span class="sig-arg">via_shell</span>,
        <span class="sig-arg">cwd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#_RunCmdPipe">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Run a command and return its output.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cmd</code></strong> (string or list) - Command to run</li>
        <li><strong class="pname"><code>env</code></strong> (dict) - The environment to use</li>
        <li><strong class="pname"><code>via_shell</code></strong> (bool) - if we should run via the shell</li>
        <li><strong class="pname"><code>cwd</code></strong> (string) - the working directory for the program</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>(out, err, status)</dd>
  </dl>
</td></tr></table>
</div>
<a name="_RunCmdFile"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RunCmdFile</span>(<span class="sig-arg">cmd</span>,
        <span class="sig-arg">env</span>,
        <span class="sig-arg">via_shell</span>,
        <span class="sig-arg">output</span>,
        <span class="sig-arg">cwd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#_RunCmdFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Run a command and save its output to a file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cmd</code></strong> (string or list) - Command to run</li>
        <li><strong class="pname"><code>env</code></strong> (dict) - The environment to use</li>
        <li><strong class="pname"><code>via_shell</code></strong> (bool) - if we should run via the shell</li>
        <li><strong class="pname"><code>output</code></strong> (str) - the filename in which to save the output</li>
        <li><strong class="pname"><code>cwd</code></strong> (string) - the working directory for the program</li>
    </ul></dd>
    <dt>Returns: int</dt>
        <dd>the exit status</dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveFile</span>(<span class="sig-arg">filename</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#RemoveFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove a file ignoring some errors.</p>
  <p>Remove a file, ignoring non-existing ones or directories. Other errors
  are passed.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>filename</code></strong> (str) - the file to be removed</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RenameFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RenameFile</span>(<span class="sig-arg">old</span>,
        <span class="sig-arg">new</span>,
        <span class="sig-arg">mkdir</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">mkdir_mode</span>=<span class="sig-default">0750</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#RenameFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Renames a file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>old</code></strong> (string) - Original path</li>
        <li><strong class="pname"><code>new</code></strong> (string) - New path</li>
        <li><strong class="pname"><code>mkdir</code></strong> (bool) - Whether to create target directory if it doesn't exist</li>
        <li><strong class="pname"><code>mkdir_mode</code></strong> (int) - Mode for newly created directories</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_FingerprintFile"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_FingerprintFile</span>(<span class="sig-arg">filename</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#_FingerprintFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute the fingerprint of a file.</p>
  <p>If the file does not exist, a None will be returned instead.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>filename</code></strong> (str) - the filename to checksum</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the hex digest of the sha checksum of the contents of the file</dd>
  </dl>
</td></tr></table>
</div>
<a name="FingerprintFiles"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FingerprintFiles</span>(<span class="sig-arg">files</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#FingerprintFiles">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute fingerprints for a list of files.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>files</code></strong> (list) - the list of filename to fingerprint</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>a dictionary filename: fingerprint, holding only existing files</dd>
  </dl>
</td></tr></table>
</div>
<a name="CheckDict"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CheckDict</span>(<span class="sig-arg">target</span>,
        <span class="sig-arg">template</span>,
        <span class="sig-arg">logname</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#CheckDict">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Ensure a dictionary has a required set of keys.</p>
  <p>For the given dictionaries <i>target</i> and <i>template</i>, ensure 
  <i>target</i> has all the keys from <i>template</i>. Missing keys are 
  added with values from template.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>target</code></strong> (dict) - the dictionary to update</li>
        <li><strong class="pname"><code>template</code></strong> (dict) - the dictionary holding the default values</li>
        <li><strong class="pname"><code>logname</code></strong> (str or None) - if not None, causes the missing keys to be logged with this name</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ForceDictType"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ForceDictType</span>(<span class="sig-arg">target</span>,
        <span class="sig-arg">key_types</span>,
        <span class="sig-arg">allowed_values</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#ForceDictType">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Force the values of a dict to have certain types.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>target</code></strong> (dict) - the dict to update</li>
        <li><strong class="pname"><code>key_types</code></strong> (dict) - dict mapping target dict keys to types in 
          constants.ENFORCEABLE_TYPES</li>
        <li><strong class="pname"><code>allowed_values</code></strong> (list) - list of specially allowed values</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="IsProcessAlive"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">IsProcessAlive</span>(<span class="sig-arg">pid</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#IsProcessAlive">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if a given pid exists on the system.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>pid</code></strong> (int) - the process ID to check</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>True if the process exists</dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        zombie status is not handled, so zombie processes will be returned 
        as alive
      </p>
</div></td></tr></table>
</div>
<a name="ReadPidFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ReadPidFile</span>(<span class="sig-arg">pidfile</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#ReadPidFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Read a pid from a file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>pidfile</code></strong> (string) - path to the file containing the pid</li>
    </ul></dd>
    <dt>Returns: int</dt>
        <dd>The process id, if the file exists and contains a valid PID, 
          otherwise 0</dd>
  </dl>
</td></tr></table>
</div>
<a name="MatchNameComponent"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MatchNameComponent</span>(<span class="sig-arg">key</span>,
        <span class="sig-arg">name_list</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#MatchNameComponent">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Try to match a name against a list.</p>
  <p>This function will try to match a name like test1 against a list like 
  <code>['test1.example.com', 'test2.example.com', ...]</code>. Against 
  this list, <i>'test1'</i> as well as <i>'test1.example'</i> will match, 
  but not <i>'test1.ex'</i>. A multiple match will be considered as no 
  match at all (e.g. <i>'test1'</i> against <code>['test1.example.com', 
  'test1.example.org']</code>).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>key</code></strong> (str) - the name to be searched</li>
        <li><strong class="pname"><code>name_list</code></strong> (list) - the list of strings against which to search the key</li>
    </ul></dd>
    <dt>Returns: None or str</dt>
        <dd>None if there is no match <i>or</i> if there are multiple 
          matches, otherwise the element from the list which matches</dd>
  </dl>
</td></tr></table>
</div>
<a name="ListVolumeGroups"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ListVolumeGroups</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#ListVolumeGroups">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>List volume groups and their size</p>
  <dl class="fields">
    <dt>Returns: dict</dt>
        <dd>Dictionary with keys volume name and values the size of the 
          volume</dd>
  </dl>
</td></tr></table>
</div>
<a name="BridgeExists"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BridgeExists</span>(<span class="sig-arg">bridge</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#BridgeExists">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check whether the given bridge exists in the system</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>bridge</code></strong> (str) - the bridge name to check</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>True if it does</dd>
  </dl>
</td></tr></table>
</div>
<a name="NiceSort"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">NiceSort</span>(<span class="sig-arg">name_list</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#NiceSort">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Sort a list of strings based on digit and non-digit groupings.</p>
  <p>Given a list of names <code>['a1', 'a10', 'a11', 'a2']</code> this 
  function will sort the list in the logical order <code>['a1', 'a2', 
  'a10', 'a11']</code>.</p>
  <p>The sort algorithm breaks each name in groups of either only-digits or
  no-digits. Only the first eight such groups are considered, and after 
  that we just use what's left of the string.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>name_list</code></strong> (list) - the names to be sorted</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>a copy of the name list sorted with our algorithm</dd>
  </dl>
</td></tr></table>
</div>
<a name="TryConvert"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">TryConvert</span>(<span class="sig-arg">fn</span>,
        <span class="sig-arg">val</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#TryConvert">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Try to convert a value ignoring errors.</p>
  <p>This function tries to apply function <i>fn</i> to <i>val</i>. If no 
  <code>ValueError</code> or <code>TypeError</code> exceptions are raised, 
  it will return the result, else it will return the original value. Any 
  other exceptions are propagated to the caller.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fn</code></strong> (callable) - function to apply to the value</li>
        <li><strong class="pname"><code>val</code></strong> - the value to be converted</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>The converted value if the conversion was successful, otherwise 
          the original value.</dd>
  </dl>
</td></tr></table>
</div>
<a name="IsValidIP"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">IsValidIP</span>(<span class="sig-arg">ip</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#IsValidIP">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies the syntax of an IPv4 address.</p>
  <p>This function checks if the IPv4 address passes is valid or not based 
  on syntax (not IP range, class calculations, etc.).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>ip</code></strong> (str) - the address to be checked</li>
    </ul></dd>
    <dt>Returns: a regular expression match object</dt>
        <dd>a regular expression match object, or None if the address is not 
          valid</dd>
  </dl>
</td></tr></table>
</div>
<a name="IsValidShellParam"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">IsValidShellParam</span>(<span class="sig-arg">word</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#IsValidShellParam">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies is the given word is safe from the shell's p.o.v.</p>
  <p>This means that we can pass this to a command via the shell and be 
  sure that it doesn't alter the command line and is passed as such to the 
  actual command.</p>
  <p>Note that we are overly restrictive here, in order to be on the safe 
  side.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>word</code></strong> (str) - the word to check</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>True if the word is 'safe'</dd>
  </dl>
</td></tr></table>
</div>
<a name="BuildShellCmd"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BuildShellCmd</span>(<span class="sig-arg">template</span>,
        <span class="sig-arg">*args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#BuildShellCmd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Build a safe shell command line from the given arguments.</p>
  <p>This function will check all arguments in the args list so that they 
  are valid shell parameters (i.e. they don't contain shell 
  metacharacters). If everything is ok, it will return the result of 
  template % args.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>template</code></strong> (str) - the string holding the template for the string formatting</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the expanded command line</dd>
  </dl>
</td></tr></table>
</div>
<a name="FormatUnit"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FormatUnit</span>(<span class="sig-arg">value</span>,
        <span class="sig-arg">units</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#FormatUnit">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Formats an incoming number of MiB with the appropriate unit.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>value</code></strong> (int) - integer representing the value in MiB (1048576)</li>
        <li><strong class="pname"><code>units</code></strong> (char) - the type of formatting we should do:
          <ul>
            <li>
              'h' for automatic scaling
            </li>
            <li>
              'm' for MiBs
            </li>
            <li>
              'g' for GiBs
            </li>
            <li>
              't' for TiBs
            </li>
          </ul></li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the formatted value (with suffix)</dd>
  </dl>
</td></tr></table>
</div>
<a name="ParseUnit"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ParseUnit</span>(<span class="sig-arg">input_string</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#ParseUnit">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Tries to extract number and scale from the given string.</p>
  <p>Input must be in the format <code>NUMBER+ [DOT NUMBER+] SPACE* 
  [UNIT]</code>. If no unit is specified, it defaults to MiB. Return value 
  is always an int in MiB.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="AddAuthorizedKey"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddAuthorizedKey</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">key</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#AddAuthorizedKey">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Adds an SSH public key to an authorized_keys file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - path to authorized_keys file</li>
        <li><strong class="pname"><code>key</code></strong> (str) - string containing key</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveAuthorizedKey"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveAuthorizedKey</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">key</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#RemoveAuthorizedKey">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes an SSH public key from an authorized_keys file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - path to authorized_keys file</li>
        <li><strong class="pname"><code>key</code></strong> (str) - string containing key</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="SetEtcHostsEntry"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SetEtcHostsEntry</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">ip</span>,
        <span class="sig-arg">hostname</span>,
        <span class="sig-arg">aliases</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#SetEtcHostsEntry">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Sets the name of an IP address and hostname in /etc/hosts.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - path to the file to modify (usually <code>/etc/hosts</code>)</li>
        <li><strong class="pname"><code>ip</code></strong> (str) - the IP address</li>
        <li><strong class="pname"><code>hostname</code></strong> (str) - the hostname to be added</li>
        <li><strong class="pname"><code>aliases</code></strong> (list) - the list of aliases to add for the hostname</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AddHostToEtcHosts"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddHostToEtcHosts</span>(<span class="sig-arg">hostname</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#AddHostToEtcHosts">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wrapper around SetEtcHostsEntry.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hostname</code></strong> (str) - a hostname that will be resolved and added to <a 
          href="ganeti.constants-module.html#ETC_HOSTS" 
          class="link">constants.ETC_HOSTS</a></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveEtcHostsEntry"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveEtcHostsEntry</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">hostname</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#RemoveEtcHostsEntry">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes a hostname from /etc/hosts.</p>
  <p>IP addresses without names are removed from the file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - path to the file to modify (usually <code>/etc/hosts</code>)</li>
        <li><strong class="pname"><code>hostname</code></strong> (str) - the hostname to be removed</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveHostFromEtcHosts"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveHostFromEtcHosts</span>(<span class="sig-arg">hostname</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#RemoveHostFromEtcHosts">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wrapper around RemoveEtcHostsEntry.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hostname</code></strong> (str) - hostname that will be resolved and its full and shot name will be
          removed from <a href="ganeti.constants-module.html#ETC_HOSTS" 
          class="link">constants.ETC_HOSTS</a></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="CreateBackup"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CreateBackup</span>(<span class="sig-arg">file_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#CreateBackup">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates a backup of a file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - file to be backed up</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the path to the newly created backup</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - for invalid file names</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ShellQuote"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ShellQuote</span>(<span class="sig-arg">value</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#ShellQuote">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Quotes shell argument according to POSIX.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>value</code></strong> (str) - the argument to be quoted</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the quoted value</dd>
  </dl>
</td></tr></table>
</div>
<a name="ShellQuoteArgs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ShellQuoteArgs</span>(<span class="sig-arg">args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#ShellQuoteArgs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Quotes a list of shell arguments.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>args</code></strong> (list) - list of arguments to be quoted</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the quoted arguments concatenated with spaces</dd>
  </dl>
</td></tr></table>
</div>
<a name="TcpPing"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">TcpPing</span>(<span class="sig-arg">target</span>,
        <span class="sig-arg">port</span>,
        <span class="sig-arg">timeout</span>=<span class="sig-default">10</span>,
        <span class="sig-arg">live_port_needed</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">source</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#TcpPing">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Simple ping implementation using TCP connect(2).</p>
  <p>Check if the given IP is reachable by doing attempting a TCP connect 
  to it.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>target</code></strong> (str) - the IP or hostname to ping</li>
        <li><strong class="pname"><code>port</code></strong> (int) - the port to connect to</li>
        <li><strong class="pname"><code>timeout</code></strong> (int) - the timeout on the connection attempt</li>
        <li><strong class="pname"><code>live_port_needed</code></strong> (boolean) - whether a closed port will cause the function to return failure, 
          as if there was a timeout</li>
        <li><strong class="pname"><code>source</code></strong> (str or None) - if specified, will cause the connect to be made from this 
          specific source address; failures to bind other than 
          <code>EADDRNOTAVAIL</code> will be ignored</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="OwnIpAddress"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">OwnIpAddress</span>(<span class="sig-arg">address</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#OwnIpAddress">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if the current host has the the given IP address.</p>
  <p>Currently this is done by TCP-pinging the address from the loopback 
  address.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>address</code></strong> (string) - the address to check</li>
    </ul></dd>
    <dt>Returns: bool</dt>
        <dd>True if we own the address</dd>
  </dl>
</td></tr></table>
</div>
<a name="ListVisibleFiles"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ListVisibleFiles</span>(<span class="sig-arg">path</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#ListVisibleFiles">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a list of visible files in a directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (str) - the directory to enumerate</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>the list of all files not starting with a dot</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetHomeDir"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetHomeDir</span>(<span class="sig-arg">user</span>,
        <span class="sig-arg">default</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#GetHomeDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Try to get the homedir of the given user.</p>
  <p>The user can be passed either as a string (denoting the name) or as an
  integer (denoting the user id). If the user is not found, the 'default' 
  argument is returned, which defaults to None.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="NewUUID"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">NewUUID</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#NewUUID">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a random UUID.</p>
  <dl class="fields">
    <dt>Returns: str</dt>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        This is a Linux-specific method as it uses the /proc filesystem.
      </p>
</div></td></tr></table>
</div>
<a name="GenerateSecret"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenerateSecret</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#GenerateSecret">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generates a random secret.</p>
  <p>This will generate a pseudo-random secret, and return its sha digest 
  (so that it can be used where an ASCII string is needed).</p>
  <dl class="fields">
    <dt>Returns: str</dt>
        <dd>a sha1 hexdigest of a block of 64 random bytes</dd>
  </dl>
</td></tr></table>
</div>
<a name="EnsureDirs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">EnsureDirs</span>(<span class="sig-arg">dirs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#EnsureDirs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Make required directories, if they don't exist.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dirs</code></strong> (list of (string, integer)) - list of tuples (dir_name, dir_mode)</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ReadFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ReadFile</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">size</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#ReadFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Reads a file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>size</code></strong> (None or int) - Read at most size bytes</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the (possibly partial) content of the file</dd>
  </dl>
</td></tr></table>
</div>
<a name="WriteFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">WriteFile</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">fn</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">data</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">mode</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">uid</span>=<span class="sig-default">-1</span>,
        <span class="sig-arg">gid</span>=<span class="sig-default">-1</span>,
        <span class="sig-arg">atime</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">mtime</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">close</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">dry_run</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">backup</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">prewrite</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">postwrite</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#WriteFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>(Over)write a file atomically.</p>
  <p>The file_name and either fn (a function taking one argument, the file 
  descriptor, and which should write the data to it) or data (the contents 
  of the file) must be passed. The other arguments are optional and allow 
  setting the file mode, owner and group, and the mtime/atime of the 
  file.</p>
  <p>If the function doesn't raise an exception, it has succeeded and the 
  target file has the new contents. If the function has raised an 
  exception, an existing target file should be unmodified and the temporary
  file should be removed.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - the target filename</li>
        <li><strong class="pname"><code>fn</code></strong> (callable) - content writing function, called with file descriptor as 
          parameter</li>
        <li><strong class="pname"><code>data</code></strong> (str) - contents of the file</li>
        <li><strong class="pname"><code>mode</code></strong> (int) - file mode</li>
        <li><strong class="pname"><code>uid</code></strong> (int) - the owner of the file</li>
        <li><strong class="pname"><code>gid</code></strong> (int) - the group of the file</li>
        <li><strong class="pname"><code>atime</code></strong> (int) - a custom access time to be set on the file</li>
        <li><strong class="pname"><code>mtime</code></strong> (int) - a custom modification time to be set on the file</li>
        <li><strong class="pname"><code>close</code></strong> (boolean) - whether to close file after writing it</li>
        <li><strong class="pname"><code>prewrite</code></strong> (callable) - function to be called before writing content</li>
        <li><strong class="pname"><code>postwrite</code></strong> (callable) - function to be called after writing content</li>
    </ul></dd>
    <dt>Returns: None or int</dt>
        <dd>None if the 'close' parameter evaluates to True, otherwise the 
          file descriptor</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - if any of the arguments are not valid</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="FirstFree"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FirstFree</span>(<span class="sig-arg">seq</span>,
        <span class="sig-arg">base</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#FirstFree">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns the first non-existing integer from seq.</p>
  <p>The seq argument should be a sorted list of positive integers. The 
  first time the index of an element is smaller than the element value, the
  index will be returned.</p>
  <p>The base argument is used to start at a different offset, i.e. 
  <code>[3, 4, 6]</code> with <i>offset=3</i> will return 5.</p>
  <p>Example: <code>[0, 1, 3]</code> will return <i>2</i>.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>seq</code></strong> (sequence) - the sequence to be analyzed.</li>
        <li><strong class="pname"><code>base</code></strong> (int) - use this value as the base index of the sequence</li>
    </ul></dd>
    <dt>Returns: int</dt>
        <dd>the first non-used index in the sequence</dd>
  </dl>
</td></tr></table>
</div>
<a name="UniqueSequence"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">UniqueSequence</span>(<span class="sig-arg">seq</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#UniqueSequence">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a list with unique elements.</p>
  <p>Element order is preserved.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>seq</code></strong> (sequence) - the sequence with the source elements</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>list of unique elements from seq</dd>
  </dl>
</td></tr></table>
</div>
<a name="IsValidMac"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">IsValidMac</span>(<span class="sig-arg">mac</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#IsValidMac">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Predicate to check if a MAC address is valid.</p>
  <p>Checks whether the supplied MAC address is formally correct, only 
  accepts colon separated format.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>mac</code></strong> (str) - the MAC to be validated</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>True is the MAC seems valid</dd>
  </dl>
</td></tr></table>
</div>
<a name="TestDelay"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">TestDelay</span>(<span class="sig-arg">duration</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#TestDelay">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Sleep for a fixed amount of time.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>duration</code></strong> (float) - the sleep duration</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>False for negative value, True otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="_CloseFDNoErr"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CloseFDNoErr</span>(<span class="sig-arg">fd</span>,
        <span class="sig-arg">retries</span>=<span class="sig-default">5</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#_CloseFDNoErr">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Close a file descriptor ignoring errors.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fd</code></strong> (int) - the file descriptor</li>
        <li><strong class="pname"><code>retries</code></strong> (int) - how many retries to make, in case we get any other error than 
          EBADF</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="CloseFDs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CloseFDs</span>(<span class="sig-arg">noclose_fds</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#CloseFDs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Close file descriptors.</p>
  <p>This closes all file descriptors above 2 (i.e. except 
  stdin/out/err).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>noclose_fds</code></strong> (list or None) - if given, it denotes a list of file descriptor that should not be
          closed</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="Daemonize"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">Daemonize</span>(<span class="sig-arg">logfile</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#Daemonize">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Daemonize the current process.</p>
  <p>This detaches the current process from the controlling terminal and 
  runs it in the background as a daemon.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>logfile</code></strong> (str) - the logfile to which we should redirect stdout/stderr</li>
    </ul></dd>
    <dt>Returns: int</dt>
        <dd>the value zero</dd>
  </dl>
</td></tr></table>
</div>
<a name="DaemonPidFileName"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DaemonPidFileName</span>(<span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#DaemonPidFileName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute a ganeti pid file absolute path</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>name</code></strong> (str) - the daemon name</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the full path to the pidfile corresponding to the given daemon 
          name</dd>
  </dl>
</td></tr></table>
</div>
<a name="WritePidFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">WritePidFile</span>(<span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#WritePidFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Write the current process pidfile.</p>
  <p>The file will be written to <a 
  href="ganeti.constants-module.html#RUN_GANETI_DIR" 
  class="link">constants.RUN_GANETI_DIR</a><i>/name.pid</i></p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>name</code></strong> (str) - the daemon name to use</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.GenericError-class.html">errors.GenericError</a></strong></code> - if the pid file already exists and points to a live process</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RemovePidFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemovePidFile</span>(<span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#RemovePidFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove the current process pidfile.</p>
  <p>Any errors are ignored.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>name</code></strong> (str) - the daemon name used to derive the pidfile name</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="KillProcess"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">KillProcess</span>(<span class="sig-arg">pid</span>,
        <span class="sig-arg">signal_</span>=<span class="sig-default">signal.SIGTERM</span>,
        <span class="sig-arg">timeout</span>=<span class="sig-default">30</span>,
        <span class="sig-arg">waitpid</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#KillProcess">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Kill a process given by its pid.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>pid</code></strong> (int) - The PID to terminate.</li>
        <li><strong class="pname"><code>signal_</code></strong> (int) - The signal to send, by default SIGTERM</li>
        <li><strong class="pname"><code>timeout</code></strong> (int) - The timeout after which, if the process is still alive, a SIGKILL
          will be sent. If not positive, no such checking will be done</li>
        <li><strong class="pname"><code>waitpid</code></strong> (boolean) - If true, we should waitpid on this process after sending signals,
          since it's our own child and otherwise it would remain as zombie</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="FindFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FindFile</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">search_path</span>,
        <span class="sig-arg">test</span>=<span class="sig-default">os.path.exists</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#FindFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Look for a filesystem object in a given path.</p>
  <p>This is an abstract method to search for filesystem object (files, 
  dirs) under a given search path.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>name</code></strong> (str) - the name to look for</li>
        <li><strong class="pname"><code>search_path</code></strong> (str) - location to start at</li>
        <li><strong class="pname"><code>test</code></strong> (callable) - a function taking one argument that should return True if the a 
          given object is valid; the default value is os.path.exists, 
          causing only existing files to be returned</li>
    </ul></dd>
    <dt>Returns: str or None</dt>
        <dd>full path to the object if found, None otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="CheckVolumeGroupSize"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CheckVolumeGroupSize</span>(<span class="sig-arg">vglist</span>,
        <span class="sig-arg">vgname</span>,
        <span class="sig-arg">minsize</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#CheckVolumeGroupSize">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks if the volume group list is valid.</p>
  <p>The function will check if a given volume group is in the list of 
  volume groups and has a minimum size.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>vglist</code></strong> (dict) - dictionary of volume group names and their size</li>
        <li><strong class="pname"><code>vgname</code></strong> (str) - the volume group we should check</li>
        <li><strong class="pname"><code>minsize</code></strong> (int) - the minimum size we accept</li>
    </ul></dd>
    <dt>Returns: None or str</dt>
        <dd>None for success, otherwise the error message</dd>
  </dl>
</td></tr></table>
</div>
<a name="SplitTime"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SplitTime</span>(<span class="sig-arg">value</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#SplitTime">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Splits time as floating point number into a tuple.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>value</code></strong> (int or float) - Time in seconds</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Tuple containing (seconds, microseconds)</dd>
  </dl>
</td></tr></table>
</div>
<a name="MergeTime"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MergeTime</span>(<span class="sig-arg">timetuple</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#MergeTime">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Merges a tuple into time as a floating point number.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>timetuple</code></strong> (tuple) - Time as tuple, (seconds, microseconds)</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Time as a floating point number expressed in seconds</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetNodeDaemonPort"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetNodeDaemonPort</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#GetNodeDaemonPort">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the node daemon port for this cluster.</p>
  <p>Note that this routine does not read a ganeti-specific file, but 
  instead uses <code>socket.getservbyname</code> to allow pre-customization
  of this parameter outside of Ganeti.</p>
  <dl class="fields">
    <dt>Returns: int</dt>
  </dl>
</td></tr></table>
</div>
<a name="SetupLogging"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SetupLogging</span>(<span class="sig-arg">logfile</span>,
        <span class="sig-arg">debug</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">stderr_logging</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">program</span>=<span class="sig-default">&quot;&quot;</span>,
        <span class="sig-arg">multithreaded</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#SetupLogging">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Configures the logging module.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>logfile</code></strong> (str) - the filename to which we should log</li>
        <li><strong class="pname"><code>debug</code></strong> (boolean) - whether to enable debug messages too or only those at 
          <code>INFO</code> and above level</li>
        <li><strong class="pname"><code>stderr_logging</code></strong> (boolean) - whether we should also log to the standard error</li>
        <li><strong class="pname"><code>program</code></strong> (str) - the name under which we should log messages</li>
        <li><strong class="pname"><code>multithreaded</code></strong> (boolean) - if True, will add the thread name to the log file</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'>EnvironmentError</strong></code> - if we can't open the log file and stderr logging is disabled</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="TailFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">TailFile</span>(<span class="sig-arg">fname</span>,
        <span class="sig-arg">lines</span>=<span class="sig-default">20</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#TailFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the last lines from a file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fname</code></strong> - the file name</li>
        <li><strong class="pname"><code>lines</code></strong> (int) - the (maximum) number of lines to return</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        this function will only read and parse the last 4KB of the file; if
        the lines are very long, it could be that less than the requested 
        number of lines are returned
      </p>
</div></td></tr></table>
</div>
<a name="SafeEncode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SafeEncode</span>(<span class="sig-arg">text</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#SafeEncode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return a 'safe' version of a source string.</p>
  <p>This function mangles the input string and returns a version that 
  should be safe to display/encode as ASCII. To this end, we first convert 
  it to ASCII using the 'backslashreplace' encoding which should get rid of
  any non-ASCII chars, and then we process it through a loop copied from 
  the string repr sources in the python; we don't use string_escape anymore
  since that escape single quotes and backslashes too, and that is too 
  much; and that escaping is not stable, i.e. 
  string_escape(string_escape(x)) != string_escape(x).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>text</code></strong> (str or unicode) - input data</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>a safe version of text</dd>
  </dl>
</td></tr></table>
</div>
<a name="CommaJoin"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CommaJoin</span>(<span class="sig-arg">names</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#CommaJoin">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Nicely join a set of identifiers.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>names</code></strong> - set, list or tuple</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>a string with the formatted results</dd>
  </dl>
</td></tr></table>
</div>
<a name="LockedMethod"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">LockedMethod</span>(<span class="sig-arg">fn</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#LockedMethod">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Synchronized object access decorator.</p>
  <p>This decorator is intended to protect access to an object using the 
  object's own lock which is hardcoded to '_lock'.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="LockFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">LockFile</span>(<span class="sig-arg">fd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils-pysrc.html#LockFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Locks a file using POSIX locks.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fd</code></strong> (int) - the file descriptor we need to lock</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Sep  3 12:34:35 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
