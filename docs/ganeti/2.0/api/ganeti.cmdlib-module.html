<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.cmdlib</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        Module&nbsp;cmdlib
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.cmdlib-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module cmdlib</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.cmdlib-pysrc.html">source&nbsp;code</a></span></p>
<p>Module implementing the master-side code.</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LogicalUnit-class.html" class="summary-name">LogicalUnit</a><br />
      Logical Unit base class.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.NoHooksLU-class.html" class="summary-name">NoHooksLU</a><br />
      Simple LU which runs no hooks.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUDestroyCluster-class.html" class="summary-name">LUDestroyCluster</a><br />
      Logical unit for destroying the cluster.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUVerifyCluster-class.html" class="summary-name">LUVerifyCluster</a><br />
      Verifies the cluster status.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUVerifyDisks-class.html" class="summary-name">LUVerifyDisks</a><br />
      Verifies the cluster disks status.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LURepairDiskSizes-class.html" class="summary-name">LURepairDiskSizes</a><br />
      Verifies the cluster disks sizes.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LURenameCluster-class.html" class="summary-name">LURenameCluster</a><br />
      Rename the cluster.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUSetClusterParams-class.html" class="summary-name">LUSetClusterParams</a><br />
      Change the parameters of the cluster.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LURedistributeConfig-class.html" class="summary-name">LURedistributeConfig</a><br />
      Force the redistribution of cluster configuration.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUDiagnoseOS-class.html" class="summary-name">LUDiagnoseOS</a><br />
      Logical unit for OS diagnose/query.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LURemoveNode-class.html" class="summary-name">LURemoveNode</a><br />
      Logical unit for removing a node.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUQueryNodes-class.html" class="summary-name">LUQueryNodes</a><br />
      Logical unit for querying nodes.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUQueryNodeVolumes-class.html" class="summary-name">LUQueryNodeVolumes</a><br />
      Logical unit for getting volumes on node(s).
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUAddNode-class.html" class="summary-name">LUAddNode</a><br />
      Logical unit for adding node to the cluster.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUSetNodeParams-class.html" class="summary-name">LUSetNodeParams</a><br />
      Modifies the parameters of a node.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUQueryClusterInfo-class.html" class="summary-name">LUQueryClusterInfo</a><br />
      Query cluster configuration.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUQueryConfigValues-class.html" class="summary-name">LUQueryConfigValues</a><br />
      Return configuration values.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUActivateInstanceDisks-class.html" class="summary-name">LUActivateInstanceDisks</a><br />
      Bring up an instance's disks.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUDeactivateInstanceDisks-class.html" class="summary-name">LUDeactivateInstanceDisks</a><br />
      Shutdown an instance's disks.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUStartupInstance-class.html" class="summary-name">LUStartupInstance</a><br />
      Starts an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LURebootInstance-class.html" class="summary-name">LURebootInstance</a><br />
      Reboot an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUShutdownInstance-class.html" class="summary-name">LUShutdownInstance</a><br />
      Shutdown an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUReinstallInstance-class.html" class="summary-name">LUReinstallInstance</a><br />
      Reinstall an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LURenameInstance-class.html" class="summary-name">LURenameInstance</a><br />
      Rename an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LURemoveInstance-class.html" class="summary-name">LURemoveInstance</a><br />
      Remove an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUQueryInstances-class.html" class="summary-name">LUQueryInstances</a><br />
      Logical unit for querying instances.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUFailoverInstance-class.html" class="summary-name">LUFailoverInstance</a><br />
      Failover an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUMigrateInstance-class.html" class="summary-name">LUMigrateInstance</a><br />
      Migrate an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUCreateInstance-class.html" class="summary-name">LUCreateInstance</a><br />
      Create an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUConnectConsole-class.html" class="summary-name">LUConnectConsole</a><br />
      Connect to an instance's console.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUReplaceDisks-class.html" class="summary-name">LUReplaceDisks</a><br />
      Replace the disks of an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUGrowDisk-class.html" class="summary-name">LUGrowDisk</a><br />
      Grow a disk of an instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUQueryInstanceData-class.html" class="summary-name">LUQueryInstanceData</a><br />
      Query runtime instance data.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUSetInstanceParams-class.html" class="summary-name">LUSetInstanceParams</a><br />
      Modifies an instances's parameters.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUQueryExports-class.html" class="summary-name">LUQueryExports</a><br />
      Query the exports list
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUExportInstance-class.html" class="summary-name">LUExportInstance</a><br />
      Export an instance to an image in the cluster.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LURemoveExport-class.html" class="summary-name">LURemoveExport</a><br />
      Remove exports related to the named instance.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.TagsLU-class.html" class="summary-name">TagsLU</a><br />
      Generic tags LU.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUGetTags-class.html" class="summary-name">LUGetTags</a><br />
      Returns the tags of a given object.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUSearchTags-class.html" class="summary-name">LUSearchTags</a><br />
      Searches the tags for a given pattern.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUAddTags-class.html" class="summary-name">LUAddTags</a><br />
      Sets a tag on a given object.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUDelTags-class.html" class="summary-name">LUDelTags</a><br />
      Delete a list of tags from a given object.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUTestDelay-class.html" class="summary-name">LUTestDelay</a><br />
      Sleep for a specified amount of time.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.IAllocator-class.html" class="summary-name">IAllocator</a><br />
      IAllocator framework.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.cmdlib.LUTestAllocator-class.html" class="summary-name">LUTestAllocator</a><br />
      Run allocator tests.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_GetWantedNodes" class="summary-sig-name" onclick="show_private();">_GetWantedNodes</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">nodes</span>)</span><br />
      Returns list of checked and expanded node names.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_GetWantedNodes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_GetWantedInstances" class="summary-sig-name" onclick="show_private();">_GetWantedInstances</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instances</span>)</span><br />
      Returns list of checked and expanded instance names.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_GetWantedInstances">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CheckOutputFields" class="summary-sig-name" onclick="show_private();">_CheckOutputFields</a>(<span class="summary-sig-arg">static</span>,
        <span class="summary-sig-arg">dynamic</span>,
        <span class="summary-sig-arg">selected</span>)</span><br />
      Checks whether all selected fields are valid.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckOutputFields">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CheckBooleanOpField" class="summary-sig-name" onclick="show_private();">_CheckBooleanOpField</a>(<span class="summary-sig-arg">op</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Validates boolean opcode parameters.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckBooleanOpField">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CheckNodeOnline" class="summary-sig-name" onclick="show_private();">_CheckNodeOnline</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">node</span>)</span><br />
      Ensure that a given node is online.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckNodeOnline">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CheckNodeNotDrained" class="summary-sig-name" onclick="show_private();">_CheckNodeNotDrained</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">node</span>)</span><br />
      Ensure that a given node is not drained.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckNodeNotDrained">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_BuildInstanceHookEnv" class="summary-sig-name" onclick="show_private();">_BuildInstanceHookEnv</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">primary_node</span>,
        <span class="summary-sig-arg">secondary_nodes</span>,
        <span class="summary-sig-arg">os_type</span>,
        <span class="summary-sig-arg">status</span>,
        <span class="summary-sig-arg">memory</span>,
        <span class="summary-sig-arg">vcpus</span>,
        <span class="summary-sig-arg">nics</span>,
        <span class="summary-sig-arg">disk_template</span>,
        <span class="summary-sig-arg">disks</span>,
        <span class="summary-sig-arg">bep</span>,
        <span class="summary-sig-arg">hvp</span>,
        <span class="summary-sig-arg">hypervisor_name</span>)</span><br />
      Builds instance related env variables for hooks</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_BuildInstanceHookEnv">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_BuildInstanceHookEnvByObject" class="summary-sig-name" onclick="show_private();">_BuildInstanceHookEnvByObject</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">override</span>=<span class="summary-sig-default">None</span>)</span><br />
      Builds instance related env variables for hooks from an object.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_BuildInstanceHookEnvByObject">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_AdjustCandidatePool"></a><span class="summary-sig-name">_AdjustCandidatePool</span>(<span class="summary-sig-arg">lu</span>)</span><br />
      Adjust the candidate pool after node operations.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_AdjustCandidatePool">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_CheckInstanceBridgesExist"></a><span class="summary-sig-name">_CheckInstanceBridgesExist</span>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instance</span>)</span><br />
      Check that the bridges needed by an instance exist.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckInstanceBridgesExist">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_RecursiveCheckIfLVMBased" class="summary-sig-name" onclick="show_private();">_RecursiveCheckIfLVMBased</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Check if the given disk or its children are lvm-based.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_RecursiveCheckIfLVMBased">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_WaitForSync"></a><span class="summary-sig-name">_WaitForSync</span>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">oneshot</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">unlock</span>=<span class="summary-sig-default">False</span>)</span><br />
      Sleep and poll for an instance's disk to sync.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_WaitForSync">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CheckDiskConsistency" class="summary-sig-name" onclick="show_private();">_CheckDiskConsistency</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">dev</span>,
        <span class="summary-sig-arg">node</span>,
        <span class="summary-sig-arg">on_primary</span>,
        <span class="summary-sig-arg">ldisk</span>=<span class="summary-sig-default">False</span>)</span><br />
      Check that mirrors are not degraded.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckDiskConsistency">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_AssembleInstanceDisks" class="summary-sig-name" onclick="show_private();">_AssembleInstanceDisks</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">ignore_secondaries</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">ignore_size</span>=<span class="summary-sig-default">False</span>)</span><br />
      Prepare the block devices for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_AssembleInstanceDisks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_StartInstanceDisks"></a><span class="summary-sig-name">_StartInstanceDisks</span>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">force</span>)</span><br />
      Start the disks of an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_StartInstanceDisks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_SafeShutdownInstanceDisks" class="summary-sig-name" onclick="show_private();">_SafeShutdownInstanceDisks</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instance</span>)</span><br />
      Shutdown block devices of an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_SafeShutdownInstanceDisks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_ShutdownInstanceDisks" class="summary-sig-name" onclick="show_private();">_ShutdownInstanceDisks</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">ignore_primary</span>=<span class="summary-sig-default">False</span>)</span><br />
      Shutdown block devices of an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_ShutdownInstanceDisks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CheckNodeFreeMemory" class="summary-sig-name" onclick="show_private();">_CheckNodeFreeMemory</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">node</span>,
        <span class="summary-sig-arg">reason</span>,
        <span class="summary-sig-arg">requested</span>,
        <span class="summary-sig-arg">hypervisor_name</span>)</span><br />
      Checks if a node has enough free memory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckNodeFreeMemory">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CreateBlockDev" class="summary-sig-name" onclick="show_private();">_CreateBlockDev</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">node</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">device</span>,
        <span class="summary-sig-arg">force_create</span>,
        <span class="summary-sig-arg">info</span>,
        <span class="summary-sig-arg">force_open</span>)</span><br />
      Create a tree of block devices on a given node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CreateBlockDev">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CreateSingleBlockDev" class="summary-sig-name" onclick="show_private();">_CreateSingleBlockDev</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">node</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">device</span>,
        <span class="summary-sig-arg">info</span>,
        <span class="summary-sig-arg">force_open</span>)</span><br />
      Create a single block device on a given node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CreateSingleBlockDev">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_GenerateUniqueNames" class="summary-sig-name" onclick="show_private();">_GenerateUniqueNames</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">exts</span>)</span><br />
      Generate a suitable LV name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_GenerateUniqueNames">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GenerateDRBD8Branch"></a><span class="summary-sig-name">_GenerateDRBD8Branch</span>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">primary</span>,
        <span class="summary-sig-arg">secondary</span>,
        <span class="summary-sig-arg">size</span>,
        <span class="summary-sig-arg">names</span>,
        <span class="summary-sig-arg">iv_name</span>,
        <span class="summary-sig-arg">p_minor</span>,
        <span class="summary-sig-arg">s_minor</span>)</span><br />
      Generate a drbd8 device complete with its children.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_GenerateDRBD8Branch">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GenerateDiskTemplate"></a><span class="summary-sig-name">_GenerateDiskTemplate</span>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">template_name</span>,
        <span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">primary_node</span>,
        <span class="summary-sig-arg">secondary_nodes</span>,
        <span class="summary-sig-arg">disk_info</span>,
        <span class="summary-sig-arg">file_storage_dir</span>,
        <span class="summary-sig-arg">file_driver</span>,
        <span class="summary-sig-arg">base_index</span>)</span><br />
      Generate the entire disk layout for a given template type.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_GenerateDiskTemplate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetInstanceInfoText"></a><span class="summary-sig-name">_GetInstanceInfoText</span>(<span class="summary-sig-arg">instance</span>)</span><br />
      Compute that text that should be added to the disk's metadata.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_GetInstanceInfoText">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CreateDisks" class="summary-sig-name" onclick="show_private();">_CreateDisks</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instance</span>)</span><br />
      Create all disks for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CreateDisks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_RemoveDisks" class="summary-sig-name" onclick="show_private();">_RemoveDisks</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">instance</span>)</span><br />
      Remove all disks for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_RemoveDisks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_ComputeDiskSize"></a><span class="summary-sig-name">_ComputeDiskSize</span>(<span class="summary-sig-arg">disk_template</span>,
        <span class="summary-sig-arg">disks</span>)</span><br />
      Compute disk size requirements in the volume group</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_ComputeDiskSize">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib-module.html#_CheckHVParams" class="summary-sig-name" onclick="show_private();">_CheckHVParams</a>(<span class="summary-sig-arg">lu</span>,
        <span class="summary-sig-arg">nodenames</span>,
        <span class="summary-sig-arg">hvname</span>,
        <span class="summary-sig-arg">hvparams</span>)</span><br />
      Hypervisor parameter validation.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckHVParams">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <span title="os">os</span>,
  <span title="time">time</span>,
  <span title="re">re</span>,
  <span title="platform">platform</span>,
  <span title="logging">logging</span>,
  <span title="copy">copy</span>,
  <a href="ganeti.ssh-module.html" title="ganeti.ssh">ssh</a>,
  <a href="ganeti.utils-module.html" title="ganeti.utils">utils</a>,
  <a href="ganeti.errors-module.html" title="ganeti.errors">errors</a>,
  <a href="ganeti.hypervisor-module.html" title="ganeti.hypervisor">hypervisor</a>,
  <a href="ganeti.locking-module.html" title="ganeti.locking">locking</a>,
  <a href="ganeti.constants-module.html" title="ganeti.constants">constants</a>,
  <a href="ganeti.objects-module.html" title="ganeti.objects">objects</a>,
  <a href="ganeti.serializer-module.html" title="ganeti.serializer">serializer</a>,
  <a href="ganeti.ssconf-module.html" title="ganeti.ssconf">ssconf</a>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_GetWantedNodes"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetWantedNodes</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">nodes</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_GetWantedNodes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns list of checked and expanded node names.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> (<a href="ganeti.cmdlib.LogicalUnit-class.html" 
          class="link">LogicalUnit</a>) - the logical unit on whose behalf we execute</li>
        <li><strong class="pname"><code>nodes</code></strong> (list) - list of node names or None for all nodes</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>the list of nodes, sorted</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'>errors.OpProgrammerError</strong></code> - if the nodes parameter is wrong type</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetWantedInstances"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetWantedInstances</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">instances</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_GetWantedInstances">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns list of checked and expanded instance names.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> (<a href="ganeti.cmdlib.LogicalUnit-class.html" 
          class="link">LogicalUnit</a>) - the logical unit on whose behalf we execute</li>
        <li><strong class="pname"><code>instances</code></strong> (list) - list of instance names or None for all instances</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>the list of instances, sorted</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.OpPrereqError-class.html">errors.OpPrereqError</a></strong></code> - if the instances parameter is wrong type</li>
        <li><code><strong class='fraise'><a href="ganeti.errors.OpPrereqError-class.html">errors.OpPrereqError</a></strong></code> - if any of the passed instances is not found</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckOutputFields"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckOutputFields</span>(<span class="sig-arg">static</span>,
        <span class="sig-arg">dynamic</span>,
        <span class="sig-arg">selected</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckOutputFields">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks whether all selected fields are valid.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>static</code></strong> (<a href="ganeti.utils.FieldSet-class.html" 
          class="link">utils.FieldSet</a>) - static fields set</li>
        <li><strong class="pname"><code>dynamic</code></strong> (<a href="ganeti.utils.FieldSet-class.html" 
          class="link">utils.FieldSet</a>) - dynamic fields set</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckBooleanOpField"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckBooleanOpField</span>(<span class="sig-arg">op</span>,
        <span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckBooleanOpField">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Validates boolean opcode parameters.</p>
  <p>This will ensure that an opcode parameter is either a boolean value, 
  or None (but that it always exists).</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_CheckNodeOnline"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckNodeOnline</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">node</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckNodeOnline">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Ensure that a given node is online.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> - the LU on behalf of which we make the check</li>
        <li><strong class="pname"><code>node</code></strong> - the node to check</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.OpPrereqError-class.html">errors.OpPrereqError</a></strong></code> - if the node is offline</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckNodeNotDrained"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckNodeNotDrained</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">node</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckNodeNotDrained">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Ensure that a given node is not drained.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> - the LU on behalf of which we make the check</li>
        <li><strong class="pname"><code>node</code></strong> - the node to check</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.OpPrereqError-class.html">errors.OpPrereqError</a></strong></code> - if the node is drained</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_BuildInstanceHookEnv"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_BuildInstanceHookEnv</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">primary_node</span>,
        <span class="sig-arg">secondary_nodes</span>,
        <span class="sig-arg">os_type</span>,
        <span class="sig-arg">status</span>,
        <span class="sig-arg">memory</span>,
        <span class="sig-arg">vcpus</span>,
        <span class="sig-arg">nics</span>,
        <span class="sig-arg">disk_template</span>,
        <span class="sig-arg">disks</span>,
        <span class="sig-arg">bep</span>,
        <span class="sig-arg">hvp</span>,
        <span class="sig-arg">hypervisor_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_BuildInstanceHookEnv">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Builds instance related env variables for hooks</p>
  <p>This builds the hook environment from individual variables.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>name</code></strong> (string) - the name of the instance</li>
        <li><strong class="pname"><code>primary_node</code></strong> (string) - the name of the instance's primary node</li>
        <li><strong class="pname"><code>secondary_nodes</code></strong> (list) - list of secondary nodes as strings</li>
        <li><strong class="pname"><code>os_type</code></strong> (string) - the name of the instance's OS</li>
        <li><strong class="pname"><code>status</code></strong> (boolean) - the should_run status of the instance</li>
        <li><strong class="pname"><code>memory</code></strong> (string) - the memory size of the instance</li>
        <li><strong class="pname"><code>vcpus</code></strong> (string) - the count of VCPUs the instance has</li>
        <li><strong class="pname"><code>nics</code></strong> (list) - list of tuples (ip, bridge, mac) representing the NICs the 
          instance  has</li>
        <li><strong class="pname"><code>disk_template</code></strong> (string) - the disk template of the instance</li>
        <li><strong class="pname"><code>disks</code></strong> (list) - the list of (size, mode) pairs</li>
        <li><strong class="pname"><code>bep</code></strong> (dict) - the backend parameters for the instance</li>
        <li><strong class="pname"><code>hvp</code></strong> (dict) - the hypervisor parameters for the instance</li>
        <li><strong class="pname"><code>hypervisor_name</code></strong> (string) - the hypervisor for the instance</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>the hook environment for this instance</dd>
  </dl>
</td></tr></table>
</div>
<a name="_BuildInstanceHookEnvByObject"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_BuildInstanceHookEnvByObject</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">override</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_BuildInstanceHookEnvByObject">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Builds instance related env variables for hooks from an object.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> (<a href="ganeti.cmdlib.LogicalUnit-class.html" 
          class="link">LogicalUnit</a>) - the logical unit on whose behalf we execute</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance for which we should build the environment</li>
        <li><strong class="pname"><code>override</code></strong> (dict) - dictionary with key/values that will override our values</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>the hook environment dictionary</dd>
  </dl>
</td></tr></table>
</div>
<a name="_RecursiveCheckIfLVMBased"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RecursiveCheckIfLVMBased</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_RecursiveCheckIfLVMBased">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if the given disk or its children are lvm-based.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to check</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>boolean indicating whether a LD_LV dev_type was found or not</dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckDiskConsistency"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckDiskConsistency</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">dev</span>,
        <span class="sig-arg">node</span>,
        <span class="sig-arg">on_primary</span>,
        <span class="sig-arg">ldisk</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckDiskConsistency">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check that mirrors are not degraded.</p>
  <p>The ldisk parameter, if True, will change the test from the 
  is_degraded attribute (which represents overall non-ok status for the 
  device(s)) to the ldisk (representing the local storage status).</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_AssembleInstanceDisks"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_AssembleInstanceDisks</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">ignore_secondaries</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">ignore_size</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_AssembleInstanceDisks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Prepare the block devices for an instance.</p>
  <p>This sets up the block devices on all nodes.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> (<a href="ganeti.cmdlib.LogicalUnit-class.html" 
          class="link">LogicalUnit</a>) - the logical unit on whose behalf we execute</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance for whose disks we assemble</li>
        <li><strong class="pname"><code>ignore_secondaries</code></strong> (boolean) - if true, errors on secondary nodes won't result in an error 
          return from the function</li>
        <li><strong class="pname"><code>ignore_size</code></strong> (boolean) - if true, the current known size of the disk will not be used 
          during the disk activation, useful for cases when the size is 
          wrong</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>False if the operation failed, otherwise a list of (host, 
          instance_visible_name, node_visible_name) with the mapping from 
          node devices to instance devices</dd>
  </dl>
</td></tr></table>
</div>
<a name="_SafeShutdownInstanceDisks"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_SafeShutdownInstanceDisks</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_SafeShutdownInstanceDisks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Shutdown block devices of an instance.</p>
  <p>This function checks if an instance is running, before calling 
  _ShutdownInstanceDisks.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_ShutdownInstanceDisks"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_ShutdownInstanceDisks</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">ignore_primary</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_ShutdownInstanceDisks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Shutdown block devices of an instance.</p>
  <p>This does the shutdown on all nodes of the instance.</p>
  <p>If the ignore_primary is false, errors on the primary node are 
  ignored.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_CheckNodeFreeMemory"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckNodeFreeMemory</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">node</span>,
        <span class="sig-arg">reason</span>,
        <span class="sig-arg">requested</span>,
        <span class="sig-arg">hypervisor_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckNodeFreeMemory">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks if a node has enough free memory.</p>
  <p>This function check if a given node has the needed amount of free 
  memory. In case the node has less memory or we cannot get the information
  from the node, this function raise an OpPrereqError exception.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> (<code>LogicalUnit</code>) - a logical unit from which we get configuration data</li>
        <li><strong class="pname"><code>node</code></strong> (<code>str</code>) - the node to check</li>
        <li><strong class="pname"><code>reason</code></strong> (<code>str</code>) - string to use in the error message</li>
        <li><strong class="pname"><code>requested</code></strong> (<code>int</code>) - the amount of memory in MiB to check for</li>
        <li><strong class="pname"><code>hypervisor_name</code></strong> (<code>str</code>) - the hypervisor to ask for memory stats</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.OpPrereqError-class.html">errors.OpPrereqError</a></strong></code> - if the node doesn't have enough memory, or we cannot check the node</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CreateBlockDev"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CreateBlockDev</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">node</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">device</span>,
        <span class="sig-arg">force_create</span>,
        <span class="sig-arg">info</span>,
        <span class="sig-arg">force_open</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CreateBlockDev">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create a tree of block devices on a given node.</p>
  <p>If this device type has to be created on secondaries, create it and 
  all its children.</p>
  <p>If not, just recurse to children keeping the same 'force' value.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> - the lu on whose behalf we execute</li>
        <li><strong class="pname"><code>node</code></strong> - the node on which to create the device</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance which owns the device</li>
        <li><strong class="pname"><code>device</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the device to create</li>
        <li><strong class="pname"><code>force_create</code></strong> (boolean) - whether to force creation of this device; this will be change to 
          True whenever we find a device which has CreateOnSecondary() 
          attribute</li>
        <li><strong class="pname"><code>info</code></strong> - the extra 'metadata' we should attach to the device (this will be
          represented as a LVM tag)</li>
        <li><strong class="pname"><code>force_open</code></strong> (boolean) - this parameter will be passes to the <a 
          href="ganeti.backend-module.html#BlockdevCreate" 
          class="link">backend.BlockdevCreate</a> function where it 
          specifies whether we run on primary or not, and it affects both 
          the child assembly and the device own Open() execution</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CreateSingleBlockDev"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CreateSingleBlockDev</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">node</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">device</span>,
        <span class="sig-arg">info</span>,
        <span class="sig-arg">force_open</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CreateSingleBlockDev">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create a single block device on a given node.</p>
  <p>This will not recurse over children of the device, so they must be 
  created in advance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> - the lu on whose behalf we execute</li>
        <li><strong class="pname"><code>node</code></strong> - the node on which to create the device</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance which owns the device</li>
        <li><strong class="pname"><code>device</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the device to create</li>
        <li><strong class="pname"><code>info</code></strong> - the extra 'metadata' we should attach to the device (this will be
          represented as a LVM tag)</li>
        <li><strong class="pname"><code>force_open</code></strong> (boolean) - this parameter will be passes to the <a 
          href="ganeti.backend-module.html#BlockdevCreate" 
          class="link">backend.BlockdevCreate</a> function where it 
          specifies whether we run on primary or not, and it affects both 
          the child assembly and the device own Open() execution</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GenerateUniqueNames"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GenerateUniqueNames</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">exts</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_GenerateUniqueNames">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generate a suitable LV name.</p>
  <p>This will generate a logical volume name for the given instance.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_CreateDisks"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CreateDisks</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CreateDisks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create all disks for an instance.</p>
  <p>This abstracts away some work from AddInstance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> (<a href="ganeti.cmdlib.LogicalUnit-class.html" 
          class="link">LogicalUnit</a>) - the logical unit on whose behalf we execute</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance whose disks we should create</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>the success of the creation</dd>
  </dl>
</td></tr></table>
</div>
<a name="_RemoveDisks"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RemoveDisks</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_RemoveDisks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove all disks for an instance.</p>
  <p>This abstracts away some work from `AddInstance()` and 
  `RemoveInstance()`. Note that in case some of the devices couldn't be 
  removed, the removal will continue with the other ones (compare with 
  `_CreateDisks()`).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> (<a href="ganeti.cmdlib.LogicalUnit-class.html" 
          class="link">LogicalUnit</a>) - the logical unit on whose behalf we execute</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance whose disks we should remove</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>the success of the removal</dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckHVParams"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckHVParams</span>(<span class="sig-arg">lu</span>,
        <span class="sig-arg">nodenames</span>,
        <span class="sig-arg">hvname</span>,
        <span class="sig-arg">hvparams</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#_CheckHVParams">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Hypervisor parameter validation.</p>
  <p>This function abstract the hypervisor parameter validation to be used 
  in both instance create and instance modify.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lu</code></strong> (<a href="ganeti.cmdlib.LogicalUnit-class.html" 
          class="link">LogicalUnit</a>) - the logical unit for which we check</li>
        <li><strong class="pname"><code>nodenames</code></strong> (list) - the list of nodes on which we should check</li>
        <li><strong class="pname"><code>hvname</code></strong> (string) - the name of the hypervisor we should use</li>
        <li><strong class="pname"><code>hvparams</code></strong> (dict) - the parameters which we need to check</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.OpPrereqError-class.html">errors.OpPrereqError</a></strong></code> - if the parameters are not valid</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Sep  3 12:34:35 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
