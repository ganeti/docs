<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.WConfd.Client</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ganeti-WConfd-Client.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/WConfd/Client.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Ganeti.WConfd.Client</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Generated client functions
</a></li><li><a href="#g:2">Helper functions for creating the client
</a></li><li><a href="#g:3">Helper functions for getting a remote lock
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The Ganeti WConfd client functions.
</p><p>The client functions are automatically generated from Ganeti.WConfd.Core
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:updateNodeGroup">updateNodeGroup</a> :: <a href="Ganeti-Objects.html#t:NodeGroup">NodeGroup</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateNode">updateNode</a> :: <a href="Ganeti-Objects.html#t:Node">Node</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateNetwork">updateNetwork</a> :: <a href="Ganeti-Objects.html#t:Network">Network</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateInstance">updateInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateDisk">updateDisk</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateCluster">updateCluster</a> :: <a href="Ganeti-Objects.html#t:Cluster">Cluster</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:setInstanceStatus">setInstanceStatus</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminState">AdminState</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Bool -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminStateSource">AdminStateSource</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a>)</li><li class="src short"><a href="#v:setInstancePrimaryNode">setInstancePrimaryNode</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:NodeUUID">NodeUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:removeInstanceDisk">removeInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:removeInstance">removeInstance</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:detachInstanceDisk">detachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:attachInstanceDisk">attachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:allocatePort">allocatePort</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int)</li><li class="src short"><a href="#v:addTcpUdpPort">addTcpUdpPort</a> :: Int -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:addInstanceDisk">addInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; Bool -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:addInstance">addInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Bool -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:hasPendingRequest">hasPendingRequest</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:guardedOpportunisticLockUnion">guardedOpportunisticLockUnion</a> :: Int -&gt; <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; [(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)] -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>]</li><li class="src short"><a href="#v:opportunisticLockUnion">opportunisticLockUnion</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; [(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)] -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>]</li><li class="src short"><a href="#v:intersectLocks">intersectLocks</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; [<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>] -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:downGradeLocksLevel">downGradeLocksLevel</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:LockLevel">LockLevel</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:freeLocksLevel">freeLocksLevel</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:LockLevel">LockLevel</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:freeLocks">freeLocks</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:updateLocksWaiting">updateLocksWaiting</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Integer -&gt; <a href="Ganeti-WConfd-Language.html#t:GanetiLockRequest">GanetiLockRequest</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>]</li><li class="src short"><a href="#v:tryUpdateLocks">tryUpdateLocks</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-WConfd-Language.html#t:GanetiLockRequest">GanetiLockRequest</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>]</li><li class="src short"><a href="#v:listLocksWaitingStatus">listLocksWaitingStatus</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ([(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, [(<a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)])], [(Integer, <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>, [<a href="Ganeti-Locking-Allocation.html#t:LockRequest">LockRequest</a> <a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>])])</li><li class="src short"><a href="#v:listAllLocksOwners">listAllLocksOwners</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, [(<a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)])]</li><li class="src short"><a href="#v:listAllLocks">listAllLocks</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>]</li><li class="src short"><a href="#v:listLocks">listLocks</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)]</li><li class="src short"><a href="#v:listReservedIps">listReservedIps</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-WConfd-TempRes.html#t:IPv4Reservation">IPv4Reservation</a>]</li><li class="src short"><a href="#v:commitReleaseTemporaryIp">commitReleaseTemporaryIp</a> :: <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-Objects.html#t:Ip4Address">Ip4Address</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:commitTemporaryIps">commitTemporaryIps</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:generateIp">generateIp</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Objects.html#t:Ip4Address">Ip4Address</a></li><li class="src short"><a href="#v:releaseIp">releaseIp</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-Objects.html#t:Ip4Address">Ip4Address</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:reserveIp">reserveIp</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-Objects.html#t:Ip4Address">Ip4Address</a> -&gt; Bool -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:reserveLV">reserveLV</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Objects-Disk.html#t:LogicalVolume">LogicalVolume</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:generateDRBDSecret">generateDRBDSecret</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Objects-Disk.html#t:DRBDSecret">DRBDSecret</a></li><li class="src short"><a href="#v:generateMAC">generateMAC</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Config.html#t:MAC">MAC</a></li><li class="src short"><a href="#v:reserveMAC">reserveMAC</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Config.html#t:MAC">MAC</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:releaseDRBDMinors">releaseDRBDMinors</a> :: <a href="Ganeti-WConfd-TempRes.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:allocateDRBDMinor">allocateDRBDMinor</a> :: <a href="Ganeti-WConfd-TempRes.html#t:DiskUUID">DiskUUID</a> -&gt; [<a href="Ganeti-WConfd-TempRes.html#t:NodeUUID">NodeUUID</a>] -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-WConfd-TempRes.html#t:DRBDMinor">DRBDMinor</a>]</li><li class="src short"><a href="#v:computeDRBDMap">computeDRBDMap</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-WConfd-TempRes.html#t:DRBDMap">DRBDMap</a></li><li class="src short"><a href="#v:dropAllReservations">dropAllReservations</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:flushConfigGroup">flushConfigGroup</a> :: String -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:flushConfig">flushConfig</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:writeConfigAndUnlock">writeConfigAndUnlock</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool</li><li class="src short"><a href="#v:unlockConfig">unlockConfig</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:lockConfig">lockConfig</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Bool -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a>)</li><li class="src short"><a href="#v:verifyConfig">verifyConfig</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:writeConfig">writeConfig</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:readConfig">readConfig</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a></li><li class="src short"><a href="#v:prepareClusterDestruction">prepareClusterDestruction</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:cleanupLocks">cleanupLocks</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()</li><li class="src short"><a href="#v:echo">echo</a> :: String -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> String</li><li class="src short"><a href="#v:wconfdConnectConfig">wconfdConnectConfig</a> :: <a href="Ganeti-UDSServer.html#t:ConnectConfig">ConnectConfig</a></li><li class="src short"><a href="#v:getWConfdClient">getWConfdClient</a> :: FilePath -&gt; IO <a href="Ganeti-UDSServer.html#t:Client">Client</a></li><li class="src short"><a href="#v:waitLockConfig">waitLockConfig</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Bool -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a></li><li class="src short"><a href="#v:withLockedConfig">withLockedConfig</a> ::  <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Bool -&gt; (<a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> a) -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> a</li></ul></div><div id="interface"><h1 id="g:1">Generated client functions
</h1><div class="top"><p class="src"><a name="v:updateNodeGroup" class="def">updateNodeGroup</a> :: <a href="Ganeti-Objects.html#t:NodeGroup">NodeGroup</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/Client.html#updateNodeGroup" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:updateNode" class="def">updateNode</a> :: <a href="Ganeti-Objects.html#t:Node">Node</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/Client.html#updateNode" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:updateNetwork" class="def">updateNetwork</a> :: <a href="Ganeti-Objects.html#t:Network">Network</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/Client.html#updateNetwork" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:updateInstance" class="def">updateInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/Client.html#updateInstance" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:updateDisk" class="def">updateDisk</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/Client.html#updateDisk" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:updateCluster" class="def">updateCluster</a> :: <a href="Ganeti-Objects.html#t:Cluster">Cluster</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/Client.html#updateCluster" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:setInstanceStatus" class="def">setInstanceStatus</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminState">AdminState</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Bool -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminStateSource">AdminStateSource</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a>)<a href="Ganeti/WConfd/Client.html#setInstanceStatus" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:setInstancePrimaryNode" class="def">setInstancePrimaryNode</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:NodeUUID">NodeUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#setInstancePrimaryNode" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:removeInstanceDisk" class="def">removeInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#removeInstanceDisk" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:removeInstance" class="def">removeInstance</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#removeInstance" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:detachInstanceDisk" class="def">detachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#detachInstanceDisk" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:attachInstanceDisk" class="def">attachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#attachInstanceDisk" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:allocatePort" class="def">allocatePort</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int)<a href="Ganeti/WConfd/Client.html#allocatePort" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:addTcpUdpPort" class="def">addTcpUdpPort</a> :: Int -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#addTcpUdpPort" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:addInstanceDisk" class="def">addInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; Bool -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#addInstanceDisk" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:addInstance" class="def">addInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Bool -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#addInstance" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:hasPendingRequest" class="def">hasPendingRequest</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#hasPendingRequest" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:guardedOpportunisticLockUnion" class="def">guardedOpportunisticLockUnion</a> :: Int -&gt; <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; [(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)] -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>]<a href="Ganeti/WConfd/Client.html#guardedOpportunisticLockUnion" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:opportunisticLockUnion" class="def">opportunisticLockUnion</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; [(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)] -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>]<a href="Ganeti/WConfd/Client.html#opportunisticLockUnion" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:intersectLocks" class="def">intersectLocks</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; [<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>] -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#intersectLocks" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:downGradeLocksLevel" class="def">downGradeLocksLevel</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:LockLevel">LockLevel</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#downGradeLocksLevel" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:freeLocksLevel" class="def">freeLocksLevel</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:LockLevel">LockLevel</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#freeLocksLevel" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:freeLocks" class="def">freeLocks</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#freeLocks" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:updateLocksWaiting" class="def">updateLocksWaiting</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Integer -&gt; <a href="Ganeti-WConfd-Language.html#t:GanetiLockRequest">GanetiLockRequest</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>]<a href="Ganeti/WConfd/Client.html#updateLocksWaiting" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:tryUpdateLocks" class="def">tryUpdateLocks</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-WConfd-Language.html#t:GanetiLockRequest">GanetiLockRequest</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>]<a href="Ganeti/WConfd/Client.html#tryUpdateLocks" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:listLocksWaitingStatus" class="def">listLocksWaitingStatus</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ([(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, [(<a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)])], [(Integer, <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>, [<a href="Ganeti-Locking-Allocation.html#t:LockRequest">LockRequest</a> <a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>])])<a href="Ganeti/WConfd/Client.html#listLocksWaitingStatus" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:listAllLocksOwners" class="def">listAllLocksOwners</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, [(<a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)])]<a href="Ganeti/WConfd/Client.html#listAllLocksOwners" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:listAllLocks" class="def">listAllLocks</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>]<a href="Ganeti/WConfd/Client.html#listAllLocks" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:listLocks" class="def">listLocks</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [(<a href="Ganeti-Locking-Locks.html#t:GanetiLocks">GanetiLocks</a>, <a href="Ganeti-Locking-Allocation.html#t:OwnerState">OwnerState</a>)]<a href="Ganeti/WConfd/Client.html#listLocks" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:listReservedIps" class="def">listReservedIps</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-WConfd-TempRes.html#t:IPv4Reservation">IPv4Reservation</a>]<a href="Ganeti/WConfd/Client.html#listReservedIps" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:commitReleaseTemporaryIp" class="def">commitReleaseTemporaryIp</a> :: <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-Objects.html#t:Ip4Address">Ip4Address</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#commitReleaseTemporaryIp" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:commitTemporaryIps" class="def">commitTemporaryIps</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#commitTemporaryIps" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:generateIp" class="def">generateIp</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Objects.html#t:Ip4Address">Ip4Address</a><a href="Ganeti/WConfd/Client.html#generateIp" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:releaseIp" class="def">releaseIp</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-Objects.html#t:Ip4Address">Ip4Address</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#releaseIp" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:reserveIp" class="def">reserveIp</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-Objects.html#t:Ip4Address">Ip4Address</a> -&gt; Bool -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#reserveIp" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:reserveLV" class="def">reserveLV</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Objects-Disk.html#t:LogicalVolume">LogicalVolume</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#reserveLV" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:generateDRBDSecret" class="def">generateDRBDSecret</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Objects-Disk.html#t:DRBDSecret">DRBDSecret</a><a href="Ganeti/WConfd/Client.html#generateDRBDSecret" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:generateMAC" class="def">generateMAC</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-WConfd-TempRes.html#t:NetworkUUID">NetworkUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Config.html#t:MAC">MAC</a><a href="Ganeti/WConfd/Client.html#generateMAC" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:reserveMAC" class="def">reserveMAC</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Config.html#t:MAC">MAC</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#reserveMAC" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:releaseDRBDMinors" class="def">releaseDRBDMinors</a> :: <a href="Ganeti-WConfd-TempRes.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#releaseDRBDMinors" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:allocateDRBDMinor" class="def">allocateDRBDMinor</a> :: <a href="Ganeti-WConfd-TempRes.html#t:DiskUUID">DiskUUID</a> -&gt; [<a href="Ganeti-WConfd-TempRes.html#t:NodeUUID">NodeUUID</a>] -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> [<a href="Ganeti-WConfd-TempRes.html#t:DRBDMinor">DRBDMinor</a>]<a href="Ganeti/WConfd/Client.html#allocateDRBDMinor" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:computeDRBDMap" class="def">computeDRBDMap</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-WConfd-TempRes.html#t:DRBDMap">DRBDMap</a><a href="Ganeti/WConfd/Client.html#computeDRBDMap" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:dropAllReservations" class="def">dropAllReservations</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#dropAllReservations" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:flushConfigGroup" class="def">flushConfigGroup</a> :: String -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#flushConfigGroup" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:flushConfig" class="def">flushConfig</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#flushConfig" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:writeConfigAndUnlock" class="def">writeConfigAndUnlock</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> Bool<a href="Ganeti/WConfd/Client.html#writeConfigAndUnlock" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:unlockConfig" class="def">unlockConfig</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#unlockConfig" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:lockConfig" class="def">lockConfig</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Bool -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a>)<a href="Ganeti/WConfd/Client.html#lockConfig" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:verifyConfig" class="def">verifyConfig</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#verifyConfig" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:writeConfig" class="def">writeConfig</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#writeConfig" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:readConfig" class="def">readConfig</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a><a href="Ganeti/WConfd/Client.html#readConfig" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:prepareClusterDestruction" class="def">prepareClusterDestruction</a> :: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#prepareClusterDestruction" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:cleanupLocks" class="def">cleanupLocks</a> :: <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> ()<a href="Ganeti/WConfd/Client.html#cleanupLocks" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:echo" class="def">echo</a> :: String -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> String<a href="Ganeti/WConfd/Client.html#echo" class="link">Source</a></p></div><h1 id="g:2">Helper functions for creating the client
</h1><div class="top"><p class="src"><a name="v:wconfdConnectConfig" class="def">wconfdConnectConfig</a> :: <a href="Ganeti-UDSServer.html#t:ConnectConfig">ConnectConfig</a><a href="Ganeti/WConfd/Client.html#wconfdConnectConfig" class="link">Source</a></p><div class="doc"><p>The default WConfd client configuration
</p></div></div><div class="top"><p class="src"><a name="v:getWConfdClient" class="def">getWConfdClient</a> :: FilePath -&gt; IO <a href="Ganeti-UDSServer.html#t:Client">Client</a><a href="Ganeti/WConfd/Client.html#getWConfdClient" class="link">Source</a></p><div class="doc"><p>Given a socket path, creates a WConfd client with the default
 configuration and timeout.
</p></div></div><h1 id="g:3">Helper functions for getting a remote lock
</h1><div class="top"><p class="src"><a name="v:waitLockConfig" class="def">waitLockConfig</a><a href="Ganeti/WConfd/Client.html#waitLockConfig" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>whether the lock shall be in shared mode
</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> <a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Calls the <code><a href="Ganeti-WConfd-Client.html#v:lockConfig">lockConfig</a></code> RPC until the lock is obtained.
</p></div></div><div class="top"><p class="src"><a name="v:withLockedConfig" class="def">withLockedConfig</a><a href="Ganeti/WConfd/Client.html#withLockedConfig" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>whether the lock shall be in shared mode
</p></td></tr><tr><td class="src">-&gt; (<a href="Ganeti-Objects.html#t:ConfigData">ConfigData</a> -&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> a)</td><td class="doc"><p>action to run
</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-THH-HsRPC.html#t:RpcClientMonad">RpcClientMonad</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Calls the <code><a href="Ganeti-WConfd-Client.html#v:lockConfig">lockConfig</a></code> RPC until the lock is obtained,
 runs a function on the obtained config, and calls <code><a href="Ganeti-WConfd-Client.html#v:unlockConfig">unlockConfig</a></code>.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>