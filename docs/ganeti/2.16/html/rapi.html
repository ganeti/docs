<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ganeti remote API &mdash; Ganeti 2.16.2 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.16.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ganeti 2.16.2 documentation" href="index.html" />
    <link rel="next" title="Security in Ganeti" href="security.html" />
    <link rel="prev" title="OVF converter" href="ovfconverter.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="security.html" title="Security in Ganeti"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="ovfconverter.html" title="OVF converter"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Ganeti 2.16.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ganeti-remote-api">
<h1><a class="toc-backref" href="#id80">Ganeti remote API</a><a class="headerlink" href="#ganeti-remote-api" title="Permalink to this headline">Â¶</a></h1>
<p>Documents Ganeti version 2.16</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#ganeti-remote-api" id="id80">Ganeti remote API</a><ul>
<li><a class="reference internal" href="#introduction" id="id81">Introduction</a></li>
<li><a class="reference internal" href="#users-and-passwords" id="id82">Users and passwords</a></li>
<li><a class="reference internal" href="#protocol" id="id83">Protocol</a><ul>
<li><a class="reference internal" href="#a-note-on-json-as-used-by-rapi" id="id84">A note on JSON as used by RAPI</a></li>
</ul>
</li>
<li><a class="reference internal" href="#put-or-post" id="id85">PUT or POST?</a></li>
<li><a class="reference internal" href="#generic-parameter-types" id="id86">Generic parameter types</a><ul>
<li><a class="reference internal" href="#bool" id="id87"><code class="docutils literal"><span class="pre">bool</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#generic-parameters" id="id88">Generic parameters</a><ul>
<li><a class="reference internal" href="#bulk" id="id89"><code class="docutils literal"><span class="pre">bulk</span></code></a></li>
<li><a class="reference internal" href="#dry-run" id="id90"><code class="docutils literal"><span class="pre">dry-run</span></code></a></li>
<li><a class="reference internal" href="#force" id="id91"><code class="docutils literal"><span class="pre">force</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#parameter-details" id="id92">Parameter details</a><ul>
<li><a class="reference internal" href="#ipolicy" id="id93"><code class="docutils literal"><span class="pre">ipolicy</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage-examples" id="id94">Usage examples</a><ul>
<li><a class="reference internal" href="#ganeti-rapi-client" id="id95">Ganeti RAPI client</a></li>
<li><a class="reference internal" href="#shell" id="id96">Shell</a></li>
<li><a class="reference internal" href="#python" id="id97">Python</a></li>
<li><a class="reference internal" href="#javascript" id="id98">JavaScript</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resources" id="id99">Resources</a><ul>
<li><a class="reference internal" href="#id2" id="id100"><code class="docutils literal"><span class="pre">/</span></code></a></li>
<li><a class="reference internal" href="#id3" id="id101"><code class="docutils literal"><span class="pre">/2</span></code></a></li>
<li><a class="reference internal" href="#info" id="id102"><code class="docutils literal"><span class="pre">/2/info</span></code></a><ul>
<li><a class="reference internal" href="#get" id="id103"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#redistribute-config" id="id104"><code class="docutils literal"><span class="pre">/2/redistribute-config</span></code></a><ul>
<li><a class="reference internal" href="#put" id="id105"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#features" id="id106"><code class="docutils literal"><span class="pre">/2/features</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-features-get" id="id107"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#filters" id="id108"><code class="docutils literal"><span class="pre">/2/filters</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-filters-get" id="id109"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#post" id="id110"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#filters-filter-uuid" id="id111"><code class="docutils literal"><span class="pre">/2/filters/[filter_uuid]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-filters-filter-uuid-get" id="id112"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-filters-filter-uuid-put" id="id113"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#delete" id="id114"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#modify" id="id115"><code class="docutils literal"><span class="pre">/2/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-modify-put" id="id116"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups" id="id117"><code class="docutils literal"><span class="pre">/2/groups</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-get" id="id118"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-groups-post" id="id119"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name" id="id120"><code class="docutils literal"><span class="pre">/2/groups/[group_name]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-get" id="id121"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-groups-group-name-delete" id="id122"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name-modify" id="id123"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-modify-put" id="id124"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name-rename" id="id125"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/rename</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-rename-put" id="id126"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name-assign-nodes" id="id127"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/assign-nodes</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-assign-nodes-put" id="id128"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name-tags" id="id129"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-tags-get" id="id130"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-groups-group-name-tags-put" id="id131"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-groups-group-name-tags-delete" id="id132"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks" id="id133"><code class="docutils literal"><span class="pre">/2/networks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-get" id="id134"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-networks-post" id="id135"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name" id="id136"><code class="docutils literal"><span class="pre">/2/networks/[network_name]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-get" id="id137"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-networks-network-name-delete" id="id138"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name-modify" id="id139"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-modify-put" id="id140"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name-connect" id="id141"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/connect</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-connect-put" id="id142"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name-disconnect" id="id143"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/disconnect</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-disconnect-put" id="id144"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name-tags" id="id145"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-tags-get" id="id146"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-networks-network-name-tags-put" id="id147"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-networks-network-name-tags-delete" id="id148"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-multi-alloc" id="id149"><code class="docutils literal"><span class="pre">/2/instances-multi-alloc</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-multi-alloc-post" id="id150"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances" id="id151"><code class="docutils literal"><span class="pre">/2/instances</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-get" id="id152"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-instances-post" id="id153"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name" id="id154"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-get" id="id155"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-delete" id="id156"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-info" id="id157"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/info</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-info-get" id="id158"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-reboot" id="id159"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/reboot</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-reboot-post" id="id160"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-shutdown" id="id161"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/shutdown</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-shutdown-put" id="id162"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-startup" id="id163"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/startup</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-startup-put" id="id164"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-reinstall" id="id165"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/reinstall</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-reinstall-post" id="id166"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-replace-disks" id="id167"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/replace-disks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-replace-disks-post" id="id168"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-activate-disks" id="id169"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/activate-disks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-activate-disks-put" id="id170"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-deactivate-disks" id="id171"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/deactivate-disks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-deactivate-disks-put" id="id172"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-recreate-disks" id="id173"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/recreate-disks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-recreate-disks-post" id="id174"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-disk-disk-index-grow" id="id175"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/disk/[disk_index]/grow</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-disk-disk-index-grow-post" id="id176"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-prepare-export" id="id177"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/prepare-export</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-prepare-export-put" id="id178"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-export" id="id179"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/export</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-export-put" id="id180"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-migrate" id="id181"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/migrate</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-migrate-put" id="id182"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-failover" id="id183"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/failover</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-failover-put" id="id184"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-rename" id="id185"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/rename</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-rename-put" id="id186"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-modify" id="id187"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-modify-put" id="id188"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-console" id="id189"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/console</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-console-get" id="id190"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-tags" id="id191"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-tags-get" id="id192"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-tags-put" id="id193"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-tags-delete" id="id194"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#jobs" id="id195"><code class="docutils literal"><span class="pre">/2/jobs</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-jobs-get" id="id196"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#jobs-job-id" id="id197"><code class="docutils literal"><span class="pre">/2/jobs/[job_id]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-jobs-job-id-get" id="id198"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-jobs-job-id-delete" id="id199"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#jobs-job-id-wait" id="id200"><code class="docutils literal"><span class="pre">/2/jobs/[job_id]/wait</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-jobs-job-id-wait-get" id="id201"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes" id="id202"><code class="docutils literal"><span class="pre">/2/nodes</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-get" id="id203"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name" id="id204"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-get" id="id205"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-powercycle" id="id206"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/powercycle</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-powercycle-post" id="id207"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-evacuate" id="id208"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/evacuate</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-evacuate-post" id="id209"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-migrate" id="id210"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/migrate</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-migrate-post" id="id211"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-role" id="id212"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/role</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-role-get" id="id213"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-role-put" id="id214"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-modify" id="id215"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-modify-post" id="id216"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-storage" id="id217"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-storage-get" id="id218"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-storage-modify" id="id219"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-storage-modify-put" id="id220"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-storage-repair" id="id221"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/repair</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-storage-repair-put" id="id222"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-tags" id="id223"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-tags-get" id="id224"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-tags-put" id="id225"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-tags-delete" id="id226"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#query-resource" id="id227"><code class="docutils literal"><span class="pre">/2/query/[resource]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-query-resource-get" id="id228"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-query-resource-put" id="id229"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#query-resource-fields" id="id230"><code class="docutils literal"><span class="pre">/2/query/[resource]/fields</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-query-resource-fields-get" id="id231"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#os" id="id232"><code class="docutils literal"><span class="pre">/2/os</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-os-get" id="id233"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#tags" id="id234"><code class="docutils literal"><span class="pre">/2/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-tags-get" id="id235"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-tags-put" id="id236"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-tags-delete" id="id237"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#version" id="id238"><code class="docutils literal"><span class="pre">/version</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-version-get" id="id239"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#access-permissions" id="id240">Access permissions</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id81">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">Â¶</a></h2>
<p>Ganeti supports a remote API for enable external tools to easily
retrieve information about a cluster&#8217;s state. The remote API daemon,
<em>ganeti-rapi</em>, is automatically started on the master node. By default
it runs on TCP port 5080, but this can be changed either in
<code class="docutils literal"><span class="pre">.../constants.py</span></code> or via the command line parameter <em>-p</em>. SSL mode,
which is used by default, can also be disabled by passing command line
parameters.</p>
</div>
<div class="section" id="users-and-passwords">
<span id="rapi-users"></span><h2><a class="toc-backref" href="#id82">Users and passwords</a><a class="headerlink" href="#users-and-passwords" title="Permalink to this headline">Â¶</a></h2>
<p><code class="docutils literal"><span class="pre">ganeti-rapi</span></code> reads users and passwords from a file (usually
<code class="docutils literal"><span class="pre">/var/lib/ganeti/rapi/users</span></code>) on startup. Changes to the file will be
read automatically.</p>
<p>Lines starting with the hash sign (<code class="docutils literal"><span class="pre">#</span></code>) are treated as comments. Each
line consists of two or three fields separated by whitespace. The first
two fields are for username and password. The third field is optional
and can be used to specify per-user options (separated by comma without
spaces).</p>
<p>Passwords can either be written in clear text or as a hash. Clear text
passwords may not start with an opening brace (<code class="docutils literal"><span class="pre">{</span></code>) or they must be
prefixed with <code class="docutils literal"><span class="pre">{cleartext}</span></code>. To use the hashed form, get the MD5 hash
of the string <code class="docutils literal"><span class="pre">$username:Ganeti</span> <span class="pre">Remote</span> <span class="pre">API:$password</span></code> (e.g. <code class="docutils literal"><span class="pre">echo</span> <span class="pre">-n</span>
<span class="pre">'jack:Ganeti</span> <span class="pre">Remote</span> <span class="pre">API:abc123'</span> <span class="pre">|</span> <span class="pre">openssl</span> <span class="pre">md5</span></code>) <a class="footnote-reference" href="#pwhash" id="id1">[1]</a> and prefix
it with <code class="docutils literal"><span class="pre">{ha1}</span></code>. Using the scheme prefix for all passwords is
recommended. Scheme prefixes are case insensitive.</p>
<p>Options control a user&#8217;s access permissions. The section
<a class="reference internal" href="#rapi-access-permissions"><span>Access permissions</span></a> lists the permissions required for each
resource. If the <code class="docutils literal"><span class="pre">--require-authentication</span></code> command line option is
given to the <code class="docutils literal"><span class="pre">ganeti-rapi</span></code> daemon, all requests require
authentication. Available options:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">write</span></code></dt>
<dd>Enables the user to execute operations modifying the cluster. Implies
<code class="docutils literal"><span class="pre">read</span></code> access. Resources blocking other
operations for read-only access, such as
<a class="reference internal" href="#rapi-res-nodes-node-name-storage-get"><span>/2/nodes/[node_name]/storage</span></a>
or blocking server-side processes, such as
<a class="reference internal" href="#rapi-res-jobs-job-id-wait-get"><span>/2/jobs/[job_id]/wait</span></a>, use
<code class="docutils literal"><span class="pre">write</span></code> to control access to their
<code class="docutils literal"><span class="pre">GET</span></code> method.</dd>
<dt><code class="docutils literal"><span class="pre">read</span></code></dt>
<dd>Allow access to operations querying for information.</dd>
</dl>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre># Give Jack and Fred read-only access
jack abc123
fred {cleartext}foo555

# Give write access to an imaginary instance creation script
autocreator xyz789 write

# Hashed password for Jessica
jessica {HA1}7046452df2cbb530877058712cf17bd4 write

# Monitoring can query for values
monitoring {HA1}ec018ffe72b8e75bb4d508ed5b6d079c read

# A user who can read and write (the former is implied by granting
# write access)
superuser {HA1}ec018ffe72b8e75bb4d508ed5b6d079c read,write
</pre></div>
</div>
<p>When using the RAPI, username and password can be sent to the server
by using the standard HTTP basic access authentication. This means that
for accessing the protected URL <code class="docutils literal"><span class="pre">https://cluster.example.com/resource</span></code>,
the address <code class="docutils literal"><span class="pre">https://username:password&#64;cluster.example.com/resource</span></code> should
be used instead.
Alternatively, the appropriate parameter of your HTTP client
(such as <code class="docutils literal"><span class="pre">-u</span></code> for <code class="docutils literal"><span class="pre">curl</span></code>) can be used.</p>
<table class="docutils footnote" frame="void" id="pwhash" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Using the MD5 hash of username, realm and password is
described in <span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2617.html"><strong>RFC 2617</strong></a> (&#8220;HTTP Authentication&#8221;), sections 3.2.2.2
and 3.3. The reason for using it over another algorithm is forward
compatibility. If <code class="docutils literal"><span class="pre">ganeti-rapi</span></code> were to implement HTTP Digest
authentication in the future, the same hash could be used.
In the current version <code class="docutils literal"><span class="pre">ganeti-rapi</span></code>&#8216;s realm, <code class="docutils literal"><span class="pre">Ganeti</span> <span class="pre">Remote</span>
<span class="pre">API</span></code>, can only be changed by modifying the source code.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="protocol">
<h2><a class="toc-backref" href="#id83">Protocol</a><a class="headerlink" href="#protocol" title="Permalink to this headline">Â¶</a></h2>
<p>The protocol used is <a class="reference external" href="http://www.json.org/">JSON</a> over HTTP designed after the <a class="reference external" href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a> principle.
HTTP Basic authentication as per <span class="target" id="index-1"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2617.html"><strong>RFC 2617</strong></a> is supported.</p>
<p>HTTP requests with a body (e.g. <code class="docutils literal"><span class="pre">PUT</span></code> or <code class="docutils literal"><span class="pre">POST</span></code>) require the request
header <code class="docutils literal"><span class="pre">Content-type</span></code> be set to <code class="docutils literal"><span class="pre">application/json</span></code> (see <span class="target" id="index-2"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a>
(HTTP/1.1), section 7.2.1).</p>
<div class="section" id="a-note-on-json-as-used-by-rapi">
<h3><a class="toc-backref" href="#id84">A note on JSON as used by RAPI</a><a class="headerlink" href="#a-note-on-json-as-used-by-rapi" title="Permalink to this headline">Â¶</a></h3>
<p><a class="reference external" href="http://www.json.org/">JSON</a> as used by Ganeti RAPI does not conform to the specification in
<span class="target" id="index-3"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc4627.html"><strong>RFC 4627</strong></a>. Section 2 defines a JSON text to be either an object
(<code class="docutils literal"><span class="pre">{&quot;key&quot;:</span> <span class="pre">&quot;value&quot;,</span> <span class="pre">â¦}</span></code>) or an array (<code class="docutils literal"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">â¦]</span></code>). In violation
of this RAPI uses plain strings (<code class="docutils literal"><span class="pre">&quot;master-candidate&quot;</span></code>, <code class="docutils literal"><span class="pre">&quot;1234&quot;</span></code>) for
some requests or responses. Changing this now would likely break
existing clients and cause a lot of trouble.</p>
<p>Unlike Python&#8217;s <a class="reference external" href="http://docs.python.org/library/json.html">JSON encoder and decoder</a>, other programming
languages or libraries may only provide a strict implementation, not
allowing plain values. For those, responses can usually be wrapped in an
array whose first element is then used, e.g. the response <code class="docutils literal"><span class="pre">&quot;1234&quot;</span></code>
becomes <code class="docutils literal"><span class="pre">[&quot;1234&quot;]</span></code>. This works equally well for more complex values.
Example in Ruby:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="nb">require</span> <span class="s2">&quot;json&quot;</span>

<span class="c1"># Insert code to get response here</span>
<span class="n">response</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">1234</span><span class="se">\&quot;</span><span class="s2">&quot;</span>

<span class="n">decoded</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;[</span><span class="si">#{</span><span class="n">response</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span>
</pre></div>
</div>
<p>Short of modifying the encoder to allow encoding to a less strict
format, requests will have to be formatted by hand. Newer RAPI requests
already use a dictionary as their input data and shouldn&#8217;t cause any
problems.</p>
</div>
</div>
<div class="section" id="put-or-post">
<h2><a class="toc-backref" href="#id85">PUT or POST?</a><a class="headerlink" href="#put-or-post" title="Permalink to this headline">Â¶</a></h2>
<p>According to <span class="target" id="index-4"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a> the main difference between PUT and POST is
that POST can create new resources but PUT can only create the resource
the URI was pointing to on the PUT request.</p>
<p>Unfortunately, due to historic reasons, the Ganeti RAPI library is not
consistent with this usage, so just use the methods as documented below
for each resource.</p>
<p>For more details have a look in the source code at
<code class="docutils literal"><span class="pre">lib/rapi/rlib2.py</span></code>.</p>
</div>
<div class="section" id="generic-parameter-types">
<h2><a class="toc-backref" href="#id86">Generic parameter types</a><a class="headerlink" href="#generic-parameter-types" title="Permalink to this headline">Â¶</a></h2>
<p>A few generic refered parameter types and the values they allow.</p>
<div class="section" id="bool">
<h3><a class="toc-backref" href="#id87"><code class="docutils literal"><span class="pre">bool</span></code></a><a class="headerlink" href="#bool" title="Permalink to this headline">Â¶</a></h3>
<p>A boolean option will accept <code class="docutils literal"><span class="pre">1</span></code> or <code class="docutils literal"><span class="pre">0</span></code> as numbers but not
i.e. <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code>.</p>
</div>
</div>
<div class="section" id="generic-parameters">
<h2><a class="toc-backref" href="#id88">Generic parameters</a><a class="headerlink" href="#generic-parameters" title="Permalink to this headline">Â¶</a></h2>
<p>A few parameter mean the same thing across all resources which implement
it.</p>
<div class="section" id="bulk">
<h3><a class="toc-backref" href="#id89"><code class="docutils literal"><span class="pre">bulk</span></code></a><a class="headerlink" href="#bulk" title="Permalink to this headline">Â¶</a></h3>
<p>Bulk-mode means that for the resources which usually return just a list
of child resources (e.g. <code class="docutils literal"><span class="pre">/2/instances</span></code> which returns just instance
names), the output will instead contain detailed data for all these
subresources. This is more efficient than query-ing the sub-resources
themselves.</p>
</div>
<div class="section" id="dry-run">
<h3><a class="toc-backref" href="#id90"><code class="docutils literal"><span class="pre">dry-run</span></code></a><a class="headerlink" href="#dry-run" title="Permalink to this headline">Â¶</a></h3>
<p>The boolean <em>dry-run</em> argument, if provided and set, signals to Ganeti
that the job should not be executed, only the pre-execution checks will
be done.</p>
<p>This is useful in trying to determine (without guarantees though, as in
the meantime the cluster state could have changed) if the operation is
likely to succeed or at least start executing.</p>
</div>
<div class="section" id="force">
<h3><a class="toc-backref" href="#id91"><code class="docutils literal"><span class="pre">force</span></code></a><a class="headerlink" href="#force" title="Permalink to this headline">Â¶</a></h3>
<p>Force operation to continue even if it will cause the cluster to become
inconsistent (e.g. because there are not enough master candidates).</p>
</div>
</div>
<div class="section" id="parameter-details">
<h2><a class="toc-backref" href="#id92">Parameter details</a><a class="headerlink" href="#parameter-details" title="Permalink to this headline">Â¶</a></h2>
<p>Some parameters are not straight forward, so we describe them in details
here.</p>
<div class="section" id="ipolicy">
<span id="rapi-ipolicy"></span><h3><a class="toc-backref" href="#id93"><code class="docutils literal"><span class="pre">ipolicy</span></code></a><a class="headerlink" href="#ipolicy" title="Permalink to this headline">Â¶</a></h3>
<p>The instance policy specification is a dict with the following fields:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">minmax</span></code></dt>
<dd><p class="first">A list of dictionaries, each with the following two fields:</p>
<dl class="last docutils">
<dt><code class="docutils literal"><span class="pre">min</span></code>, <code class="docutils literal"><span class="pre">max</span></code></dt>
<dd><p class="first">A sub- <cite>dict</cite> with the following fields, which sets the limit of the
instances:</p>
<dl class="last docutils">
<dt><code class="docutils literal"><span class="pre">memory-size</span></code></dt>
<dd>The size in MiB of the memory used</dd>
<dt><code class="docutils literal"><span class="pre">disk-size</span></code></dt>
<dd>The size in MiB of the disk used</dd>
<dt><code class="docutils literal"><span class="pre">disk-count</span></code></dt>
<dd>The numbers of disks used</dd>
<dt><code class="docutils literal"><span class="pre">cpu-count</span></code></dt>
<dd>The numbers of cpus used</dd>
<dt><code class="docutils literal"><span class="pre">nic-count</span></code></dt>
<dd>The numbers of nics used</dd>
<dt><code class="docutils literal"><span class="pre">spindle-use</span></code></dt>
<dd>The numbers of virtual disk spindles used by this instance. They
are not real in the sense of actual HDD spindles, but useful for
accounting the spindle usage on the residing node</dd>
</dl>
</dd>
</dl>
</dd>
<dt><code class="docutils literal"><span class="pre">std</span></code></dt>
<dd>A sub- <cite>dict</cite> with the same fields as <code class="docutils literal"><span class="pre">min</span></code> and <code class="docutils literal"><span class="pre">max</span></code> above,
which sets the standard values of the instances.</dd>
<dt><code class="docutils literal"><span class="pre">disk-templates</span></code></dt>
<dd>A <cite>list</cite> of disk templates allowed for instances using this policy</dd>
<dt><code class="docutils literal"><span class="pre">vcpu-ratio</span></code></dt>
<dd>Maximum ratio of virtual to physical CPUs (<cite>float</cite>)</dd>
<dt><code class="docutils literal"><span class="pre">spindle-ratio</span></code></dt>
<dd>Maximum ratio of instances to their node&#8217;s <code class="docutils literal"><span class="pre">spindle_count</span></code> (<cite>float</cite>)</dd>
</dl>
</div>
</div>
<div class="section" id="usage-examples">
<h2><a class="toc-backref" href="#id94">Usage examples</a><a class="headerlink" href="#usage-examples" title="Permalink to this headline">Â¶</a></h2>
<p>You can access the API using your favorite programming language as long
as it supports network connections.</p>
<div class="section" id="ganeti-rapi-client">
<h3><a class="toc-backref" href="#id95">Ganeti RAPI client</a><a class="headerlink" href="#ganeti-rapi-client" title="Permalink to this headline">Â¶</a></h3>
<p>Ganeti includes a standalone RAPI client, <code class="docutils literal"><span class="pre">lib/rapi/client.py</span></code>.</p>
</div>
<div class="section" id="shell">
<h3><a class="toc-backref" href="#id96">Shell</a><a class="headerlink" href="#shell" title="Permalink to this headline">Â¶</a></h3>
<p>Using <code class="docutils literal"><span class="pre">wget</span></code>:</p>
<div class="highlight-shell-example"><div class="highlight"><pre>$ <span class="gs">wget</span> <span class="gs">-q</span> <span class="gs">-O</span> <span class="gs">-</span> <span class="gs">https://</span><span class="nv">CLUSTERNAME</span><span class="gs">:5080/2/info</span>
</pre></div>
</div>
<p>or <code class="docutils literal"><span class="pre">curl</span></code>:</p>
<div class="highlight-shell-example"><div class="highlight"><pre>$ <span class="gs">curl</span> <span class="gs">https://</span><span class="nv">CLUSTERNAME</span><span class="gs">:5080/2/info</span>
</pre></div>
</div>
<p>Note: with <code class="docutils literal"><span class="pre">curl</span></code>, the request method (GET, POST, PUT) can be specified
using the <code class="docutils literal"><span class="pre">-X</span></code> command line option, and the username/password can be
specified with the <code class="docutils literal"><span class="pre">-u</span></code> option. In case of POST requests with a body, the
Content-Type can be set to JSON (as per the <a class="reference internal" href="#protocol">Protocol</a> section) using the
parameter <code class="docutils literal"><span class="pre">-H</span> <span class="pre">&quot;Content-Type:</span> <span class="pre">application/json&quot;</span></code>.</p>
</div>
<div class="section" id="python">
<h3><a class="toc-backref" href="#id97">Python</a><a class="headerlink" href="#python" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s1">&#39;https://CLUSTERNAME:5080/2/info&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="javascript">
<h3><a class="toc-backref" href="#id98">JavaScript</a><a class="headerlink" href="#javascript" title="Permalink to this headline">Â¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">While it&#8217;s possible to use JavaScript, it poses several
potential problems, including browser blocking request due to
non-standard ports or different domain names. Fetching the data on
the webserver is easier.</p>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">&#39;https://CLUSTERNAME:5080/2/info&#39;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">info</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">xmlreq</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xmlreq</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">xmlreq</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">xmlreq</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">info</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">xmlreq</span><span class="p">.</span><span class="nx">responseText</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">);</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">info</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Error fetching cluster info&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">xmlreq</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>
<span class="nx">xmlreq</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="nx">url</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xmlreq</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="resources">
<h2><a class="toc-backref" href="#id99">Resources</a><a class="headerlink" href="#resources" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id100"><code class="docutils literal"><span class="pre">/</span></code></a><a class="headerlink" href="#id2" title="Permalink to this headline">Â¶</a></h3>
<p>The root resource. Has no function, but for legacy reasons the <code class="docutils literal"><span class="pre">GET</span></code>
method is supported.</p>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id101"><code class="docutils literal"><span class="pre">/2</span></code></a><a class="headerlink" href="#id3" title="Permalink to this headline">Â¶</a></h3>
<p>Has no function, but for legacy reasons the <code class="docutils literal"><span class="pre">GET</span></code> method is supported.</p>
</div>
<div class="section" id="info">
<span id="rapi-res-info"></span><h3><a class="toc-backref" href="#id102"><code class="docutils literal"><span class="pre">/2/info</span></code></a><a class="headerlink" href="#info" title="Permalink to this headline">Â¶</a></h3>
<p>Cluster information resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-info-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="get">
<span id="rapi-res-info-get"></span><h4><a class="toc-backref" href="#id103"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns cluster information.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;config_version&quot;</span><span class="o">:</span> <span class="mi">2000000</span><span class="p">,</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;cluster&quot;</span><span class="p">,</span>
  <span class="s2">&quot;software_version&quot;</span><span class="o">:</span> <span class="s2">&quot;2.0.0~beta2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;os_api_version&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s2">&quot;export_version&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;candidate_pool_size&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s2">&quot;enabled_hypervisors&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">&quot;fake&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;hvparams&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;fake&quot;</span><span class="o">:</span> <span class="p">{}</span>
   <span class="p">},</span>
  <span class="s2">&quot;default_hypervisor&quot;</span><span class="o">:</span> <span class="s2">&quot;fake&quot;</span><span class="p">,</span>
  <span class="s2">&quot;master&quot;</span><span class="o">:</span> <span class="s2">&quot;node1.example.com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;architecture&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">&quot;64bit&quot;</span><span class="p">,</span>
    <span class="s2">&quot;x86_64&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;protocol_version&quot;</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
  <span class="s2">&quot;beparams&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;default&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;auto_balance&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">&quot;vcpus&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;memory&quot;</span><span class="o">:</span> <span class="mi">128</span>
     <span class="p">}</span>
    <span class="p">},</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="redistribute-config">
<span id="rapi-res-redistribute-config"></span><h3><a class="toc-backref" href="#id104"><code class="docutils literal"><span class="pre">/2/redistribute-config</span></code></a><a class="headerlink" href="#redistribute-config" title="Permalink to this headline">Â¶</a></h3>
<p>Redistribute configuration to all nodes.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-redistribute-config-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="put">
<span id="rapi-res-redistribute-config-put"></span><h4><a class="toc-backref" href="#id105"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#put" title="Permalink to this headline">Â¶</a></h4>
<p>Redistribute configuration to all nodes. The result will be a job id.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="features">
<span id="rapi-res-features"></span><h3><a class="toc-backref" href="#id106"><code class="docutils literal"><span class="pre">/2/features</span></code></a><a class="headerlink" href="#features" title="Permalink to this headline">Â¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-features-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-features-get">
<span id="id4"></span><h4><a class="toc-backref" href="#id107"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-features-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of features supported by the RAPI server. Available
features:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">instance-create-reqv1</span></code></dt>
<dd>Instance creation request data version 1 supported</dd>
<dt><code class="docutils literal"><span class="pre">instance-reinstall-reqv1</span></code></dt>
<dd>Instance reinstall supports body parameters</dd>
<dt><code class="docutils literal"><span class="pre">node-migrate-reqv1</span></code></dt>
<dd>Whether migrating a node (<code class="docutils literal"><span class="pre">/2/nodes/[node_name]/migrate</span></code>) supports
request body parameters</dd>
<dt><code class="docutils literal"><span class="pre">node-evac-res1</span></code></dt>
<dd>Whether evacuating a node (<code class="docutils literal"><span class="pre">/2/nodes/[node_name]/evacuate</span></code>) returns
a new-style result (see resource description)</dd>
</dl>
</div>
</div>
<div class="section" id="filters">
<span id="rapi-res-filters"></span><h3><a class="toc-backref" href="#id108"><code class="docutils literal"><span class="pre">/2/filters</span></code></a><a class="headerlink" href="#filters" title="Permalink to this headline">Â¶</a></h3>
<p>The filters resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-filters-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-filters-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-filters-get">
<span id="id5"></span><h4><a class="toc-backref" href="#id109"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-filters-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of all existing filters.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;8b53f7de-f8e2-4470-99bd-1efe746e434f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span><span class="o">:</span> <span class="s2">&quot;/2/filters/8b53f7de-f8e2-4470-99bd-1efe746e434f&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;b296f0c9-4809-46a8-b928-5ccf7720fa8c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span><span class="o">:</span> <span class="s2">&quot;/2/filters/b296f0c9-4809-46a8-b928-5ccf7720fa8c&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>If the optional bool <em>bulk</em> argument is provided and set to a true value
(i.e <code class="docutils literal"><span class="pre">?bulk=1</span></code>), the output contains detailed information about filters
as a list.</p>
<p>Returned fields: <code class="docutils literal"><span class="pre">action,</span> <span class="pre">predicates,</span> <span class="pre">priority,</span> <span class="pre">reason_trail,</span> <span class="pre">uuid,</span> <span class="pre">watermark</span></code>.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;uuid&quot;</span><span class="o">:</span> <span class="s2">&quot;8b53f7de-f8e2-4470-99bd-1efe746e434f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;watermark&quot;</span><span class="o">:</span> <span class="mi">12534</span><span class="p">,</span>
    <span class="s2">&quot;reason_trail&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;luxid&quot;</span><span class="p">,</span> <span class="s2">&quot;someFilterReason&quot;</span><span class="p">,</span> <span class="mi">1409249801259897000</span><span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;action&quot;</span><span class="o">:</span> <span class="s2">&quot;REJECT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;predicates&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;jobid&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;watermark&quot;</span><span class="p">]]</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;uuid&quot;</span><span class="o">:</span> <span class="s2">&quot;b296f0c9-4809-46a8-b928-5ccf7720fa8c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;watermark&quot;</span><span class="o">:</span> <span class="mi">12534</span><span class="p">,</span>
    <span class="s2">&quot;reason_trail&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;luxid&quot;</span><span class="p">,</span> <span class="s2">&quot;someFilterReason&quot;</span><span class="p">,</span> <span class="mi">1409249917268978000</span><span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;action&quot;</span><span class="o">:</span> <span class="s2">&quot;REJECT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;predicates&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;opcode&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="s2">&quot;OP_ID&quot;</span><span class="p">,</span> <span class="s2">&quot;OP_INSTANCE_CREATE&quot;</span><span class="p">]]</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="post">
<span id="rapi-res-filters-post"></span><h4><a class="toc-backref" href="#id110"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#post" title="Permalink to this headline">Â¶</a></h4>
<p>Creates a filter.</p>
<p>Body parameters:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">priority</span></code> (int, defaults to <code class="docutils literal"><span class="pre">0</span></code>)</dt>
<dd>Must be non-negative. Lower numbers mean higher filter priority.</dd>
<dt><code class="docutils literal"><span class="pre">predicates</span></code> (list, defaults to <code class="docutils literal"><span class="pre">[]</span></code>)</dt>
<dd>The first element is the name (<code class="docutils literal"><span class="pre">str</span></code>) of the predicate and the
rest are parameters suitable for that predicate.
Most predicates take a single parameter: A boolean expression
in the Ganeti query language.</dd>
<dt><code class="docutils literal"><span class="pre">action</span></code> (defaults to <code class="docutils literal"><span class="pre">&quot;CONTINUE&quot;</span></code>)</dt>
<dd>The effect of the filter. Can be one of <code class="docutils literal"><span class="pre">&quot;ACCEPT&quot;</span></code>, <code class="docutils literal"><span class="pre">&quot;PAUSE&quot;</span></code>,
<code class="docutils literal"><span class="pre">&quot;REJECT&quot;</span></code>, <code class="docutils literal"><span class="pre">&quot;CONTINUE&quot;</span></code> and <code class="docutils literal"><span class="pre">[&quot;RATE_LIMIT&quot;,</span> <span class="pre">n]</span></code>, where <code class="docutils literal"><span class="pre">n</span></code>
is a positive integer.</dd>
<dt><code class="docutils literal"><span class="pre">reason</span></code> (list, defaults to <code class="docutils literal"><span class="pre">[]</span></code>)</dt>
<dd>An initial reason trail for this filter. Each element in this list
is a list with 3 elements: <code class="docutils literal"><span class="pre">[source,</span> <span class="pre">reason,</span> <span class="pre">timestamp]</span></code>, where
<code class="docutils literal"><span class="pre">source</span></code> and <code class="docutils literal"><span class="pre">reason</span></code> are strings and <code class="docutils literal"><span class="pre">timestamp</span></code> is a time
since the UNIX epoch in nanoseconds as an integer.</dd>
</dl>
<p>Returns:</p>
<p>A filter UUID (<code class="docutils literal"><span class="pre">str</span></code>) that can be used for accessing the filter later.</p>
</div>
</div>
<div class="section" id="filters-filter-uuid">
<span id="rapi-res-filters-filter-uuid"></span><h3><a class="toc-backref" href="#id111"><code class="docutils literal"><span class="pre">/2/filters/[filter_uuid]</span></code></a><a class="headerlink" href="#filters-filter-uuid" title="Permalink to this headline">Â¶</a></h3>
<p>Returns information about a filter.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-filters-filter-uuid-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-filters-filter-uuid-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-filters-filter-uuid-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-filters-filter-uuid-get">
<span id="id6"></span><h4><a class="toc-backref" href="#id112"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-filters-filter-uuid-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns information about a filter, similar to the bulk output from
the filter list.</p>
<p>Returned fields: <code class="docutils literal"><span class="pre">action,</span> <span class="pre">predicates,</span> <span class="pre">priority,</span> <span class="pre">reason_trail,</span> <span class="pre">uuid,</span> <span class="pre">watermark</span></code>.</p>
</div>
<div class="section" id="rapi-res-filters-filter-uuid-put">
<span id="id7"></span><h4><a class="toc-backref" href="#id113"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-filters-filter-uuid-put" title="Permalink to this headline">Â¶</a></h4>
<p>Replaces a filter with given UUID, or creates it with the given UUID
if it doesn&#8217;t already exist.</p>
<p>Body parameters:</p>
<p>All parameters for adding a new filter via <code class="docutils literal"><span class="pre">POST</span></code>, plus the following:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">uuid</span></code>: (string)</dt>
<dd>The UUID of the filter to replace or create.</dd>
</dl>
<p>Returns:</p>
<p>The filter UUID (<code class="docutils literal"><span class="pre">str</span></code>) of the replaced or created filter.
This will be the <code class="docutils literal"><span class="pre">uuid</span></code> body parameter if given, and a freshly generated
UUID otherwise.</p>
</div>
<div class="section" id="delete">
<span id="rapi-res-filters-filter-uuid-delete"></span><h4><a class="toc-backref" href="#id114"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#delete" title="Permalink to this headline">Â¶</a></h4>
<p>Deletes a filter.</p>
<p>Returns:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="modify">
<span id="rapi-res-modify"></span><h3><a class="toc-backref" href="#id115"><code class="docutils literal"><span class="pre">/2/modify</span></code></a><a class="headerlink" href="#modify" title="Permalink to this headline">Â¶</a></h3>
<p>Modifies cluster parameters.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-modify-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-modify-put">
<span id="id8"></span><h4><a class="toc-backref" href="#id116"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-modify-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">add_uids</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(Integer,</span> <span class="pre">Integer)))</span></code>)</p>
<blockquote>
<div>Extend UID pool, must be list of lists describing UID ranges (two items, start and end inclusive)</div></blockquote>
<p><code class="docutils literal"><span class="pre">beparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Cluster-wide backend parameter defaults</div></blockquote>
<p><code class="docutils literal"><span class="pre">blacklisted_os</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">attach,</span> <span class="pre">add,</span> <span class="pre">detach,</span> <span class="pre">remove,</span> <span class="pre">NonEmptyString)))</span></code>)</p>
<blockquote>
<div>Modify list of blacklisted operating systems: each modification must have two items, the operation and the OS name; the operation can be add or remove</div></blockquote>
<p><code class="docutils literal"><span class="pre">candidate_pool_size</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">GreaterThanZero</span></code>)</p>
<blockquote>
<div>Master candidate pool size</div></blockquote>
<p><code class="docutils literal"><span class="pre">compression_tools</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">NonEmptyString)</span></code>)</p>
<blockquote>
<div>List of enabled compression tools</div></blockquote>
<p><code class="docutils literal"><span class="pre">data_collector_interval</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">String</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Integer)</span></code>)</p>
<blockquote>
<div>Sets the interval in that data collectors are run</div></blockquote>
<p><code class="docutils literal"><span class="pre">default_iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<blockquote>
<div>Default iallocator for cluster</div></blockquote>
<p><code class="docutils literal"><span class="pre">default_iallocator_params</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Default iallocator parameters for cluster</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">disk_state</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Set disk states</div></blockquote>
<p><code class="docutils literal"><span class="pre">diskparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">sharedfile,</span> <span class="pre">diskless,</span> <span class="pre">plain,</span> <span class="pre">gluster,</span> <span class="pre">blockdev,</span> <span class="pre">drbd,</span> <span class="pre">ext,</span> <span class="pre">file,</span> <span class="pre">rbd)</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything))</span></code>)</p>
<blockquote>
<div>Disk templates&#8217; parameter defaults</div></blockquote>
<p><code class="docutils literal"><span class="pre">drbd_helper</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<blockquote>
<div>DRBD helper program</div></blockquote>
<p><code class="docutils literal"><span class="pre">enabled_data_collectors</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">String</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Boolean)</span></code>)</p>
<blockquote>
<div>Set the active data collectors</div></blockquote>
<p><code class="docutils literal"><span class="pre">enabled_disk_templates</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">sharedfile,</span> <span class="pre">diskless,</span> <span class="pre">plain,</span> <span class="pre">gluster,</span> <span class="pre">blockdev,</span> <span class="pre">drbd,</span> <span class="pre">ext,</span> <span class="pre">file,</span> <span class="pre">rbd))</span></code>)</p>
<blockquote>
<div>List of enabled disk templates</div></blockquote>
<p><code class="docutils literal"><span class="pre">enabled_hypervisors</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">chroot,</span> <span class="pre">xen-pvm,</span> <span class="pre">kvm,</span> <span class="pre">xen-hvm,</span> <span class="pre">lxc,</span> <span class="pre">fake))</span></code>)</p>
<blockquote>
<div>List of enabled hypervisors</div></blockquote>
<p><code class="docutils literal"><span class="pre">enabled_user_shutdown</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether user shutdown is enabled cluster wide</div></blockquote>
<p><code class="docutils literal"><span class="pre">file_storage_dir</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<p><code class="docutils literal"><span class="pre">force</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to force the operation</div></blockquote>
<p><code class="docutils literal"><span class="pre">gluster_storage_dir</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<p><code class="docutils literal"><span class="pre">hidden_os</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">attach,</span> <span class="pre">add,</span> <span class="pre">detach,</span> <span class="pre">remove,</span> <span class="pre">NonEmptyString)))</span></code>)</p>
<blockquote>
<div>Modify list of hidden operating systems: each modification must have two items, the operation and the OS name; the operation can be add or remove</div></blockquote>
<p><code class="docutils literal"><span class="pre">hv_state</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Set hypervisor states</div></blockquote>
<p><code class="docutils literal"><span class="pre">hvparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">String</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything))</span></code>)</p>
<blockquote>
<div>Cluster-wide hypervisor parameters, hypervisor-dependent</div></blockquote>
<p><code class="docutils literal"><span class="pre">install_image</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<blockquote>
<div>OS image for running OS scripts in a safe environment</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_communication_network</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<p><code class="docutils literal"><span class="pre">ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Cluster-wide ipolicy specs</div></blockquote>
<p><code class="docutils literal"><span class="pre">mac_prefix</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Network specific mac prefix (that overrides the cluster one)</div></blockquote>
<p><code class="docutils literal"><span class="pre">maintain_node_health</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to automatically maintain node health</div></blockquote>
<p><code class="docutils literal"><span class="pre">master_netdev</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<blockquote>
<div>Master network device</div></blockquote>
<p><code class="docutils literal"><span class="pre">master_netmask</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">EqualOrGreaterThanZero</span></code>)</p>
<blockquote>
<div>Netmask of the master IP</div></blockquote>
<p><code class="docutils literal"><span class="pre">max_running_jobs</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">GreaterThanZero</span></code>)</p>
<blockquote>
<div>Maximal number of jobs to run simultaneously</div></blockquote>
<p><code class="docutils literal"><span class="pre">max_tracked_jobs</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">GreaterThanZero</span></code>)</p>
<blockquote>
<div>Maximal number of jobs tracked in the job queue</div></blockquote>
<p><code class="docutils literal"><span class="pre">modify_etc_hosts</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<p><code class="docutils literal"><span class="pre">ndparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Cluster-wide node parameter defaults</div></blockquote>
<p><code class="docutils literal"><span class="pre">nicparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">bridge,</span> <span class="pre">name,</span> <span class="pre">ip,</span> <span class="pre">vlan,</span> <span class="pre">mac,</span> <span class="pre">link,</span> <span class="pre">mode,</span> <span class="pre">network)</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(None</span> <span class="pre">or</span> <span class="pre">String)</span> <span class="pre">[NIC</span> <span class="pre">parameters])</span></code>)</p>
<blockquote>
<div>Cluster-wide NIC parameter defaults</div></blockquote>
<p><code class="docutils literal"><span class="pre">os_hvp</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">String</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything))</span></code>)</p>
<blockquote>
<div>Cluster-wide per-OS hypervisor parameter defaults</div></blockquote>
<p><code class="docutils literal"><span class="pre">osparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">String</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything))</span></code>)</p>
<blockquote>
<div>Cluster-wide OS parameter defaults</div></blockquote>
<p><code class="docutils literal"><span class="pre">osparams_private_cluster</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">String</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Private</span> <span class="pre">Anything)))</span></code>)</p>
<blockquote>
<div>Cluster-wide private OS parameter defaults</div></blockquote>
<p><code class="docutils literal"><span class="pre">prealloc_wipe_disks</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to wipe disks before allocating them to instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">remove_uids</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(Integer,</span> <span class="pre">Integer)))</span></code>)</p>
<blockquote>
<div>Shrink UID pool, must be list of lists describing UID ranges (two items, start and end inclusive) to be removed</div></blockquote>
<p><code class="docutils literal"><span class="pre">reserved_lvs</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">NonEmptyString)</span></code>)</p>
<blockquote>
<div>List of reserved LVs</div></blockquote>
<p><code class="docutils literal"><span class="pre">shared_file_storage_dir</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<p><code class="docutils literal"><span class="pre">uid_pool</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(Integer,</span> <span class="pre">Integer)))</span></code>)</p>
<blockquote>
<div>Set UID pool, must be list of lists describing UID ranges (two items, start and end inclusive)</div></blockquote>
<p><code class="docutils literal"><span class="pre">use_external_mip_script</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to use an external master IP address setup script</div></blockquote>
<p><code class="docutils literal"><span class="pre">vg_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<blockquote>
<div>Volume group name</div></blockquote>
<p><code class="docutils literal"><span class="pre">zeroing_image</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">String</span></code>)</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">containing</span> <span class="pre">none</span> <span class="pre">but</span> <span class="pre">the</span> <span class="pre">required</span> <span class="pre">key</span> <span class="pre">&quot;jobs&quot;</span> <span class="pre">(value</span> <span class="pre">List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(Boolean</span> <span class="pre">[success]),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(String</span> <span class="pre">or</span> <span class="pre">JobId</span> <span class="pre">[Job</span> <span class="pre">ID</span> <span class="pre">if</span> <span class="pre">successful,</span> <span class="pre">error</span> <span class="pre">message</span> <span class="pre">otherwise])))</span> <span class="pre">[List</span> <span class="pre">of</span> <span class="pre">submitted</span> <span class="pre">jobs]))</span></code></p>
</div>
</div>
<div class="section" id="groups">
<span id="rapi-res-groups"></span><h3><a class="toc-backref" href="#id117"><code class="docutils literal"><span class="pre">/2/groups</span></code></a><a class="headerlink" href="#groups" title="Permalink to this headline">Â¶</a></h3>
<p>The groups resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-groups-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-groups-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-groups-get">
<span id="id9"></span><h4><a class="toc-backref" href="#id118"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-groups-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of all existing node groups.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;group1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span><span class="o">:</span> <span class="s2">&quot;/2/groups/group1&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;group2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span><span class="o">:</span> <span class="s2">&quot;/2/groups/group2&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>If the optional bool <em>bulk</em> argument is provided and set to a true value
(i.e <code class="docutils literal"><span class="pre">?bulk=1</span></code>), the output contains detailed information about node
groups as a list.</p>
<p>Returned fields: <code class="docutils literal"><span class="pre">alloc_policy,</span> <span class="pre">ctime,</span> <span class="pre">custom_diskparams,</span> <span class="pre">custom_ipolicy,</span> <span class="pre">custom_ndparams,</span> <span class="pre">diskparams,</span> <span class="pre">ipolicy,</span> <span class="pre">mtime,</span> <span class="pre">name,</span> <span class="pre">ndparams,</span> <span class="pre">node_cnt,</span> <span class="pre">node_list,</span> <span class="pre">serial_no,</span> <span class="pre">tags,</span> <span class="pre">uuid</span></code>.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;group1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;node_cnt&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;node_list&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">&quot;node1.example.com&quot;</span><span class="p">,</span>
      <span class="s2">&quot;node2.example.com&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;uuid&quot;</span><span class="o">:</span> <span class="s2">&quot;0d7d407c-262e-49af-881a-6a430034bf43&quot;</span><span class="p">,</span>
    <span class="c1">// ...</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;group2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;node_cnt&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;node_list&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">&quot;node3.example.com&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;uuid&quot;</span><span class="o">:</span> <span class="s2">&quot;f5a277e7-68f9-44d3-a378-4b25ecb5df5c&quot;</span><span class="p">,</span>
    <span class="c1">// ...</span>
  <span class="p">},</span>
  <span class="c1">// ...</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="rapi-res-groups-post">
<span id="id10"></span><h4><a class="toc-backref" href="#id119"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-groups-post" title="Permalink to this headline">Â¶</a></h4>
<p>Creates a node group.</p>
<p>If the optional bool <em>dry-run</em> argument is provided, the job will not be
actually executed, only the pre-execution checks will be done.</p>
<p>Returns: a job ID that can be used later for polling.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">alloc_policy</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">preferred,</span> <span class="pre">last_resort,</span> <span class="pre">unallocable)</span></code>)</p>
<blockquote>
<div>Instance allocation policy</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">disk_state</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Set disk states</div></blockquote>
<p><code class="docutils literal"><span class="pre">diskparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">sharedfile,</span> <span class="pre">diskless,</span> <span class="pre">plain,</span> <span class="pre">gluster,</span> <span class="pre">blockdev,</span> <span class="pre">drbd,</span> <span class="pre">ext,</span> <span class="pre">file,</span> <span class="pre">rbd)</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything))</span></code>)</p>
<blockquote>
<div>Disk templates&#8217; parameter defaults</div></blockquote>
<p><code class="docutils literal"><span class="pre">group_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Group name</div></blockquote>
<p><code class="docutils literal"><span class="pre">hv_state</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Set hypervisor states</div></blockquote>
<p><code class="docutils literal"><span class="pre">ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Group-wide ipolicy specs</div></blockquote>
<p><code class="docutils literal"><span class="pre">ndparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Default node parameters for group</div></blockquote>
<p>Earlier versions used a parameter named <code class="docutils literal"><span class="pre">name</span></code> which, while still
supported, has been renamed to <code class="docutils literal"><span class="pre">group_name</span></code>.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">containing</span> <span class="pre">none</span> <span class="pre">but</span> <span class="pre">the</span> <span class="pre">required</span> <span class="pre">key</span> <span class="pre">&quot;jobs&quot;</span> <span class="pre">(value</span> <span class="pre">List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(Boolean</span> <span class="pre">[success]),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(String</span> <span class="pre">or</span> <span class="pre">JobId</span> <span class="pre">[Job</span> <span class="pre">ID</span> <span class="pre">if</span> <span class="pre">successful,</span> <span class="pre">error</span> <span class="pre">message</span> <span class="pre">otherwise])))</span> <span class="pre">[List</span> <span class="pre">of</span> <span class="pre">submitted</span> <span class="pre">jobs]))</span></code></p>
</div>
</div>
<div class="section" id="groups-group-name">
<span id="rapi-res-groups-group-name"></span><h3><a class="toc-backref" href="#id120"><code class="docutils literal"><span class="pre">/2/groups/[group_name]</span></code></a><a class="headerlink" href="#groups-group-name" title="Permalink to this headline">Â¶</a></h3>
<p>Returns information about a node group.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-groups-group-name-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-groups-group-name-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-groups-group-name-get">
<span id="id11"></span><h4><a class="toc-backref" href="#id121"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-groups-group-name-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns information about a node group, similar to the bulk output from
the node group list.</p>
<p>Returned fields: <code class="docutils literal"><span class="pre">alloc_policy,</span> <span class="pre">ctime,</span> <span class="pre">custom_diskparams,</span> <span class="pre">custom_ipolicy,</span> <span class="pre">custom_ndparams,</span> <span class="pre">diskparams,</span> <span class="pre">ipolicy,</span> <span class="pre">mtime,</span> <span class="pre">name,</span> <span class="pre">ndparams,</span> <span class="pre">node_cnt,</span> <span class="pre">node_list,</span> <span class="pre">serial_no,</span> <span class="pre">tags,</span> <span class="pre">uuid</span></code>.</p>
</div>
<div class="section" id="rapi-res-groups-group-name-delete">
<span id="id12"></span><h4><a class="toc-backref" href="#id122"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#rapi-res-groups-group-name-delete" title="Permalink to this headline">Â¶</a></h4>
<p>Deletes a node group.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="groups-group-name-modify">
<span id="rapi-res-groups-group-name-modify"></span><h3><a class="toc-backref" href="#id123"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/modify</span></code></a><a class="headerlink" href="#groups-group-name-modify" title="Permalink to this headline">Â¶</a></h3>
<p>Modifies the parameters of a node group.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-groups-group-name-modify-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-groups-group-name-modify-put">
<span id="id13"></span><h4><a class="toc-backref" href="#id124"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-groups-group-name-modify-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">alloc_policy</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">preferred,</span> <span class="pre">last_resort,</span> <span class="pre">unallocable)</span></code>)</p>
<blockquote>
<div>Instance allocation policy</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">disk_state</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Set disk states</div></blockquote>
<p><code class="docutils literal"><span class="pre">diskparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">sharedfile,</span> <span class="pre">diskless,</span> <span class="pre">plain,</span> <span class="pre">gluster,</span> <span class="pre">blockdev,</span> <span class="pre">drbd,</span> <span class="pre">ext,</span> <span class="pre">file,</span> <span class="pre">rbd)</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything))</span></code>)</p>
<blockquote>
<div>Disk templates&#8217; parameter defaults</div></blockquote>
<p><code class="docutils literal"><span class="pre">hv_state</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Set hypervisor states</div></blockquote>
<p><code class="docutils literal"><span class="pre">ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Group-wide ipolicy specs</div></blockquote>
<p><code class="docutils literal"><span class="pre">ndparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Default node parameters for group</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(NonEmptyString,</span> <span class="pre">Anything))</span></code></p>
</div>
</div>
<div class="section" id="groups-group-name-rename">
<span id="rapi-res-groups-group-name-rename"></span><h3><a class="toc-backref" href="#id125"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/rename</span></code></a><a class="headerlink" href="#groups-group-name-rename" title="Permalink to this headline">Â¶</a></h3>
<p>Renames a node group.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-groups-group-name-rename-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-groups-group-name-rename-put">
<span id="id14"></span><h4><a class="toc-backref" href="#id126"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-groups-group-name-rename-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">new_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>New group name</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">NonEmptyString</span></code></p>
</div>
</div>
<div class="section" id="groups-group-name-assign-nodes">
<span id="rapi-res-groups-group-name-assign-nodes"></span><h3><a class="toc-backref" href="#id127"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/assign-nodes</span></code></a><a class="headerlink" href="#groups-group-name-assign-nodes" title="Permalink to this headline">Â¶</a></h3>
<p>Assigns nodes to a group.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-groups-group-name-assign-nodes-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-groups-group-name-assign-nodes-put">
<span id="id15"></span><h4><a class="toc-backref" href="#id128"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-groups-group-name-assign-nodes-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID. It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> and <code class="docutils literal"><span class="pre">force</span></code> arguments.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">node_uuids</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">NonEmptyString)</span></code>)</p>
<blockquote>
<div>List of node UUIDs to assign</div></blockquote>
<p><code class="docutils literal"><span class="pre">nodes</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>List of nodes to assign</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="groups-group-name-tags">
<span id="rapi-res-groups-group-name-tags"></span><h3><a class="toc-backref" href="#id129"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/tags</span></code></a><a class="headerlink" href="#groups-group-name-tags" title="Permalink to this headline">Â¶</a></h3>
<p>Manages per-nodegroup tags.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-groups-group-name-tags-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-groups-group-name-tags-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-groups-group-name-tags-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-groups-group-name-tags-get">
<span id="id16"></span><h4><a class="toc-backref" href="#id130"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-groups-group-name-tags-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of tags.</p>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span><span class="s2">&quot;tag1&quot;</span><span class="p">,</span> <span class="s2">&quot;tag2&quot;</span><span class="p">,</span> <span class="s2">&quot;tag3&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="rapi-res-groups-group-name-tags-put">
<span id="id17"></span><h4><a class="toc-backref" href="#id131"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-groups-group-name-tags-put" title="Permalink to this headline">Â¶</a></h4>
<p>Add a set of tags.</p>
<p>The request as a list of strings should be <code class="docutils literal"><span class="pre">PUT</span></code> to this URI. The
result will be a job id.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
</div>
<div class="section" id="rapi-res-groups-group-name-tags-delete">
<span id="id18"></span><h4><a class="toc-backref" href="#id132"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#rapi-res-groups-group-name-tags-delete" title="Permalink to this headline">Â¶</a></h4>
<p>Delete a tag.</p>
<p>In order to delete a set of tags, the DELETE request should be addressed
to URI like:</p>
<div class="highlight-none"><div class="highlight"><pre>/tags?tag=[tag]&amp;tag=[tag]
</pre></div>
</div>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.
.. highlight:: javascript</p>
</div>
</div>
<div class="section" id="networks">
<span id="rapi-res-networks"></span><h3><a class="toc-backref" href="#id133"><code class="docutils literal"><span class="pre">/2/networks</span></code></a><a class="headerlink" href="#networks" title="Permalink to this headline">Â¶</a></h3>
<p>The networks resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-networks-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-networks-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-networks-get">
<span id="id19"></span><h4><a class="toc-backref" href="#id134"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-networks-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of all existing networks.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[
  {
    &quot;name&quot;: &quot;network1&quot;,
    &quot;uri&quot;: &quot;/2/networks/network1&quot;
  },
  {
    &quot;name&quot;: &quot;network2&quot;,
    &quot;uri&quot;: &quot;/2/networks/network2&quot;
  }
]
</pre></div>
</div>
<p>If the optional bool <em>bulk</em> argument is provided and set to a true value
(i.e <code class="docutils literal"><span class="pre">?bulk=1</span></code>), the output contains detailed information about networks
as a list.</p>
<p>Returned fields: <code class="docutils literal"><span class="pre">ctime,</span> <span class="pre">external_reservations,</span> <span class="pre">free_count,</span> <span class="pre">gateway,</span> <span class="pre">gateway6,</span> <span class="pre">group_list,</span> <span class="pre">inst_list,</span> <span class="pre">mac_prefix,</span> <span class="pre">map,</span> <span class="pre">mtime,</span> <span class="pre">name,</span> <span class="pre">network,</span> <span class="pre">network6,</span> <span class="pre">reserved_count,</span> <span class="pre">serial_no,</span> <span class="pre">tags,</span> <span class="pre">uuid</span></code>.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[
  {
    &#39;external_reservations&#39;: &#39;10.0.0.0, 10.0.0.1, 10.0.0.15&#39;,
    &#39;free_count&#39;: 13,
    &#39;gateway&#39;: &#39;10.0.0.1&#39;,
    &#39;gateway6&#39;: null,
    &#39;group_list&#39;: [&#39;default(bridged, prv0)&#39;],
    &#39;inst_list&#39;: [],
    &#39;mac_prefix&#39;: null,
    &#39;map&#39;: &#39;XX.............X&#39;,
    &#39;name&#39;: &#39;nat&#39;,
    &#39;network&#39;: &#39;10.0.0.0/28&#39;,
    &#39;network6&#39;: null,
    &#39;reserved_count&#39;: 3,
    &#39;tags&#39;: [&#39;nfdhcpd&#39;],
    // ...
  },
  // ...
]
</pre></div>
</div>
</div>
<div class="section" id="rapi-res-networks-post">
<span id="id20"></span><h4><a class="toc-backref" href="#id135"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-networks-post" title="Permalink to this headline">Â¶</a></h4>
<p>Creates a network.</p>
<p>If the optional bool <em>dry-run</em> argument is provided, the job will not be
actually executed, only the pre-execution checks will be done.</p>
<p>Returns: a job ID that can be used later for polling.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">add_reserved_ips</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(String</span> <span class="pre">and</span> <span class="pre">(IPv4</span> <span class="pre">address)))</span></code>)</p>
<blockquote>
<div>Which IP addresses to reserve</div></blockquote>
<p><code class="docutils literal"><span class="pre">conflicts_check</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to check for conflicting IP addresses</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">gateway</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(String</span> <span class="pre">and</span> <span class="pre">(IPv4</span> <span class="pre">address))</span></code>)</p>
<blockquote>
<div>Network gateway (IPv4 address)</div></blockquote>
<p><code class="docutils literal"><span class="pre">gateway6</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(String</span> <span class="pre">and</span> <span class="pre">(IPv6</span> <span class="pre">address))</span></code>)</p>
<blockquote>
<div>Network gateway (IPv6 address)</div></blockquote>
<p><code class="docutils literal"><span class="pre">mac_prefix</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Network specific mac prefix (that overrides the cluster one)</div></blockquote>
<p><code class="docutils literal"><span class="pre">network</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">String</span> <span class="pre">and</span> <span class="pre">(IPv4</span> <span class="pre">network)</span></code>)</p>
<blockquote>
<div>Network address (IPv4 subnet)</div></blockquote>
<p><code class="docutils literal"><span class="pre">network6</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(String</span> <span class="pre">and</span> <span class="pre">(IPv6</span> <span class="pre">network))</span></code>)</p>
<blockquote>
<div>Network address (IPv6 subnet)</div></blockquote>
<p><code class="docutils literal"><span class="pre">network_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Network name</div></blockquote>
<p><code class="docutils literal"><span class="pre">tags</span></code> (defaults to <code class="docutils literal"><span class="pre">[]</span></code>, must be <code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Network tags</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="networks-network-name">
<span id="rapi-res-networks-network-name"></span><h3><a class="toc-backref" href="#id136"><code class="docutils literal"><span class="pre">/2/networks/[network_name]</span></code></a><a class="headerlink" href="#networks-network-name" title="Permalink to this headline">Â¶</a></h3>
<p>Returns information about a network.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-networks-network-name-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-networks-network-name-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-networks-network-name-get">
<span id="id21"></span><h4><a class="toc-backref" href="#id137"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-networks-network-name-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns information about a network, similar to the bulk output from
the network list.</p>
<p>Returned fields: <code class="docutils literal"><span class="pre">ctime,</span> <span class="pre">external_reservations,</span> <span class="pre">free_count,</span> <span class="pre">gateway,</span> <span class="pre">gateway6,</span> <span class="pre">group_list,</span> <span class="pre">inst_list,</span> <span class="pre">mac_prefix,</span> <span class="pre">map,</span> <span class="pre">mtime,</span> <span class="pre">name,</span> <span class="pre">network,</span> <span class="pre">network6,</span> <span class="pre">reserved_count,</span> <span class="pre">serial_no,</span> <span class="pre">tags,</span> <span class="pre">uuid</span></code>.</p>
</div>
<div class="section" id="rapi-res-networks-network-name-delete">
<span id="id22"></span><h4><a class="toc-backref" href="#id138"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#rapi-res-networks-network-name-delete" title="Permalink to this headline">Â¶</a></h4>
<p>Deletes a network.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="networks-network-name-modify">
<span id="rapi-res-networks-network-name-modify"></span><h3><a class="toc-backref" href="#id139"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/modify</span></code></a><a class="headerlink" href="#networks-network-name-modify" title="Permalink to this headline">Â¶</a></h3>
<p>Modifies the parameters of a network.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-networks-network-name-modify-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-networks-network-name-modify-put">
<span id="id23"></span><h4><a class="toc-backref" href="#id140"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-networks-network-name-modify-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">add_reserved_ips</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(String</span> <span class="pre">and</span> <span class="pre">(IPv4</span> <span class="pre">address)))</span></code>)</p>
<blockquote>
<div>Which external IP addresses to reserve</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">gateway</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(String</span> <span class="pre">and</span> <span class="pre">(IPv4</span> <span class="pre">address))</span></code>)</p>
<blockquote>
<div>Network gateway (IPv4 address)</div></blockquote>
<p><code class="docutils literal"><span class="pre">gateway6</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(String</span> <span class="pre">and</span> <span class="pre">(IPv6</span> <span class="pre">address))</span></code>)</p>
<blockquote>
<div>Network gateway (IPv6 address)</div></blockquote>
<p><code class="docutils literal"><span class="pre">mac_prefix</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Network specific mac prefix (that overrides the cluster one)</div></blockquote>
<p><code class="docutils literal"><span class="pre">network6</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(String</span> <span class="pre">and</span> <span class="pre">(IPv6</span> <span class="pre">network))</span></code>)</p>
<blockquote>
<div>Network address (IPv6 subnet)</div></blockquote>
<p><code class="docutils literal"><span class="pre">network_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Network name</div></blockquote>
<p><code class="docutils literal"><span class="pre">remove_reserved_ips</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(String</span> <span class="pre">and</span> <span class="pre">(IPv4</span> <span class="pre">address)))</span></code>)</p>
<blockquote>
<div>Which external IP addresses to release</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="networks-network-name-connect">
<span id="rapi-res-networks-network-name-connect"></span><h3><a class="toc-backref" href="#id141"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/connect</span></code></a><a class="headerlink" href="#networks-network-name-connect" title="Permalink to this headline">Â¶</a></h3>
<p>Connects a network to a nodegroup.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-networks-network-name-connect-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-networks-network-name-connect-put">
<span id="id24"></span><h4><a class="toc-backref" href="#id142"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-networks-network-name-connect-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID. It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> arguments.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">conflicts_check</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to check for conflicting IP addresses</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">group_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Group name</div></blockquote>
<p><code class="docutils literal"><span class="pre">network_link</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Network link when connecting to a group</div></blockquote>
<p><code class="docutils literal"><span class="pre">network_mode</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">OneOf</span> <span class="pre">pool,</span> <span class="pre">openvswitch,</span> <span class="pre">bridged,</span> <span class="pre">routed</span></code>)</p>
<blockquote>
<div>Network mode when connecting to a group</div></blockquote>
<p><code class="docutils literal"><span class="pre">network_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Network name</div></blockquote>
<p><code class="docutils literal"><span class="pre">network_vlan</span></code> (defaults to the empty string, must be <code class="docutils literal"><span class="pre">String</span></code>)</p>
<blockquote>
<div>Network vlan when connecting to a group</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="networks-network-name-disconnect">
<span id="rapi-res-networks-network-name-disconnect"></span><h3><a class="toc-backref" href="#id143"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/disconnect</span></code></a><a class="headerlink" href="#networks-network-name-disconnect" title="Permalink to this headline">Â¶</a></h3>
<p>Disonnects a network from a nodegroup.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-networks-network-name-disconnect-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-networks-network-name-disconnect-put">
<span id="id25"></span><h4><a class="toc-backref" href="#id144"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-networks-network-name-disconnect-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID. It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> arguments.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">group_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Group name</div></blockquote>
<p><code class="docutils literal"><span class="pre">network_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Network name</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="networks-network-name-tags">
<span id="rapi-res-networks-network-name-tags"></span><h3><a class="toc-backref" href="#id145"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/tags</span></code></a><a class="headerlink" href="#networks-network-name-tags" title="Permalink to this headline">Â¶</a></h3>
<p>Manages per-network tags.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-networks-network-name-tags-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-networks-network-name-tags-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-networks-network-name-tags-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-networks-network-name-tags-get">
<span id="id26"></span><h4><a class="toc-backref" href="#id146"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-networks-network-name-tags-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of tags.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;]
</pre></div>
</div>
</div>
<div class="section" id="rapi-res-networks-network-name-tags-put">
<span id="id27"></span><h4><a class="toc-backref" href="#id147"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-networks-network-name-tags-put" title="Permalink to this headline">Â¶</a></h4>
<p>Add a set of tags.</p>
<p>The request as a list of strings should be <code class="docutils literal"><span class="pre">PUT</span></code> to this URI. The
result will be a job id.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
</div>
<div class="section" id="rapi-res-networks-network-name-tags-delete">
<span id="id28"></span><h4><a class="toc-backref" href="#id148"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#rapi-res-networks-network-name-tags-delete" title="Permalink to this headline">Â¶</a></h4>
<p>Delete a tag.</p>
<p>In order to delete a set of tags, the DELETE request should be addressed
to URI like:</p>
<div class="highlight-none"><div class="highlight"><pre>/tags?tag=[tag]&amp;tag=[tag]
</pre></div>
</div>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
<p>..highlight:: javascript</p>
</div>
</div>
<div class="section" id="instances-multi-alloc">
<span id="rapi-res-instances-multi-alloc"></span><h3><a class="toc-backref" href="#id149"><code class="docutils literal"><span class="pre">/2/instances-multi-alloc</span></code></a><a class="headerlink" href="#instances-multi-alloc" title="Permalink to this headline">Â¶</a></h3>
<p>Tries to allocate multiple instances.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-multi-alloc-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-multi-alloc-post">
<span id="id29"></span><h4><a class="toc-backref" href="#id150"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-instances-multi-alloc-post" title="Permalink to this headline">Â¶</a></h4>
<p>The parameters:</p>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Iallocator for deciding the target node for shared-storage instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">instances</span></code> (defaults to <code class="docutils literal"><span class="pre">[]</span></code>, must be <code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">Anything</span></code>)</p>
<blockquote>
<div>List of instance create opcodes describing the instances to allocate</div></blockquote>
<p><code class="docutils literal"><span class="pre">opportunistic_locking</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to employ opportunistic locking for nodes, meaning nodes already locked by another opcode won&#8217;t be considered for instance allocation (only when an iallocator is used)</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">containing</span> <span class="pre">none</span> <span class="pre">but</span> <span class="pre">the</span> <span class="pre">required</span> <span class="pre">keys</span> <span class="pre">&quot;failed&quot;</span> <span class="pre">(value</span> <span class="pre">List</span> <span class="pre">of</span> <span class="pre">NonEmptyString),</span> <span class="pre">&quot;allocatable&quot;</span> <span class="pre">(value</span> <span class="pre">List</span> <span class="pre">of</span> <span class="pre">NonEmptyString),</span> <span class="pre">&quot;jobs&quot;</span> <span class="pre">(value</span> <span class="pre">List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(Boolean</span> <span class="pre">[success]),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(String</span> <span class="pre">or</span> <span class="pre">JobId</span> <span class="pre">[Job</span> <span class="pre">ID</span> <span class="pre">if</span> <span class="pre">successful,</span> <span class="pre">error</span> <span class="pre">message</span> <span class="pre">otherwise])))</span> <span class="pre">[List</span> <span class="pre">of</span> <span class="pre">submitted</span> <span class="pre">jobs])</span></code></p>
</div>
</div>
<div class="section" id="instances">
<span id="rapi-res-instances"></span><h3><a class="toc-backref" href="#id151"><code class="docutils literal"><span class="pre">/2/instances</span></code></a><a class="headerlink" href="#instances" title="Permalink to this headline">Â¶</a></h3>
<p>The instances resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-instances-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-get">
<span id="id30"></span><h4><a class="toc-backref" href="#id152"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-instances-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of all available instances.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[
  {
    &quot;name&quot;: &quot;web.example.com&quot;,
    &quot;uri&quot;: &quot;/instances/web.example.com&quot;
  },
  {
    &quot;name&quot;: &quot;mail.example.com&quot;,
    &quot;uri&quot;: &quot;/instances/mail.example.com&quot;
  }
]
</pre></div>
</div>
<p>If the optional bool <em>bulk</em> argument is provided and set to a true value
(i.e <code class="docutils literal"><span class="pre">?bulk=1</span></code>), the output contains detailed information about
instances as a list.</p>
<p>Returned fields: <code class="docutils literal"><span class="pre">admin_state,</span> <span class="pre">beparams,</span> <span class="pre">ctime,</span> <span class="pre">custom_beparams,</span> <span class="pre">custom_hvparams,</span> <span class="pre">custom_nicparams,</span> <span class="pre">disk.names,</span> <span class="pre">disk.sizes,</span> <span class="pre">disk.spindles,</span> <span class="pre">disk.uuids,</span> <span class="pre">disk_template,</span> <span class="pre">disk_usage,</span> <span class="pre">hvparams,</span> <span class="pre">mtime,</span> <span class="pre">name,</span> <span class="pre">network_port,</span> <span class="pre">nic.bridges,</span> <span class="pre">nic.ips,</span> <span class="pre">nic.links,</span> <span class="pre">nic.macs,</span> <span class="pre">nic.modes,</span> <span class="pre">nic.names,</span> <span class="pre">nic.networks,</span> <span class="pre">nic.networks.names,</span> <span class="pre">nic.uuids,</span> <span class="pre">oper_ram,</span> <span class="pre">oper_state,</span> <span class="pre">oper_vcpus,</span> <span class="pre">os,</span> <span class="pre">pnode,</span> <span class="pre">serial_no,</span> <span class="pre">snodes,</span> <span class="pre">status,</span> <span class="pre">tags,</span> <span class="pre">uuid</span></code>.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[
  {
    &quot;status&quot;: &quot;running&quot;,
    &quot;disk_usage&quot;: 20480,
    &quot;nic.bridges&quot;: [
      &quot;xen-br0&quot;
    ],
    &quot;name&quot;: &quot;web.example.com&quot;,
    &quot;tags&quot;: [&quot;tag1&quot;, &quot;tag2&quot;],
    &quot;beparams&quot;: {
      &quot;vcpus&quot;: 2,
      &quot;memory&quot;: 512
    },
    &quot;disk.sizes&quot;: [
      20480
    ],
    &quot;pnode&quot;: &quot;node1.example.com&quot;,
    &quot;nic.macs&quot;: [&quot;01:23:45:67:89:01&quot;],
    &quot;snodes&quot;: [&quot;node2.example.com&quot;],
    &quot;disk_template&quot;: &quot;drbd&quot;,
    &quot;admin_state&quot;: true,
    &quot;os&quot;: &quot;debian-etch&quot;,
    &quot;oper_state&quot;: true,
    // ...
  },
  // ...
]
</pre></div>
</div>
</div>
<div class="section" id="rapi-res-instances-post">
<span id="id31"></span><h4><a class="toc-backref" href="#id153"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-instances-post" title="Permalink to this headline">Â¶</a></h4>
<p>Creates an instance.</p>
<p>If the optional bool <em>dry-run</em> argument is provided, the job will not be
actually executed, only the pre-execution checks will be done. Query-ing
the job result will return, in both dry-run and normal case, the list of
nodes selected for the instance.</p>
<p>Returns: a job ID that can be used later for polling.</p>
<p>Body parameters:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">__version__</span></code> (int, required)</dt>
<dd>Must be <code class="docutils literal"><span class="pre">1</span></code> (older Ganeti versions used a different format for
instance creation requests, version <code class="docutils literal"><span class="pre">0</span></code>, but that format is no
longer supported)</dd>
</dl>
<p><code class="docutils literal"><span class="pre">beparams</span></code> (defaults to <code class="docutils literal"><span class="pre">{}</span></code>, must be <code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything</span></code>)</p>
<blockquote>
<div>Backend parameters for instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">commit</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Commit the already reserved instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">compress</span></code> (defaults to <code class="docutils literal"><span class="pre">none</span></code>, must be <code class="docutils literal"><span class="pre">String</span></code>)</p>
<blockquote>
<div>Compression mode to use for moves during backups/imports</div></blockquote>
<p><code class="docutils literal"><span class="pre">conflicts_check</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to check for conflicting IP addresses</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">disk_template</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">sharedfile,</span> <span class="pre">diskless,</span> <span class="pre">plain,</span> <span class="pre">gluster,</span> <span class="pre">blockdev,</span> <span class="pre">drbd,</span> <span class="pre">ext,</span> <span class="pre">file,</span> <span class="pre">rbd)</span></code>)</p>
<blockquote>
<div>Instance disk template</div></blockquote>
<p><code class="docutils literal"><span class="pre">disks</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">NonEmptyString</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(NonEmptyString</span> <span class="pre">or</span> <span class="pre">Integer)</span> <span class="pre">[Disk</span> <span class="pre">parameters])</span></code>)</p>
<blockquote>
<div>List of instance disks</div></blockquote>
<p><code class="docutils literal"><span class="pre">file_driver</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">blktap2,</span> <span class="pre">blktap,</span> <span class="pre">loop)</span></code>)</p>
<blockquote>
<div>Driver for file-backed disks</div></blockquote>
<p><code class="docutils literal"><span class="pre">file_storage_dir</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Directory for storing file-backed disks</div></blockquote>
<p><code class="docutils literal"><span class="pre">force_variant</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to force an unknown OS variant</div></blockquote>
<p><code class="docutils literal"><span class="pre">forthcoming</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to only reserve resources</div></blockquote>
<p><code class="docutils literal"><span class="pre">group_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Optional group name</div></blockquote>
<p><code class="docutils literal"><span class="pre">helper_shutdown_timeout</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Integer</span></code>)</p>
<blockquote>
<div>Shutdown timeout for the helper VM</div></blockquote>
<p><code class="docutils literal"><span class="pre">helper_startup_timeout</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Integer</span></code>)</p>
<blockquote>
<div>Startup timeout for the helper VM</div></blockquote>
<p><code class="docutils literal"><span class="pre">hvparams</span></code> (defaults to <code class="docutils literal"><span class="pre">{}</span></code>, must be <code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything</span></code>)</p>
<blockquote>
<div>Hypervisor parameters for instance, hypervisor-dependent</div></blockquote>
<p><code class="docutils literal"><span class="pre">hypervisor</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">chroot,</span> <span class="pre">xen-pvm,</span> <span class="pre">kvm,</span> <span class="pre">xen-hvm,</span> <span class="pre">lxc,</span> <span class="pre">fake)</span></code>)</p>
<blockquote>
<div>Selected hypervisor for an instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Iallocator for deciding the target node for shared-storage instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">identify_defaults</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Reset instance parameters to default if equal</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore ipolicy violations</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_communication</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Enable or disable the communication mechanism for an instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">String</span></code>)</p>
<blockquote>
<div>A required instance name (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">ip_check</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ensure instance&#8217;s IP address is inactive</div></blockquote>
<p><code class="docutils literal"><span class="pre">mode</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">OneOf</span> <span class="pre">import,</span> <span class="pre">create,</span> <span class="pre">remote-import</span></code>)</p>
<blockquote>
<div>Instance creation mode</div></blockquote>
<p><code class="docutils literal"><span class="pre">name_check</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to check name</div></blockquote>
<p><code class="docutils literal"><span class="pre">nics</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">bridge,</span> <span class="pre">name,</span> <span class="pre">ip,</span> <span class="pre">vlan,</span> <span class="pre">mac,</span> <span class="pre">link,</span> <span class="pre">mode,</span> <span class="pre">network)</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(None</span> <span class="pre">or</span> <span class="pre">String)</span> <span class="pre">[NIC</span> <span class="pre">parameters])</span></code>)</p>
<blockquote>
<div>List of NIC (network interface) definitions</div></blockquote>
<p><code class="docutils literal"><span class="pre">no_install</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Do not install the OS (will disable automatic start)</div></blockquote>
<p><code class="docutils literal"><span class="pre">opportunistic_locking</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to employ opportunistic locking for nodes, meaning nodes already locked by another opcode won&#8217;t be considered for instance allocation (only when an iallocator is used)</div></blockquote>
<p><code class="docutils literal"><span class="pre">os_type</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>OS type for instance installation</div></blockquote>
<p><code class="docutils literal"><span class="pre">osparams</span></code> (defaults to <code class="docutils literal"><span class="pre">{}</span></code>, must be <code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything</span></code>)</p>
<blockquote>
<div>OS parameters for instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">osparams_private</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Private</span> <span class="pre">Anything))</span></code>)</p>
<blockquote>
<div>Private OS parameters for instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">osparams_secret</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Private</span> <span class="pre">Anything))</span></code>)</p>
<blockquote>
<div>Secret OS parameters for instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">pnode</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Primary node for an instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">pnode_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Primary node UUID for an instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">snode</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Secondary node for an instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">snode_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Secondary node UUID for an instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">source_handshake</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Signed handshake from source (remote import only)</div></blockquote>
<p><code class="docutils literal"><span class="pre">source_instance_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Source instance name (remote import only)</div></blockquote>
<p><code class="docutils literal"><span class="pre">source_shutdown_timeout</span></code> (defaults to <code class="docutils literal"><span class="pre">120</span></code>, must be <code class="docutils literal"><span class="pre">EqualOrGreaterThanZero</span></code>)</p>
<blockquote>
<div>How long source instance was given to shut down (remote import only)</div></blockquote>
<p><code class="docutils literal"><span class="pre">source_x509_ca</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Source X509 CA in PEM format (remote import only)</div></blockquote>
<p><code class="docutils literal"><span class="pre">src_node</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Source node for import</div></blockquote>
<p><code class="docutils literal"><span class="pre">src_node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Source node UUID for import</div></blockquote>
<p><code class="docutils literal"><span class="pre">src_path</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Source directory for import</div></blockquote>
<p><code class="docutils literal"><span class="pre">start</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to start instance after creation</div></blockquote>
<p><code class="docutils literal"><span class="pre">tags</span></code> (defaults to <code class="docutils literal"><span class="pre">[]</span></code>, must be <code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Instance tags</div></blockquote>
<p><code class="docutils literal"><span class="pre">wait_for_sync</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to wait for the disk to synchronize</div></blockquote>
<p>Earlier versions used parameters named <code class="docutils literal"><span class="pre">name</span></code> and <code class="docutils literal"><span class="pre">os</span></code>. These have
been replaced by <code class="docutils literal"><span class="pre">instance_name</span></code> and <code class="docutils literal"><span class="pre">os_type</span></code> to match the
underlying opcode. The old names can still be used.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">NonEmptyString</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name">
<span id="rapi-res-instances-instance-name"></span><h3><a class="toc-backref" href="#id154"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]</span></code></a><a class="headerlink" href="#instances-instance-name" title="Permalink to this headline">Â¶</a></h3>
<p>Instance-specific resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-instances-instance-name-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-get">
<span id="id32"></span><h4><a class="toc-backref" href="#id155"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns information about an instance, similar to the bulk output from
the instance list.</p>
<p>Returned fields: <code class="docutils literal"><span class="pre">admin_state,</span> <span class="pre">beparams,</span> <span class="pre">ctime,</span> <span class="pre">custom_beparams,</span> <span class="pre">custom_hvparams,</span> <span class="pre">custom_nicparams,</span> <span class="pre">disk.names,</span> <span class="pre">disk.sizes,</span> <span class="pre">disk.spindles,</span> <span class="pre">disk.uuids,</span> <span class="pre">disk_template,</span> <span class="pre">disk_usage,</span> <span class="pre">hvparams,</span> <span class="pre">mtime,</span> <span class="pre">name,</span> <span class="pre">network_port,</span> <span class="pre">nic.bridges,</span> <span class="pre">nic.ips,</span> <span class="pre">nic.links,</span> <span class="pre">nic.macs,</span> <span class="pre">nic.modes,</span> <span class="pre">nic.names,</span> <span class="pre">nic.networks,</span> <span class="pre">nic.networks.names,</span> <span class="pre">nic.uuids,</span> <span class="pre">oper_ram,</span> <span class="pre">oper_state,</span> <span class="pre">oper_vcpus,</span> <span class="pre">os,</span> <span class="pre">pnode,</span> <span class="pre">serial_no,</span> <span class="pre">snodes,</span> <span class="pre">status,</span> <span class="pre">tags,</span> <span class="pre">uuid</span></code>.</p>
</div>
<div class="section" id="rapi-res-instances-instance-name-delete">
<span id="id33"></span><h4><a class="toc-backref" href="#id156"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-delete" title="Permalink to this headline">Â¶</a></h4>
<p>Deletes an instance.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-info">
<span id="rapi-res-instances-instance-name-info"></span><h3><a class="toc-backref" href="#id157"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/info</span></code></a><a class="headerlink" href="#instances-instance-name-info" title="Permalink to this headline">Â¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-info-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-info-get">
<span id="id34"></span><h4><a class="toc-backref" href="#id158"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-info-get" title="Permalink to this headline">Â¶</a></h4>
<p>Requests detailed information about the instance. An optional parameter,
<code class="docutils literal"><span class="pre">static</span></code> (bool), can be set to return only static information from the
configuration without querying the instance&#8217;s nodes. The result will be
a job id.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-reboot">
<span id="rapi-res-instances-instance-name-reboot"></span><h3><a class="toc-backref" href="#id159"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/reboot</span></code></a><a class="headerlink" href="#instances-instance-name-reboot" title="Permalink to this headline">Â¶</a></h3>
<p>Reboots URI for an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-reboot-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-reboot-post">
<span id="id35"></span><h4><a class="toc-backref" href="#id160"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-reboot-post" title="Permalink to this headline">Â¶</a></h4>
<p>Reboots the instance.</p>
<p>The URI takes optional <code class="docutils literal"><span class="pre">type=soft|hard|full</span></code> and
<code class="docutils literal"><span class="pre">ignore_secondaries=0|1</span></code> parameters.</p>
<p><code class="docutils literal"><span class="pre">type</span></code> defines the reboot type. <code class="docutils literal"><span class="pre">soft</span></code> is just a normal reboot,
without terminating the hypervisor. <code class="docutils literal"><span class="pre">hard</span></code> means full shutdown
(including terminating the hypervisor process) and startup again.
<code class="docutils literal"><span class="pre">full</span></code> is like <code class="docutils literal"><span class="pre">hard</span></code> but also recreates the configuration from
ground up as if you would have done a <code class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">shutdown</span></code> and
<code class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">start</span></code> on it.</p>
<p><code class="docutils literal"><span class="pre">ignore_secondaries</span></code> is a bool argument indicating if we start the
instance even if secondary disks are failing.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-shutdown">
<span id="rapi-res-instances-instance-name-shutdown"></span><h3><a class="toc-backref" href="#id161"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/shutdown</span></code></a><a class="headerlink" href="#instances-instance-name-shutdown" title="Permalink to this headline">Â¶</a></h3>
<p>Instance shutdown URI.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-shutdown-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-shutdown-put">
<span id="id36"></span><h4><a class="toc-backref" href="#id162"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-shutdown-put" title="Permalink to this headline">Â¶</a></h4>
<p>Shutdowns an instance.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
<p><code class="docutils literal"><span class="pre">admin_state_source</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">admin,</span> <span class="pre">user)</span></code>)</p>
<blockquote>
<div>Who last changed the instance admin state</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">force</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to force the operation</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_offline_nodes</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore offline nodes</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>An instance UUID (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">no_remember</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Do not remember instance state changes</div></blockquote>
<p><code class="docutils literal"><span class="pre">timeout</span></code> (defaults to <code class="docutils literal"><span class="pre">120</span></code>, must be <code class="docutils literal"><span class="pre">EqualOrGreaterThanZero</span></code>)</p>
<blockquote>
<div>How long to wait for instance to shut down</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-startup">
<span id="rapi-res-instances-instance-name-startup"></span><h3><a class="toc-backref" href="#id163"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/startup</span></code></a><a class="headerlink" href="#instances-instance-name-startup" title="Permalink to this headline">Â¶</a></h3>
<p>Instance startup URI.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-startup-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-startup-put">
<span id="id37"></span><h4><a class="toc-backref" href="#id164"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-startup-put" title="Permalink to this headline">Â¶</a></h4>
<p>Startup an instance.</p>
<p>The URI takes an optional <code class="docutils literal"><span class="pre">force=1|0</span></code> parameter to start the
instance even if secondary disks are failing.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-reinstall">
<span id="rapi-res-instances-instance-name-reinstall"></span><h3><a class="toc-backref" href="#id165"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/reinstall</span></code></a><a class="headerlink" href="#instances-instance-name-reinstall" title="Permalink to this headline">Â¶</a></h3>
<p>Installs the operating system again.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-reinstall-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-reinstall-post">
<span id="id38"></span><h4><a class="toc-backref" href="#id166"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-reinstall-post" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">os</span></code> (string, required)</dt>
<dd>Instance operating system.</dd>
<dt><code class="docutils literal"><span class="pre">start</span></code> (bool, defaults to true)</dt>
<dd>Whether to start instance after reinstallation.</dd>
<dt><code class="docutils literal"><span class="pre">osparams</span></code> (dict)</dt>
<dd>Dictionary with (temporary) OS parameters.</dd>
</dl>
<p>For backwards compatbility, this resource also takes the query
parameters <code class="docutils literal"><span class="pre">os</span></code> (OS template name) and <code class="docutils literal"><span class="pre">nostartup</span></code> (bool). New
clients should use the body parameters.</p>
</div>
</div>
<div class="section" id="instances-instance-name-replace-disks">
<span id="rapi-res-instances-instance-name-replace-disks"></span><h3><a class="toc-backref" href="#id167"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/replace-disks</span></code></a><a class="headerlink" href="#instances-instance-name-replace-disks" title="Permalink to this headline">Â¶</a></h3>
<p>Replaces disks on an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-replace-disks-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-replace-disks-post">
<span id="id39"></span><h4><a class="toc-backref" href="#id168"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-replace-disks-post" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">disks</span></code> (defaults to <code class="docutils literal"><span class="pre">[]</span></code>, must be <code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">(EqualOrGreaterThanZero</span> <span class="pre">and</span> <span class="pre">(Less</span> <span class="pre">than</span> <span class="pre">16))</span></code>)</p>
<blockquote>
<div>List of disk indices</div></blockquote>
<p><code class="docutils literal"><span class="pre">early_release</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to release locks as soon as possible</div></blockquote>
<p><code class="docutils literal"><span class="pre">iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Iallocator for deciding the target node for shared-storage instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore ipolicy violations</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>An instance UUID (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">mode</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">OneOf</span> <span class="pre">replace_new_secondary,</span> <span class="pre">replace_on_secondary,</span> <span class="pre">replace_auto,</span> <span class="pre">replace_on_primary</span></code>)</p>
<blockquote>
<div>Replacement mode</div></blockquote>
<p><code class="docutils literal"><span class="pre">remote_node</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>New secondary node</div></blockquote>
<p><code class="docutils literal"><span class="pre">remote_node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>New secondary node UUID</div></blockquote>
<p>Ganeti 2.4 and below used query parameters. Those are deprecated and
should no longer be used.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-activate-disks">
<span id="rapi-res-instances-instance-name-activate-disks"></span><h3><a class="toc-backref" href="#id169"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/activate-disks</span></code></a><a class="headerlink" href="#instances-instance-name-activate-disks" title="Permalink to this headline">Â¶</a></h3>
<p>Activate disks on an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-activate-disks-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-activate-disks-put">
<span id="id40"></span><h4><a class="toc-backref" href="#id170"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-activate-disks-put" title="Permalink to this headline">Â¶</a></h4>
<p>Takes the bool parameter <code class="docutils literal"><span class="pre">ignore_size</span></code>. When set ignore the recorded
size (useful for forcing activation when recorded size is wrong).</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(NonEmptyString,</span> <span class="pre">NonEmptyString,</span> <span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString))</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-deactivate-disks">
<span id="rapi-res-instances-instance-name-deactivate-disks"></span><h3><a class="toc-backref" href="#id171"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/deactivate-disks</span></code></a><a class="headerlink" href="#instances-instance-name-deactivate-disks" title="Permalink to this headline">Â¶</a></h3>
<p>Deactivate disks on an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-deactivate-disks-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-deactivate-disks-put">
<span id="id41"></span><h4><a class="toc-backref" href="#id172"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-deactivate-disks-put" title="Permalink to this headline">Â¶</a></h4>
<p>Takes no parameters.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-recreate-disks">
<span id="rapi-res-instances-instance-name-recreate-disks"></span><h3><a class="toc-backref" href="#id173"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/recreate-disks</span></code></a><a class="headerlink" href="#instances-instance-name-recreate-disks" title="Permalink to this headline">Â¶</a></h3>
<p>Recreate disks of an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-recreate-disks-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-recreate-disks-post">
<span id="id42"></span><h4><a class="toc-backref" href="#id174"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-recreate-disks-post" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">disks</span></code> (defaults to <code class="docutils literal"><span class="pre">[]</span></code>, must be <code class="docutils literal"><span class="pre">(List</span> <span class="pre">of</span> <span class="pre">EqualOrGreaterThanZero)</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(EqualOrGreaterThanZero</span> <span class="pre">[Disk</span> <span class="pre">index]),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">NonEmptyString</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(NonEmptyString</span> <span class="pre">or</span> <span class="pre">Integer)</span> <span class="pre">[Disk</span> <span class="pre">parameters]</span> <span class="pre">[Parameters]))))</span></code>)</p>
<blockquote>
<div>Disk list for recreate disks</div></blockquote>
<p><code class="docutils literal"><span class="pre">iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Iallocator for deciding the target node for shared-storage instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>An instance UUID (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">node_uuids</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">NonEmptyString)</span></code>)</p>
<blockquote>
<div>New instance node UUIDs, if relocation is desired</div></blockquote>
<p><code class="docutils literal"><span class="pre">nodes</span></code> (defaults to <code class="docutils literal"><span class="pre">[]</span></code>, must be <code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>New instance nodes, if relocation is desired</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-disk-disk-index-grow">
<span id="rapi-res-instances-instance-name-disk-disk-index-grow"></span><h3><a class="toc-backref" href="#id175"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/disk/[disk_index]/grow</span></code></a><a class="headerlink" href="#instances-instance-name-disk-disk-index-grow" title="Permalink to this headline">Â¶</a></h3>
<p>Grows one disk of an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-disk-disk-index-grow-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-disk-disk-index-grow-post">
<span id="id43"></span><h4><a class="toc-backref" href="#id176"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-disk-disk-index-grow-post" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">absolute</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether the amount parameter is an absolute target or a relative one</div></blockquote>
<p><code class="docutils literal"><span class="pre">amount</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">EqualOrGreaterThanZero</span></code>)</p>
<blockquote>
<div>Disk amount to add or grow to</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore ipolicy violations</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>An instance UUID (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">wait_for_sync</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to wait for the disk to synchronize</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-prepare-export">
<span id="rapi-res-instances-instance-name-prepare-export"></span><h3><a class="toc-backref" href="#id177"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/prepare-export</span></code></a><a class="headerlink" href="#instances-instance-name-prepare-export" title="Permalink to this headline">Â¶</a></h3>
<p>Prepares an export of an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-prepare-export-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-prepare-export-put">
<span id="id44"></span><h4><a class="toc-backref" href="#id178"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-prepare-export-put" title="Permalink to this headline">Â¶</a></h4>
<p>Takes one parameter, <code class="docutils literal"><span class="pre">mode</span></code>, for the export mode. Returns a job ID.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-export">
<span id="rapi-res-instances-instance-name-export"></span><h3><a class="toc-backref" href="#id179"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/export</span></code></a><a class="headerlink" href="#instances-instance-name-export" title="Permalink to this headline">Â¶</a></h3>
<p>Exports an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-export-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-export-put">
<span id="id45"></span><h4><a class="toc-backref" href="#id180"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-export-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">compress</span></code> (defaults to <code class="docutils literal"><span class="pre">none</span></code>, must be <code class="docutils literal"><span class="pre">String</span></code>)</p>
<blockquote>
<div>Compression mode to use for moves during backups/imports</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">destination</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span> <span class="pre">or</span> <span class="pre">List</span></code>)</p>
<blockquote>
<div>Target node (depends on export mode)</div></blockquote>
<p><code class="docutils literal"><span class="pre">destination_x509_ca</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Destination X509 CA (remote export only)</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_remove_failures</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore failures while removing instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>An instance UUID (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">long_sleep</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to allow long instance shutdowns during exports</div></blockquote>
<p><code class="docutils literal"><span class="pre">mode</span></code> (defaults to <code class="docutils literal"><span class="pre">local</span></code>, must be <code class="docutils literal"><span class="pre">OneOf</span> <span class="pre">remote,</span> <span class="pre">local</span></code>)</p>
<blockquote>
<div>Export mode</div></blockquote>
<p><code class="docutils literal"><span class="pre">remove_instance</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to remove instance after export</div></blockquote>
<p><code class="docutils literal"><span class="pre">shutdown</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to shutdown the instance before export</div></blockquote>
<p><code class="docutils literal"><span class="pre">shutdown_timeout</span></code> (defaults to <code class="docutils literal"><span class="pre">120</span></code>, must be <code class="docutils literal"><span class="pre">EqualOrGreaterThanZero</span></code>)</p>
<blockquote>
<div>How long to wait for instance to shut down</div></blockquote>
<p><code class="docutils literal"><span class="pre">target_node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Target node UUID (if local export)</div></blockquote>
<p><code class="docutils literal"><span class="pre">x509_key_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Name of X509 key (remote export only)</div></blockquote>
<p><code class="docutils literal"><span class="pre">zero_free_space</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to zero the free space on the disks of the instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">zeroing_timeout_fixed</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Integer</span></code>)</p>
<blockquote>
<div>The fixed part of time to wait before declaring the zeroing operation to have failed</div></blockquote>
<p><code class="docutils literal"><span class="pre">zeroing_timeout_per_mib</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Float</span></code>)</p>
<blockquote>
<div>The variable part of time to wait before declaring the zeroing operation to have failed, dependent on total size of disks</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">Tuple</span> <span class="pre">of</span> <span class="pre">(Boolean,</span> <span class="pre">List</span> <span class="pre">of</span> <span class="pre">Boolean)</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-migrate">
<span id="rapi-res-instances-instance-name-migrate"></span><h3><a class="toc-backref" href="#id181"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/migrate</span></code></a><a class="headerlink" href="#instances-instance-name-migrate" title="Permalink to this headline">Â¶</a></h3>
<p>Migrates an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-migrate-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-migrate-put">
<span id="id46"></span><h4><a class="toc-backref" href="#id182"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-migrate-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">allow_failover</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether we can fallback to failover if migration is not possible</div></blockquote>
<p><code class="docutils literal"><span class="pre">allow_runtime_changes</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to allow runtime changes while migrating</div></blockquote>
<p><code class="docutils literal"><span class="pre">cleanup</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether a previously failed migration should be cleaned up</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Iallocator for deciding the target node for shared-storage instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_hvversions</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore incompatible Hypervisor versions</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore ipolicy violations</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>An instance UUID (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">mode</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">non-live,</span> <span class="pre">live)</span></code>)</p>
<blockquote>
<div>Migration type (live/non-live)</div></blockquote>
<p><code class="docutils literal"><span class="pre">target_node</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Target node for instance migration/failover</div></blockquote>
<p><code class="docutils literal"><span class="pre">target_node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Target node UUID for instance migration/failover</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-failover">
<span id="rapi-res-instances-instance-name-failover"></span><h3><a class="toc-backref" href="#id183"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/failover</span></code></a><a class="headerlink" href="#instances-instance-name-failover" title="Permalink to this headline">Â¶</a></h3>
<p>Does a failover of an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-failover-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-failover-put">
<span id="id47"></span><h4><a class="toc-backref" href="#id184"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-failover-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">cleanup</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether a previously failed migration should be cleaned up</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Iallocator for deciding the target node for shared-storage instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_consistency</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore disk consistency</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore ipolicy violations</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>An instance UUID (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">shutdown_timeout</span></code> (defaults to <code class="docutils literal"><span class="pre">120</span></code>, must be <code class="docutils literal"><span class="pre">EqualOrGreaterThanZero</span></code>)</p>
<blockquote>
<div>How long to wait for instance to shut down</div></blockquote>
<p><code class="docutils literal"><span class="pre">target_node</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Target node for instance migration/failover</div></blockquote>
<p><code class="docutils literal"><span class="pre">target_node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Target node UUID for instance migration/failover</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-rename">
<span id="rapi-res-instances-instance-name-rename"></span><h3><a class="toc-backref" href="#id185"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/rename</span></code></a><a class="headerlink" href="#instances-instance-name-rename" title="Permalink to this headline">Â¶</a></h3>
<p>Renames an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-rename-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-rename-put">
<span id="id48"></span><h4><a class="toc-backref" href="#id186"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-rename-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>An instance UUID (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">ip_check</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ensure instance&#8217;s IP address is inactive</div></blockquote>
<p><code class="docutils literal"><span class="pre">name_check</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to check name</div></blockquote>
<p><code class="docutils literal"><span class="pre">new_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>New instance name</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">NonEmptyString</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-modify">
<span id="rapi-res-instances-instance-name-modify"></span><h3><a class="toc-backref" href="#id187"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/modify</span></code></a><a class="headerlink" href="#instances-instance-name-modify" title="Permalink to this headline">Â¶</a></h3>
<p>Modifies an instance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-modify-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-modify-put">
<span id="id49"></span><h4><a class="toc-backref" href="#id188"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-modify-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">beparams</span></code> (defaults to <code class="docutils literal"><span class="pre">{}</span></code>, must be <code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything</span></code>)</p>
<blockquote>
<div>Backend parameters for instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">conflicts_check</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to check for conflicting IP addresses</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">disk_template</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">sharedfile,</span> <span class="pre">diskless,</span> <span class="pre">plain,</span> <span class="pre">gluster,</span> <span class="pre">blockdev,</span> <span class="pre">drbd,</span> <span class="pre">ext,</span> <span class="pre">file,</span> <span class="pre">rbd)</span></code>)</p>
<blockquote>
<div>Instance disk template</div></blockquote>
<p><code class="docutils literal"><span class="pre">disks</span></code> (defaults to <code class="docutils literal"><span class="pre">[]</span></code>, must be <code class="docutils literal"><span class="pre">(List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">3)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(OneOf</span> <span class="pre">attach,</span> <span class="pre">add,</span> <span class="pre">detach,</span> <span class="pre">modify,</span> <span class="pre">remove),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(Integer</span> <span class="pre">or</span> <span class="pre">String</span> <span class="pre">[Device</span> <span class="pre">index,</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">negative,</span> <span class="pre">e.g.</span> <span class="pre">-1</span> <span class="pre">for</span> <span class="pre">last</span> <span class="pre">disk]),</span> <span class="pre">item</span> <span class="pre">2</span> <span class="pre">is</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">NonEmptyString</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(NonEmptyString</span> <span class="pre">or</span> <span class="pre">Integer)</span> <span class="pre">[Disk</span> <span class="pre">parameters])))</span> <span class="pre">[Recommended])</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">((OneOf</span> <span class="pre">attach,</span> <span class="pre">add,</span> <span class="pre">detach,</span> <span class="pre">remove)</span> <span class="pre">or</span> <span class="pre">EqualOrGreaterThanZero),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">NonEmptyString</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(NonEmptyString</span> <span class="pre">or</span> <span class="pre">Integer)</span> <span class="pre">[Disk</span> <span class="pre">parameters])))</span> <span class="pre">[Deprecated])</span></code>)</p>
<blockquote>
<div>List of disk changes</div></blockquote>
<p><code class="docutils literal"><span class="pre">ext_params</span></code> (defaults to <code class="docutils literal"><span class="pre">{}</span></code>, must be <code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything</span></code>)</p>
<blockquote>
<div>List of ExtStorage parameters</div></blockquote>
<p><code class="docutils literal"><span class="pre">file_driver</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">blktap2,</span> <span class="pre">blktap,</span> <span class="pre">loop)</span></code>)</p>
<blockquote>
<div>Driver for file-backed disks</div></blockquote>
<p><code class="docutils literal"><span class="pre">file_storage_dir</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Directory for storing file-backed disks</div></blockquote>
<p><code class="docutils literal"><span class="pre">force</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to force the operation</div></blockquote>
<p><code class="docutils literal"><span class="pre">force_variant</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to force an unknown OS variant</div></blockquote>
<p><code class="docutils literal"><span class="pre">hotplug</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<p><code class="docutils literal"><span class="pre">hotplug_if_possible</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<p><code class="docutils literal"><span class="pre">hvparams</span></code> (defaults to <code class="docutils literal"><span class="pre">{}</span></code>, must be <code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything</span></code>)</p>
<blockquote>
<div>Hypervisor parameters for instance, hypervisor-dependent</div></blockquote>
<p><code class="docutils literal"><span class="pre">iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Iallocator for deciding the target node for shared-storage instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore ipolicy violations</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_communication</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Enable or disable the communication mechanism for an instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">instance_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>An instance UUID (for single-instance LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">nics</span></code> (defaults to <code class="docutils literal"><span class="pre">[]</span></code>, must be <code class="docutils literal"><span class="pre">(List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">3)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(OneOf</span> <span class="pre">attach,</span> <span class="pre">add,</span> <span class="pre">detach,</span> <span class="pre">modify,</span> <span class="pre">remove),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(Integer</span> <span class="pre">or</span> <span class="pre">String</span> <span class="pre">[Device</span> <span class="pre">index,</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">negative,</span> <span class="pre">e.g.</span> <span class="pre">-1</span> <span class="pre">for</span> <span class="pre">last</span> <span class="pre">disk]),</span> <span class="pre">item</span> <span class="pre">2</span> <span class="pre">is</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">bridge,</span> <span class="pre">name,</span> <span class="pre">ip,</span> <span class="pre">vlan,</span> <span class="pre">mac,</span> <span class="pre">link,</span> <span class="pre">mode,</span> <span class="pre">network)</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(None</span> <span class="pre">or</span> <span class="pre">String)</span> <span class="pre">[NIC</span> <span class="pre">parameters])))</span> <span class="pre">[Recommended])</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">((OneOf</span> <span class="pre">attach,</span> <span class="pre">add,</span> <span class="pre">detach,</span> <span class="pre">remove)</span> <span class="pre">or</span> <span class="pre">EqualOrGreaterThanZero),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">bridge,</span> <span class="pre">name,</span> <span class="pre">ip,</span> <span class="pre">vlan,</span> <span class="pre">mac,</span> <span class="pre">link,</span> <span class="pre">mode,</span> <span class="pre">network)</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(None</span> <span class="pre">or</span> <span class="pre">String)</span> <span class="pre">[NIC</span> <span class="pre">parameters])))</span> <span class="pre">[Deprecated])</span></code>)</p>
<blockquote>
<div>List of NIC changes</div></blockquote>
<p><code class="docutils literal"><span class="pre">offline</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to mark the instance as offline</div></blockquote>
<p><code class="docutils literal"><span class="pre">os_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Change the instance&#8217;s OS without reinstalling the instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">osparams</span></code> (defaults to <code class="docutils literal"><span class="pre">{}</span></code>, must be <code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything</span></code>)</p>
<blockquote>
<div>OS parameters for instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">osparams_private</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">(Private</span> <span class="pre">Anything))</span></code>)</p>
<blockquote>
<div>Private OS parameters for instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">pnode</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Primary node for an instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">pnode_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Primary node UUID for an instance</div></blockquote>
<p><code class="docutils literal"><span class="pre">remote_node</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Secondary node (used when changing disk template)</div></blockquote>
<p><code class="docutils literal"><span class="pre">remote_node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Secondary node UUID (used when changing disk template)</div></blockquote>
<p><code class="docutils literal"><span class="pre">runtime_mem</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">GreaterThanZero</span></code>)</p>
<blockquote>
<div>New runtime memory</div></blockquote>
<p><code class="docutils literal"><span class="pre">wait_for_sync</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to wait for the disk to synchronize</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(NonEmptyString,</span> <span class="pre">Anything))</span></code></p>
</div>
</div>
<div class="section" id="instances-instance-name-console">
<span id="rapi-res-instances-instance-name-console"></span><h3><a class="toc-backref" href="#id189"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/console</span></code></a><a class="headerlink" href="#instances-instance-name-console" title="Permalink to this headline">Â¶</a></h3>
<p>Request information for connecting to instance&#8217;s console.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-console-get"><span>GET</span></a></td>
<td>read, write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-console-get">
<span id="id50"></span><h4><a class="toc-backref" href="#id190"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-console-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a dictionary containing information about the instance&#8217;s
console. Contained keys:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">instance</span></code></dt>
<dd>Instance name</dd>
<dt><code class="docutils literal"><span class="pre">kind</span></code></dt>
<dd>Console type, one of <code class="docutils literal"><span class="pre">ssh</span></code>,
<code class="docutils literal"><span class="pre">vnc</span></code>, <code class="docutils literal"><span class="pre">spice</span></code>
or <code class="docutils literal"><span class="pre">msg</span></code></dd>
<dt><code class="docutils literal"><span class="pre">message</span></code></dt>
<dd>Message to display (<code class="docutils literal"><span class="pre">msg</span></code> type only)</dd>
<dt><code class="docutils literal"><span class="pre">host</span></code></dt>
<dd>Host to connect to (<code class="docutils literal"><span class="pre">ssh</span></code>,
<code class="docutils literal"><span class="pre">vnc</span></code> or <code class="docutils literal"><span class="pre">spice</span></code> only)</dd>
<dt><code class="docutils literal"><span class="pre">port</span></code></dt>
<dd>TCP port to connect to (<code class="docutils literal"><span class="pre">vnc</span></code> or
<code class="docutils literal"><span class="pre">spice</span></code> only)</dd>
<dt><code class="docutils literal"><span class="pre">user</span></code></dt>
<dd>Username to use (<code class="docutils literal"><span class="pre">ssh</span></code> only)</dd>
<dt><code class="docutils literal"><span class="pre">command</span></code></dt>
<dd>Command to execute on machine (<code class="docutils literal"><span class="pre">ssh</span></code> only)</dd>
<dt><code class="docutils literal"><span class="pre">display</span></code></dt>
<dd>VNC display number (<code class="docutils literal"><span class="pre">vnc</span></code> only)</dd>
</dl>
</div>
</div>
<div class="section" id="instances-instance-name-tags">
<span id="rapi-res-instances-instance-name-tags"></span><h3><a class="toc-backref" href="#id191"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/tags</span></code></a><a class="headerlink" href="#instances-instance-name-tags" title="Permalink to this headline">Â¶</a></h3>
<p>Manages per-instance tags.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-tags-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-instances-instance-name-tags-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-instances-instance-name-tags-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-instances-instance-name-tags-get">
<span id="id51"></span><h4><a class="toc-backref" href="#id192"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-tags-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of tags.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;]
</pre></div>
</div>
</div>
<div class="section" id="rapi-res-instances-instance-name-tags-put">
<span id="id52"></span><h4><a class="toc-backref" href="#id193"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-tags-put" title="Permalink to this headline">Â¶</a></h4>
<p>Add a set of tags.</p>
<p>The request as a list of strings should be <code class="docutils literal"><span class="pre">PUT</span></code> to this URI. The
result will be a job id.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
</div>
<div class="section" id="rapi-res-instances-instance-name-tags-delete">
<span id="id53"></span><h4><a class="toc-backref" href="#id194"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#rapi-res-instances-instance-name-tags-delete" title="Permalink to this headline">Â¶</a></h4>
<p>Delete a tag.</p>
<p>In order to delete a set of tags, the DELETE request should be addressed
to URI like:</p>
<div class="highlight-none"><div class="highlight"><pre>/tags?tag=[tag]&amp;tag=[tag]
</pre></div>
</div>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
</div>
</div>
<div class="section" id="jobs">
<span id="rapi-res-jobs"></span><h3><a class="toc-backref" href="#id195"><code class="docutils literal"><span class="pre">/2/jobs</span></code></a><a class="headerlink" href="#jobs" title="Permalink to this headline">Â¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">/2/jobs</span></code> resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-jobs-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-jobs-get">
<span id="id54"></span><h4><a class="toc-backref" href="#id196"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-jobs-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a dictionary of jobs.</p>
<p>Returns: a dictionary with jobs id and uri.</p>
<p>If the optional bool <em>bulk</em> argument is provided and set to a true value
(i.e. <code class="docutils literal"><span class="pre">?bulk=1</span></code>), the output contains detailed information about jobs
as a list.</p>
<p>Returned fields for bulk requests (unlike other bulk requests, these
fields are not the same as for per-job requests):
<code class="docutils literal"><span class="pre">end_ts,</span> <span class="pre">id,</span> <span class="pre">ops,</span> <span class="pre">opstatus,</span> <span class="pre">received_ts,</span> <span class="pre">start_ts,</span> <span class="pre">status,</span> <span class="pre">summary</span></code>.</p>
</div>
</div>
<div class="section" id="jobs-job-id">
<span id="rapi-res-jobs-job-id"></span><h3><a class="toc-backref" href="#id197"><code class="docutils literal"><span class="pre">/2/jobs/[job_id]</span></code></a><a class="headerlink" href="#jobs-job-id" title="Permalink to this headline">Â¶</a></h3>
<p>Individual job URI.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-jobs-job-id-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-jobs-job-id-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-jobs-job-id-get">
<span id="id55"></span><h4><a class="toc-backref" href="#id198"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-jobs-job-id-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a dictionary with job parameters, containing the fields
<code class="docutils literal"><span class="pre">end_ts,</span> <span class="pre">id,</span> <span class="pre">oplog,</span> <span class="pre">opresult,</span> <span class="pre">ops,</span> <span class="pre">opstatus,</span> <span class="pre">received_ts,</span> <span class="pre">start_ts,</span> <span class="pre">status,</span> <span class="pre">summary</span></code>.</p>
<p>The result includes:</p>
<ul class="simple">
<li>id: job ID as a number</li>
<li>status: current job status as a string</li>
<li>ops: involved OpCodes as a list of dictionaries for each opcodes in
the job</li>
<li>opstatus: OpCodes status as a list</li>
<li>opresult: OpCodes results as a list</li>
</ul>
<p>For a successful opcode, the <code class="docutils literal"><span class="pre">opresult</span></code> field corresponding to it will
contain the raw result from its <a class="reference internal" href="glossary.html#term-logicalunit"><span class="xref std std-term">LogicalUnit</span></a>. In case an opcode
has failed, its element in the opresult list will be a list of two
elements:</p>
<ul class="simple">
<li>first element the error type (the Ganeti internal error name)</li>
<li>second element a list of either one or two elements:<ul>
<li>the first element is the textual error description</li>
<li>the second element, if any, will hold an error classification</li>
</ul>
</li>
</ul>
<p>The error classification is most useful for the <code class="docutils literal"><span class="pre">OpPrereqError</span></code>
error type - these errors happen before the OpCode has started
executing, so it&#8217;s possible to retry the OpCode without side
effects. But whether it make sense to retry depends on the error
classification:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">resolver_error</span></code></dt>
<dd>Resolver errors. This usually means that a name doesn&#8217;t exist in DNS,
so if it&#8217;s a case of slow DNS propagation the operation can be retried
later.</dd>
<dt><code class="docutils literal"><span class="pre">insufficient_resources</span></code></dt>
<dd>Not enough resources (iallocator failure, disk space, memory,
etc.). If the resources on the cluster increase, the operation might
succeed.</dd>
<dt><code class="docutils literal"><span class="pre">temp_insufficient_resources</span></code></dt>
<dd>Simliar to <code class="docutils literal"><span class="pre">insufficient_resources</span></code>, but indicating the operation
should be attempted again after some time.</dd>
<dt><code class="docutils literal"><span class="pre">wrong_input</span></code></dt>
<dd>Wrong arguments (at syntax level). The operation will not ever be
accepted unless the arguments change.</dd>
<dt><code class="docutils literal"><span class="pre">wrong_state</span></code></dt>
<dd>Wrong entity state. For example, live migration has been requested for
a down instance, or instance creation on an offline node. The
operation can be retried once the resource has changed state.</dd>
<dt><code class="docutils literal"><span class="pre">unknown_entity</span></code></dt>
<dd>Entity not found. For example, information has been requested for an
unknown instance.</dd>
<dt><code class="docutils literal"><span class="pre">already_exists</span></code></dt>
<dd>Entity already exists. For example, instance creation has been
requested for an already-existing instance.</dd>
<dt><code class="docutils literal"><span class="pre">resource_not_unique</span></code></dt>
<dd>Resource not unique (e.g. MAC or IP duplication).</dd>
<dt><code class="docutils literal"><span class="pre">internal_error</span></code></dt>
<dd>Internal cluster error. For example, a node is unreachable but not set
offline, or the ganeti node daemons are not working, etc. A
<code class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></code> should be run.</dd>
<dt><code class="docutils literal"><span class="pre">environment_error</span></code></dt>
<dd>Environment error (e.g. node disk error). A <code class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></code>
should be run.</dd>
</dl>
<p>Note that in the above list, by entity we refer to a node or instance,
while by a resource we refer to an instance&#8217;s disk, or NIC, etc.</p>
</div>
<div class="section" id="rapi-res-jobs-job-id-delete">
<span id="id56"></span><h4><a class="toc-backref" href="#id199"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#rapi-res-jobs-job-id-delete" title="Permalink to this headline">Â¶</a></h4>
<p>Cancel a not-yet-started job.</p>
</div>
</div>
<div class="section" id="jobs-job-id-wait">
<span id="rapi-res-jobs-job-id-wait"></span><h3><a class="toc-backref" href="#id200"><code class="docutils literal"><span class="pre">/2/jobs/[job_id]/wait</span></code></a><a class="headerlink" href="#jobs-job-id-wait" title="Permalink to this headline">Â¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-jobs-job-id-wait-get"><span>GET</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-jobs-job-id-wait-get">
<span id="id57"></span><h4><a class="toc-backref" href="#id201"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-jobs-job-id-wait-get" title="Permalink to this headline">Â¶</a></h4>
<p>Waits for changes on a job. Takes the following body parameters in a
dict:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">fields</span></code></dt>
<dd>The job fields on which to watch for changes</dd>
<dt><code class="docutils literal"><span class="pre">previous_job_info</span></code></dt>
<dd>Previously received field values or None if not yet available</dd>
<dt><code class="docutils literal"><span class="pre">previous_log_serial</span></code></dt>
<dd>Highest log serial number received so far or None if not yet
available</dd>
</dl>
<p>Returns None if no changes have been detected and a dict with two keys,
<code class="docutils literal"><span class="pre">job_info</span></code> and <code class="docutils literal"><span class="pre">log_entries</span></code> otherwise.</p>
</div>
</div>
<div class="section" id="nodes">
<span id="rapi-res-nodes"></span><h3><a class="toc-backref" href="#id202"><code class="docutils literal"><span class="pre">/2/nodes</span></code></a><a class="headerlink" href="#nodes" title="Permalink to this headline">Â¶</a></h3>
<p>Nodes resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-get">
<span id="id58"></span><h4><a class="toc-backref" href="#id203"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-nodes-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of all nodes.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[
  {
    &quot;id&quot;: &quot;node1.example.com&quot;,
    &quot;uri&quot;: &quot;/nodes/node1.example.com&quot;
  },
  {
    &quot;id&quot;: &quot;node2.example.com&quot;,
    &quot;uri&quot;: &quot;/nodes/node2.example.com&quot;
  }
]
</pre></div>
</div>
<p>If the optional bool <em>bulk</em> argument is provided and set to a true value
(i.e <code class="docutils literal"><span class="pre">?bulk=1</span></code>), the output contains detailed information about nodes
as a list.</p>
<p>Returned fields: <code class="docutils literal"><span class="pre">cnodes,</span> <span class="pre">cnos,</span> <span class="pre">csockets,</span> <span class="pre">ctime,</span> <span class="pre">ctotal,</span> <span class="pre">dfree,</span> <span class="pre">drained,</span> <span class="pre">dtotal,</span> <span class="pre">group.uuid,</span> <span class="pre">master_candidate,</span> <span class="pre">master_capable,</span> <span class="pre">mfree,</span> <span class="pre">mnode,</span> <span class="pre">mtime,</span> <span class="pre">mtotal,</span> <span class="pre">name,</span> <span class="pre">ndparams,</span> <span class="pre">offline,</span> <span class="pre">pinst_cnt,</span> <span class="pre">pinst_list,</span> <span class="pre">pip,</span> <span class="pre">role,</span> <span class="pre">serial_no,</span> <span class="pre">sinst_cnt,</span> <span class="pre">sinst_list,</span> <span class="pre">sip,</span> <span class="pre">spfree,</span> <span class="pre">sptotal,</span> <span class="pre">tags,</span> <span class="pre">uuid,</span> <span class="pre">vm_capable</span></code>.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[
  {
    &quot;pinst_cnt&quot;: 1,
    &quot;mfree&quot;: 31280,
    &quot;mtotal&quot;: 32763,
    &quot;name&quot;: &quot;www.example.com&quot;,
    &quot;tags&quot;: [],
    &quot;mnode&quot;: 512,
    &quot;dtotal&quot;: 5246208,
    &quot;sinst_cnt&quot;: 2,
    &quot;dfree&quot;: 5171712,
    &quot;offline&quot;: false,
    // ...
  },
  // ...
]
</pre></div>
</div>
</div>
</div>
<div class="section" id="nodes-node-name">
<span id="rapi-res-nodes-node-name"></span><h3><a class="toc-backref" href="#id204"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]</span></code></a><a class="headerlink" href="#nodes-node-name" title="Permalink to this headline">Â¶</a></h3>
<p>Returns information about a node.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-node-name-get">
<span id="id59"></span><h4><a class="toc-backref" href="#id205"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returned fields: <code class="docutils literal"><span class="pre">cnodes,</span> <span class="pre">cnos,</span> <span class="pre">csockets,</span> <span class="pre">ctime,</span> <span class="pre">ctotal,</span> <span class="pre">dfree,</span> <span class="pre">drained,</span> <span class="pre">dtotal,</span> <span class="pre">group.uuid,</span> <span class="pre">master_candidate,</span> <span class="pre">master_capable,</span> <span class="pre">mfree,</span> <span class="pre">mnode,</span> <span class="pre">mtime,</span> <span class="pre">mtotal,</span> <span class="pre">name,</span> <span class="pre">ndparams,</span> <span class="pre">offline,</span> <span class="pre">pinst_cnt,</span> <span class="pre">pinst_list,</span> <span class="pre">pip,</span> <span class="pre">role,</span> <span class="pre">serial_no,</span> <span class="pre">sinst_cnt,</span> <span class="pre">sinst_list,</span> <span class="pre">sip,</span> <span class="pre">spfree,</span> <span class="pre">sptotal,</span> <span class="pre">tags,</span> <span class="pre">uuid,</span> <span class="pre">vm_capable</span></code>.</p>
</div>
</div>
<div class="section" id="nodes-node-name-powercycle">
<span id="rapi-res-nodes-node-name-powercycle"></span><h3><a class="toc-backref" href="#id206"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/powercycle</span></code></a><a class="headerlink" href="#nodes-node-name-powercycle" title="Permalink to this headline">Â¶</a></h3>
<p>Powercycles a node.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-powercycle-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-node-name-powercycle-post">
<span id="id60"></span><h4><a class="toc-backref" href="#id207"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-powercycle-post" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code></p>
</div>
</div>
<div class="section" id="nodes-node-name-evacuate">
<span id="rapi-res-nodes-node-name-evacuate"></span><h3><a class="toc-backref" href="#id208"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/evacuate</span></code></a><a class="headerlink" href="#nodes-node-name-evacuate" title="Permalink to this headline">Â¶</a></h3>
<p>Evacuates instances off a node.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-evacuate-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-node-name-evacuate-post">
<span id="id61"></span><h4><a class="toc-backref" href="#id209"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-evacuate-post" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID. The result of the job will contain the IDs of the
individual jobs submitted to evacuate the node.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">early_release</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to release locks as soon as possible</div></blockquote>
<p><code class="docutils literal"><span class="pre">iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Iallocator for deciding the target node for shared-storage instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_soft_errors</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Ignore soft htools errors</div></blockquote>
<p><code class="docutils literal"><span class="pre">mode</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">OneOf</span> <span class="pre">all,</span> <span class="pre">secondary-only,</span> <span class="pre">primary-only</span></code>)</p>
<blockquote>
<div>Node evacuation mode</div></blockquote>
<p><code class="docutils literal"><span class="pre">node_name</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>A required node name (for single-node LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>A node UUID (for single-node LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">remote_node</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>New secondary node</div></blockquote>
<p><code class="docutils literal"><span class="pre">remote_node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>New secondary node UUID</div></blockquote>
<p>Up to and including Ganeti 2.4 query arguments were used. Those are no
longer supported. The new request can be detected by the presence of the
<code class="docutils literal"><span class="pre">node-evac-res1</span></code> feature string.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">containing</span> <span class="pre">none</span> <span class="pre">but</span> <span class="pre">the</span> <span class="pre">required</span> <span class="pre">key</span> <span class="pre">&quot;jobs&quot;</span> <span class="pre">(value</span> <span class="pre">List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(Boolean</span> <span class="pre">[success]),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(String</span> <span class="pre">or</span> <span class="pre">JobId</span> <span class="pre">[Job</span> <span class="pre">ID</span> <span class="pre">if</span> <span class="pre">successful,</span> <span class="pre">error</span> <span class="pre">message</span> <span class="pre">otherwise])))</span> <span class="pre">[List</span> <span class="pre">of</span> <span class="pre">submitted</span> <span class="pre">jobs])</span></code></p>
</div>
</div>
<div class="section" id="nodes-node-name-migrate">
<span id="rapi-res-nodes-node-name-migrate"></span><h3><a class="toc-backref" href="#id210"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/migrate</span></code></a><a class="headerlink" href="#nodes-node-name-migrate" title="Permalink to this headline">Â¶</a></h3>
<p>Migrates all primary instances from a node.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-migrate-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-node-name-migrate-post">
<span id="id62"></span><h4><a class="toc-backref" href="#id211"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-migrate-post" title="Permalink to this headline">Â¶</a></h4>
<p>If no mode is explicitly specified, each instances&#8217; hypervisor default
migration mode will be used. Body parameters:</p>
<p><code class="docutils literal"><span class="pre">allow_runtime_changes</span></code> (defaults to <code class="docutils literal"><span class="pre">True</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to allow runtime changes while migrating</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">iallocator</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Iallocator for deciding the target node for shared-storage instances</div></blockquote>
<p><code class="docutils literal"><span class="pre">ignore_ipolicy</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to ignore ipolicy violations</div></blockquote>
<p><code class="docutils literal"><span class="pre">live</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Obsolete &#8216;live&#8217; migration mode (do not use)</div></blockquote>
<p><code class="docutils literal"><span class="pre">mode</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(OneOf</span> <span class="pre">non-live,</span> <span class="pre">live)</span></code>)</p>
<blockquote>
<div>Migration type (live/non-live)</div></blockquote>
<p><code class="docutils literal"><span class="pre">node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>A node UUID (for single-node LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">target_node</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Target node for instance migration/failover</div></blockquote>
<p><code class="docutils literal"><span class="pre">target_node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Target node UUID for instance migration/failover</div></blockquote>
<p>The query arguments used up to and including Ganeti 2.4 are deprecated
and should no longer be used. The new request format can be detected by
the presence of the <code class="docutils literal"><span class="pre">node-migrate-reqv1</span></code> feature string.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">containing</span> <span class="pre">none</span> <span class="pre">but</span> <span class="pre">the</span> <span class="pre">required</span> <span class="pre">key</span> <span class="pre">&quot;jobs&quot;</span> <span class="pre">(value</span> <span class="pre">List</span> <span class="pre">of</span> <span class="pre">((Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(Boolean</span> <span class="pre">[success]),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(String</span> <span class="pre">or</span> <span class="pre">JobId</span> <span class="pre">[Job</span> <span class="pre">ID</span> <span class="pre">if</span> <span class="pre">successful,</span> <span class="pre">error</span> <span class="pre">message</span> <span class="pre">otherwise])))</span> <span class="pre">[List</span> <span class="pre">of</span> <span class="pre">submitted</span> <span class="pre">jobs])</span></code></p>
</div>
</div>
<div class="section" id="nodes-node-name-role">
<span id="rapi-res-nodes-node-name-role"></span><h3><a class="toc-backref" href="#id212"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/role</span></code></a><a class="headerlink" href="#nodes-node-name-role" title="Permalink to this headline">Â¶</a></h3>
<p>Manages node role.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-role-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-nodes-node-name-role-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<p>The role is always one of the following:</p>
<blockquote>
<div><ul class="simple">
<li>drained</li>
<li>master-candidate</li>
<li>offline</li>
<li>regular</li>
</ul>
</div></blockquote>
<p>Note that the &#8216;master&#8217; role is a special, and currently it can&#8217;t be
modified via RAPI, only via the command line (<code class="docutils literal"><span class="pre">gnt-cluster</span>
<span class="pre">master-failover</span></code>).</p>
<div class="section" id="rapi-res-nodes-node-name-role-get">
<span id="id63"></span><h4><a class="toc-backref" href="#id213"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-role-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns the current node role.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>&quot;master-candidate&quot;
</pre></div>
</div>
</div>
<div class="section" id="rapi-res-nodes-node-name-role-put">
<span id="id64"></span><h4><a class="toc-backref" href="#id214"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-role-put" title="Permalink to this headline">Â¶</a></h4>
<p>Change the node role.</p>
<p>The request is a string which should be PUT to this URI. The result will
be a job id.</p>
<p>It supports the bool <code class="docutils literal"><span class="pre">force</span></code> argument.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(NonEmptyString,</span> <span class="pre">Anything))</span></code></p>
</div>
</div>
<div class="section" id="nodes-node-name-modify">
<span id="rapi-res-nodes-node-name-modify"></span><h3><a class="toc-backref" href="#id215"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/modify</span></code></a><a class="headerlink" href="#nodes-node-name-modify" title="Permalink to this headline">Â¶</a></h3>
<p>Modifies the parameters of a node.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-modify-post"><span>POST</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-node-name-modify-post">
<span id="id65"></span><h4><a class="toc-backref" href="#id216"><code class="docutils literal"><span class="pre">POST</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-modify-post" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a job ID.</p>
<p>Body parameters:</p>
<p><code class="docutils literal"><span class="pre">auto_promote</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether node(s) should be promoted to master candidate if necessary</div></blockquote>
<p><code class="docutils literal"><span class="pre">depends</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(((List</span> <span class="pre">of</span> <span class="pre">Anything)</span> <span class="pre">or</span> <span class="pre">Tuple)</span> <span class="pre">and</span> <span class="pre">(Length</span> <span class="pre">2)</span> <span class="pre">and</span> <span class="pre">(Item</span> <span class="pre">0</span> <span class="pre">is</span> <span class="pre">(JobId</span> <span class="pre">or</span> <span class="pre">RelativeJobId),</span> <span class="pre">item</span> <span class="pre">1</span> <span class="pre">is</span> <span class="pre">(List</span> <span class="pre">of</span> <span class="pre">(OneOf</span> <span class="pre">canceled,</span> <span class="pre">success,</span> <span class="pre">error)))))</span></code>)</p>
<blockquote>
<div>Job dependencies; if used through <code class="docutils literal"><span class="pre">SubmitManyJobs</span></code> relative (negative) job IDs can be used; see <a class="reference internal" href="design-chained-jobs.html"><em>design document</em></a> for details</div></blockquote>
<p><code class="docutils literal"><span class="pre">disk_state</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Set disk states</div></blockquote>
<p><code class="docutils literal"><span class="pre">drained</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to mark the node as drained</div></blockquote>
<p><code class="docutils literal"><span class="pre">force</span></code> (defaults to <code class="docutils literal"><span class="pre">False</span></code>, must be <code class="docutils literal"><span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to force the operation</div></blockquote>
<p><code class="docutils literal"><span class="pre">hv_state</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Set hypervisor states</div></blockquote>
<p><code class="docutils literal"><span class="pre">master_candidate</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether the node should become a master candidate</div></blockquote>
<p><code class="docutils literal"><span class="pre">master_capable</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether node can become master or master candidate</div></blockquote>
<p><code class="docutils literal"><span class="pre">ndparams</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">(Dictionary</span> <span class="pre">with</span> <span class="pre">keys</span> <span class="pre">of</span> <span class="pre">Anything</span> <span class="pre">and</span> <span class="pre">values</span> <span class="pre">of</span> <span class="pre">Anything)</span></code>)</p>
<blockquote>
<div>Node parameters</div></blockquote>
<p><code class="docutils literal"><span class="pre">node_uuid</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>A node UUID (for single-node LUs)</div></blockquote>
<p><code class="docutils literal"><span class="pre">offline</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether to mark the node offline</div></blockquote>
<p><code class="docutils literal"><span class="pre">powered</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether the node should be marked as powered</div></blockquote>
<p><code class="docutils literal"><span class="pre">secondary_ip</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">NonEmptyString</span></code>)</p>
<blockquote>
<div>Secondary IP address</div></blockquote>
<p><code class="docutils literal"><span class="pre">vm_capable</span></code> (defaults to <code class="docutils literal"><span class="pre">None</span></code>, must be <code class="docutils literal"><span class="pre">None</span> <span class="pre">or</span> <span class="pre">Boolean</span></code>)</p>
<blockquote>
<div>Whether node can host instances</div></blockquote>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">(Tuple</span> <span class="pre">of</span> <span class="pre">(NonEmptyString,</span> <span class="pre">Anything))</span></code></p>
</div>
</div>
<div class="section" id="nodes-node-name-storage">
<span id="rapi-res-nodes-node-name-storage"></span><h3><a class="toc-backref" href="#id217"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage</span></code></a><a class="headerlink" href="#nodes-node-name-storage" title="Permalink to this headline">Â¶</a></h3>
<p>Manages storage units on the node.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-storage-get"><span>GET</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-node-name-storage-get">
<span id="id66"></span><h4><a class="toc-backref" href="#id218"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-storage-get" title="Permalink to this headline">Â¶</a></h4>
<p>Requests a list of storage units on a node. Requires the parameters
<code class="docutils literal"><span class="pre">storage_type</span></code> for storage types that support space reporting
(one of <code class="docutils literal"><span class="pre">file</span></code>, <code class="docutils literal"><span class="pre">lvm-pv</span></code>
or <code class="docutils literal"><span class="pre">lvm-vg</span></code>) and <code class="docutils literal"><span class="pre">output_fields</span></code>. The result
will be a job id, using which the result can be retrieved.</p>
</div>
</div>
<div class="section" id="nodes-node-name-storage-modify">
<span id="rapi-res-nodes-node-name-storage-modify"></span><h3><a class="toc-backref" href="#id219"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/modify</span></code></a><a class="headerlink" href="#nodes-node-name-storage-modify" title="Permalink to this headline">Â¶</a></h3>
<p>Modifies storage units on the node.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-storage-modify-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-node-name-storage-modify-put">
<span id="id67"></span><h4><a class="toc-backref" href="#id220"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-storage-modify-put" title="Permalink to this headline">Â¶</a></h4>
<p>Modifies parameters of storage units on the node. Requires the
parameters <code class="docutils literal"><span class="pre">storage_type</span></code> (one of <code class="docutils literal"><span class="pre">file</span></code>,
<code class="docutils literal"><span class="pre">lvm-pv</span></code> or <code class="docutils literal"><span class="pre">lvm-vg</span></code>)
and <code class="docutils literal"><span class="pre">name</span></code> (name of the storage unit).  Parameters can be passed
additionally. Currently only <code class="docutils literal"><span class="pre">allocatable</span></code> (bool)
is supported. The result will be a job id.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="nodes-node-name-storage-repair">
<span id="rapi-res-nodes-node-name-storage-repair"></span><h3><a class="toc-backref" href="#id221"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/repair</span></code></a><a class="headerlink" href="#nodes-node-name-storage-repair" title="Permalink to this headline">Â¶</a></h3>
<p>Repairs a storage unit on the node.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-storage-repair-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-node-name-storage-repair-put">
<span id="id68"></span><h4><a class="toc-backref" href="#id222"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-storage-repair-put" title="Permalink to this headline">Â¶</a></h4>
<p>Repairs a storage unit on the node. Requires the parameters
<code class="docutils literal"><span class="pre">storage_type</span></code> (currently only <code class="docutils literal"><span class="pre">lvm-vg</span></code> can be
repaired) and <code class="docutils literal"><span class="pre">name</span></code> (name of the storage unit). The result will be a
job id.</p>
<p>Job result:</p>
<p><code class="docutils literal"><span class="pre">None</span></code></p>
</div>
</div>
<div class="section" id="nodes-node-name-tags">
<span id="rapi-res-nodes-node-name-tags"></span><h3><a class="toc-backref" href="#id223"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/tags</span></code></a><a class="headerlink" href="#nodes-node-name-tags" title="Permalink to this headline">Â¶</a></h3>
<p>Manages per-node tags.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-tags-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-nodes-node-name-tags-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-nodes-node-name-tags-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-nodes-node-name-tags-get">
<span id="id69"></span><h4><a class="toc-backref" href="#id224"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-tags-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of tags.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;]
</pre></div>
</div>
</div>
<div class="section" id="rapi-res-nodes-node-name-tags-put">
<span id="id70"></span><h4><a class="toc-backref" href="#id225"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-tags-put" title="Permalink to this headline">Â¶</a></h4>
<p>Add a set of tags.</p>
<p>The request as a list of strings should be PUT to this URI. The result
will be a job id.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
</div>
<div class="section" id="rapi-res-nodes-node-name-tags-delete">
<span id="id71"></span><h4><a class="toc-backref" href="#id226"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#rapi-res-nodes-node-name-tags-delete" title="Permalink to this headline">Â¶</a></h4>
<p>Deletes tags.</p>
<p>In order to delete a set of tags, the DELETE request should be addressed
to URI like:</p>
<div class="highlight-none"><div class="highlight"><pre>/tags?tag=[tag]&amp;tag=[tag]
</pre></div>
</div>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
</div>
</div>
<div class="section" id="query-resource">
<span id="rapi-res-query-resource"></span><h3><a class="toc-backref" href="#id227"><code class="docutils literal"><span class="pre">/2/query/[resource]</span></code></a><a class="headerlink" href="#query-resource" title="Permalink to this headline">Â¶</a></h3>
<p>Requests resource information. Available fields can be found in man
pages and using <code class="docutils literal"><span class="pre">/2/query/[resource]/fields</span></code>. The resource is one of
<code class="docutils literal"><span class="pre">node,</span> <span class="pre">group,</span> <span class="pre">network,</span> <span class="pre">lock,</span> <span class="pre">filter,</span> <span class="pre">instance,</span> <span class="pre">job,</span> <span class="pre">export</span></code>. See the <a class="reference internal" href="design-query2.html"><em>query2
design document</em></a> for more details.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-query-resource-get"><span>GET</span></a></td>
<td>read, write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-query-resource-put"><span>PUT</span></a></td>
<td>read, write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-query-resource-get">
<span id="id72"></span><h4><a class="toc-backref" href="#id228"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-query-resource-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns list of included fields and actual data. Takes a query parameter
named &#8220;fields&#8221;, containing a comma-separated list of field names. Does
not support filtering.</p>
</div>
<div class="section" id="rapi-res-query-resource-put">
<span id="id73"></span><h4><a class="toc-backref" href="#id229"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-query-resource-put" title="Permalink to this headline">Â¶</a></h4>
<p>Returns list of included fields and actual data. The list of requested
fields can either be given as the query parameter &#8220;fields&#8221; or as a body
parameter with the same name. The optional body parameter &#8220;filter&#8221; can
be given and must be either <code class="docutils literal"><span class="pre">null</span></code> or a list containing filter
operators.</p>
</div>
</div>
<div class="section" id="query-resource-fields">
<span id="rapi-res-query-resource-fields"></span><h3><a class="toc-backref" href="#id230"><code class="docutils literal"><span class="pre">/2/query/[resource]/fields</span></code></a><a class="headerlink" href="#query-resource-fields" title="Permalink to this headline">Â¶</a></h3>
<p>Request list of available fields for a resource. The resource is one of
<code class="docutils literal"><span class="pre">node,</span> <span class="pre">group,</span> <span class="pre">network,</span> <span class="pre">lock,</span> <span class="pre">filter,</span> <span class="pre">instance,</span> <span class="pre">job,</span> <span class="pre">export</span></code>. See the
<a class="reference internal" href="design-query2.html"><em>query2 design document</em></a> for more details.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-query-resource-fields-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-query-resource-fields-get">
<span id="id74"></span><h4><a class="toc-backref" href="#id231"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-query-resource-fields-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns a list of field descriptions for available fields. Takes an
optional query parameter named &#8220;fields&#8221;, containing a comma-separated
list of field names.</p>
</div>
</div>
<div class="section" id="os">
<span id="rapi-res-os"></span><h3><a class="toc-backref" href="#id232"><code class="docutils literal"><span class="pre">/2/os</span></code></a><a class="headerlink" href="#os" title="Permalink to this headline">Â¶</a></h3>
<p>OS resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-os-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-os-get">
<span id="id75"></span><h4><a class="toc-backref" href="#id233"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-os-get" title="Permalink to this headline">Â¶</a></h4>
<p>Return a list of all OSes.</p>
<p>Can return error 500 in case of a problem. Since this is a costly
operation for Ganeti 2.0, it is not recommended to execute it too often.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[&quot;debian-etch&quot;]
</pre></div>
</div>
</div>
</div>
<div class="section" id="tags">
<span id="rapi-res-tags"></span><h3><a class="toc-backref" href="#id234"><code class="docutils literal"><span class="pre">/2/tags</span></code></a><a class="headerlink" href="#tags" title="Permalink to this headline">Â¶</a></h3>
<p>Manages cluster tags.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-tags-delete"><span>DELETE</span></a></td>
<td>write</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapi-res-tags-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-tags-put"><span>PUT</span></a></td>
<td>write</td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-tags-get">
<span id="id76"></span><h4><a class="toc-backref" href="#id235"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-tags-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns the cluster tags.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>[&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;]
</pre></div>
</div>
</div>
<div class="section" id="rapi-res-tags-put">
<span id="id77"></span><h4><a class="toc-backref" href="#id236"><code class="docutils literal"><span class="pre">PUT</span></code></a><a class="headerlink" href="#rapi-res-tags-put" title="Permalink to this headline">Â¶</a></h4>
<p>Adds a set of tags.</p>
<p>The request as a list of strings should be PUT to this URI. The result
will be a job id.</p>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
</div>
<div class="section" id="rapi-res-tags-delete">
<span id="id78"></span><h4><a class="toc-backref" href="#id237"><code class="docutils literal"><span class="pre">DELETE</span></code></a><a class="headerlink" href="#rapi-res-tags-delete" title="Permalink to this headline">Â¶</a></h4>
<p>Deletes tags.</p>
<p>In order to delete a set of tags, the DELETE request should be addressed
to URI like:</p>
<div class="highlight-none"><div class="highlight"><pre>/tags?tag=[tag]&amp;tag=[tag]
</pre></div>
</div>
<p>It supports the <code class="docutils literal"><span class="pre">dry-run</span></code> argument.</p>
</div>
</div>
<div class="section" id="version">
<span id="rapi-res-version"></span><h3><a class="toc-backref" href="#id238"><code class="docutils literal"><span class="pre">/version</span></code></a><a class="headerlink" href="#version" title="Permalink to this headline">Â¶</a></h3>
<p>The version resource.</p>
<p>This resource should be used to determine the remote API version and to
adapt clients accordingly.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head"><a class="reference internal" href="#rapi-users"><span>Required permissions</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#rapi-res-version-get"><span>GET</span></a></td>
<td><em>(none)</em></td>
</tr>
</tbody>
</table>
<div class="section" id="rapi-res-version-get">
<span id="id79"></span><h4><a class="toc-backref" href="#id239"><code class="docutils literal"><span class="pre">GET</span></code></a><a class="headerlink" href="#rapi-res-version-get" title="Permalink to this headline">Â¶</a></h4>
<p>Returns the remote API version. Ganeti 1.2 returned <code class="docutils literal"><span class="pre">1</span></code> and Ganeti 2.0
returns <code class="docutils literal"><span class="pre">2</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="access-permissions">
<span id="rapi-access-permissions"></span><h2><a class="toc-backref" href="#id240">Access permissions</a><a class="headerlink" href="#access-permissions" title="Permalink to this headline">Â¶</a></h2>
<p>The following list describes the access permissions required for each
resource. See <a class="reference internal" href="#rapi-users"><span>Users and passwords</span></a> for more details.</p>
<dl class="docutils">
<dt><a class="reference internal" href="#rapi-res-features"><span>/2/features</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-features-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-filters"><span>/2/filters</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-filters-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-filters-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-filters-filter-uuid"><span>/2/filters/[filter_uuid]</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-filters-filter-uuid-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-filters-filter-uuid-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-filters-filter-uuid-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-groups"><span>/2/groups</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-groups-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-groups-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-groups-group-name"><span>/2/groups/[group_name]</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-groups-group-name-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-groups-group-name-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-groups-group-name-assign-nodes"><span>/2/groups/[group_name]/assign-nodes</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-groups-group-name-assign-nodes-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-groups-group-name-modify"><span>/2/groups/[group_name]/modify</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-groups-group-name-modify-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-groups-group-name-rename"><span>/2/groups/[group_name]/rename</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-groups-group-name-rename-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-groups-group-name-tags"><span>/2/groups/[group_name]/tags</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-groups-group-name-tags-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-groups-group-name-tags-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-groups-group-name-tags-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-info"><span>/2/info</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-info-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances"><span>/2/instances</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-instances-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-multi-alloc"><span>/2/instances-multi-alloc</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-multi-alloc-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name"><span>/2/instances/[instance_name]</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-activate-disks"><span>/2/instances/[instance_name]/activate-disks</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-activate-disks-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-console"><span>/2/instances/[instance_name]/console</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-console-get"><span>GET</span></a>: read, write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-deactivate-disks"><span>/2/instances/[instance_name]/deactivate-disks</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-deactivate-disks-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-disk-disk-index-grow"><span>/2/instances/[instance_name]/disk/[disk_index]/grow</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-disk-disk-index-grow-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-export"><span>/2/instances/[instance_name]/export</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-export-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-failover"><span>/2/instances/[instance_name]/failover</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-failover-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-info"><span>/2/instances/[instance_name]/info</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-info-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-migrate"><span>/2/instances/[instance_name]/migrate</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-migrate-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-modify"><span>/2/instances/[instance_name]/modify</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-modify-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-prepare-export"><span>/2/instances/[instance_name]/prepare-export</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-prepare-export-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-reboot"><span>/2/instances/[instance_name]/reboot</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-reboot-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-recreate-disks"><span>/2/instances/[instance_name]/recreate-disks</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-recreate-disks-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-reinstall"><span>/2/instances/[instance_name]/reinstall</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-reinstall-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-rename"><span>/2/instances/[instance_name]/rename</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-rename-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-replace-disks"><span>/2/instances/[instance_name]/replace-disks</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-replace-disks-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-shutdown"><span>/2/instances/[instance_name]/shutdown</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-shutdown-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-startup"><span>/2/instances/[instance_name]/startup</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-startup-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-instances-instance-name-tags"><span>/2/instances/[instance_name]/tags</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-tags-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-tags-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-instances-instance-name-tags-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-jobs"><span>/2/jobs</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-jobs-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-jobs-job-id"><span>/2/jobs/[job_id]</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-jobs-job-id-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-jobs-job-id-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-jobs-job-id-wait"><span>/2/jobs/[job_id]/wait</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-jobs-job-id-wait-get"><span>GET</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-modify"><span>/2/modify</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-modify-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-networks"><span>/2/networks</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-networks-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-networks-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-networks-network-name"><span>/2/networks/[network_name]</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-networks-network-name-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-networks-network-name-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-networks-network-name-connect"><span>/2/networks/[network_name]/connect</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-networks-network-name-connect-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-networks-network-name-disconnect"><span>/2/networks/[network_name]/disconnect</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-networks-network-name-disconnect-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-networks-network-name-modify"><span>/2/networks/[network_name]/modify</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-networks-network-name-modify-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-networks-network-name-tags"><span>/2/networks/[network_name]/tags</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-networks-network-name-tags-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-networks-network-name-tags-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-networks-network-name-tags-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes"><span>/2/nodes</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name"><span>/2/nodes/[node_name]</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name-evacuate"><span>/2/nodes/[node_name]/evacuate</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-evacuate-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name-migrate"><span>/2/nodes/[node_name]/migrate</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-migrate-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name-modify"><span>/2/nodes/[node_name]/modify</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-modify-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name-powercycle"><span>/2/nodes/[node_name]/powercycle</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-powercycle-post"><span>POST</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name-role"><span>/2/nodes/[node_name]/role</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-role-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-role-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name-storage"><span>/2/nodes/[node_name]/storage</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-storage-get"><span>GET</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name-storage-modify"><span>/2/nodes/[node_name]/storage/modify</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-storage-modify-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name-storage-repair"><span>/2/nodes/[node_name]/storage/repair</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-storage-repair-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-nodes-node-name-tags"><span>/2/nodes/[node_name]/tags</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-tags-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-tags-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-nodes-node-name-tags-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-os"><span>/2/os</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-os-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-query-resource"><span>/2/query/[resource]</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-query-resource-get"><span>GET</span></a>: read, write</div>
<div class="line"><a class="reference internal" href="#rapi-res-query-resource-put"><span>PUT</span></a>: read, write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-query-resource-fields"><span>/2/query/[resource]/fields</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-query-resource-fields-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-redistribute-config"><span>/2/redistribute-config</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-redistribute-config-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-tags"><span>/2/tags</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-tags-delete"><span>DELETE</span></a>: write</div>
<div class="line"><a class="reference internal" href="#rapi-res-tags-get"><span>GET</span></a>: <em>(none)</em></div>
<div class="line"><a class="reference internal" href="#rapi-res-tags-put"><span>PUT</span></a>: write</div>
</div>
</dd>
<dt><a class="reference internal" href="#rapi-res-version"><span>/version</span></a></dt>
<dd><div class="first last line-block">
<div class="line"><a class="reference internal" href="#rapi-res-version-get"><span>GET</span></a>: <em>(none)</em></div>
</div>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Ganeti remote API</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#users-and-passwords">Users and passwords</a></li>
<li><a class="reference internal" href="#protocol">Protocol</a><ul>
<li><a class="reference internal" href="#a-note-on-json-as-used-by-rapi">A note on JSON as used by RAPI</a></li>
</ul>
</li>
<li><a class="reference internal" href="#put-or-post">PUT or POST?</a></li>
<li><a class="reference internal" href="#generic-parameter-types">Generic parameter types</a><ul>
<li><a class="reference internal" href="#bool"><code class="docutils literal"><span class="pre">bool</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#generic-parameters">Generic parameters</a><ul>
<li><a class="reference internal" href="#bulk"><code class="docutils literal"><span class="pre">bulk</span></code></a></li>
<li><a class="reference internal" href="#dry-run"><code class="docutils literal"><span class="pre">dry-run</span></code></a></li>
<li><a class="reference internal" href="#force"><code class="docutils literal"><span class="pre">force</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#parameter-details">Parameter details</a><ul>
<li><a class="reference internal" href="#ipolicy"><code class="docutils literal"><span class="pre">ipolicy</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage-examples">Usage examples</a><ul>
<li><a class="reference internal" href="#ganeti-rapi-client">Ganeti RAPI client</a></li>
<li><a class="reference internal" href="#shell">Shell</a></li>
<li><a class="reference internal" href="#python">Python</a></li>
<li><a class="reference internal" href="#javascript">JavaScript</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resources">Resources</a><ul>
<li><a class="reference internal" href="#id2"><code class="docutils literal"><span class="pre">/</span></code></a></li>
<li><a class="reference internal" href="#id3"><code class="docutils literal"><span class="pre">/2</span></code></a></li>
<li><a class="reference internal" href="#info"><code class="docutils literal"><span class="pre">/2/info</span></code></a><ul>
<li><a class="reference internal" href="#get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#redistribute-config"><code class="docutils literal"><span class="pre">/2/redistribute-config</span></code></a><ul>
<li><a class="reference internal" href="#put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#features"><code class="docutils literal"><span class="pre">/2/features</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-features-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#filters"><code class="docutils literal"><span class="pre">/2/filters</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-filters-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#filters-filter-uuid"><code class="docutils literal"><span class="pre">/2/filters/[filter_uuid]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-filters-filter-uuid-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-filters-filter-uuid-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#modify"><code class="docutils literal"><span class="pre">/2/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-modify-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups"><code class="docutils literal"><span class="pre">/2/groups</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-groups-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name"><code class="docutils literal"><span class="pre">/2/groups/[group_name]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-groups-group-name-delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name-modify"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-modify-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name-rename"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/rename</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-rename-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name-assign-nodes"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/assign-nodes</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-assign-nodes-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-group-name-tags"><code class="docutils literal"><span class="pre">/2/groups/[group_name]/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-groups-group-name-tags-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-groups-group-name-tags-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-groups-group-name-tags-delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks"><code class="docutils literal"><span class="pre">/2/networks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-networks-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name"><code class="docutils literal"><span class="pre">/2/networks/[network_name]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-networks-network-name-delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name-modify"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-modify-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name-connect"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/connect</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-connect-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name-disconnect"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/disconnect</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-disconnect-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#networks-network-name-tags"><code class="docutils literal"><span class="pre">/2/networks/[network_name]/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-networks-network-name-tags-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-networks-network-name-tags-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-networks-network-name-tags-delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-multi-alloc"><code class="docutils literal"><span class="pre">/2/instances-multi-alloc</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-multi-alloc-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances"><code class="docutils literal"><span class="pre">/2/instances</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-instances-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-info"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/info</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-info-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-reboot"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/reboot</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-reboot-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-shutdown"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/shutdown</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-shutdown-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-startup"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/startup</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-startup-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-reinstall"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/reinstall</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-reinstall-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-replace-disks"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/replace-disks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-replace-disks-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-activate-disks"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/activate-disks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-activate-disks-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-deactivate-disks"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/deactivate-disks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-deactivate-disks-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-recreate-disks"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/recreate-disks</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-recreate-disks-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-disk-disk-index-grow"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/disk/[disk_index]/grow</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-disk-disk-index-grow-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-prepare-export"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/prepare-export</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-prepare-export-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-export"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/export</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-export-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-migrate"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/migrate</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-migrate-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-failover"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/failover</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-failover-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-rename"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/rename</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-rename-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-modify"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-modify-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-console"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/console</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-console-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#instances-instance-name-tags"><code class="docutils literal"><span class="pre">/2/instances/[instance_name]/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-tags-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-tags-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-instances-instance-name-tags-delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#jobs"><code class="docutils literal"><span class="pre">/2/jobs</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-jobs-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#jobs-job-id"><code class="docutils literal"><span class="pre">/2/jobs/[job_id]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-jobs-job-id-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-jobs-job-id-delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#jobs-job-id-wait"><code class="docutils literal"><span class="pre">/2/jobs/[job_id]/wait</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-jobs-job-id-wait-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes"><code class="docutils literal"><span class="pre">/2/nodes</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-powercycle"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/powercycle</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-powercycle-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-evacuate"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/evacuate</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-evacuate-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-migrate"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/migrate</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-migrate-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-role"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/role</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-role-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-role-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-modify"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-modify-post"><code class="docutils literal"><span class="pre">POST</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-storage"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-storage-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-storage-modify"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/modify</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-storage-modify-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-storage-repair"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/repair</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-storage-repair-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes-node-name-tags"><code class="docutils literal"><span class="pre">/2/nodes/[node_name]/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-tags-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-tags-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-nodes-node-name-tags-delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#query-resource"><code class="docutils literal"><span class="pre">/2/query/[resource]</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-query-resource-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-query-resource-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#query-resource-fields"><code class="docutils literal"><span class="pre">/2/query/[resource]/fields</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-query-resource-fields-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#os"><code class="docutils literal"><span class="pre">/2/os</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-os-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#tags"><code class="docutils literal"><span class="pre">/2/tags</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-tags-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-tags-put"><code class="docutils literal"><span class="pre">PUT</span></code></a></li>
<li><a class="reference internal" href="#rapi-res-tags-delete"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#version"><code class="docutils literal"><span class="pre">/version</span></code></a><ul>
<li><a class="reference internal" href="#rapi-res-version-get"><code class="docutils literal"><span class="pre">GET</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#access-permissions">Access permissions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ovfconverter.html"
                        title="previous chapter">OVF converter</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="security.html"
                        title="next chapter">Security in Ganeti</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/rapi.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="security.html" title="Security in Ganeti"
             >next</a></li>
        <li class="right" >
          <a href="ovfconverter.html" title="OVF converter"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Ganeti 2.16.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015 Google Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>