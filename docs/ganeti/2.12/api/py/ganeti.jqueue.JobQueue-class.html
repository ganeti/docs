<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.jqueue.JobQueue</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        <a href="ganeti.jqueue-module.html">Package&nbsp;jqueue</a> ::
        Class&nbsp;JobQueue
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.jqueue.JobQueue-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class JobQueue</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_ganeti_j_2" name="uml_class_diagram_for_ganeti_j_2">
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#__init__" title="Constructor for JobQueue." alt="" coords="17,39,428,57"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#PickupJob" title="ganeti.jqueue.JobQueue.PickupJob" alt="" coords="17,57,428,76"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#AddNode" title="Register a new node with the queue." alt="" coords="17,76,428,95"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#RemoveNode" title="Callback called when removing nodes from the cluster." alt="" coords="17,95,428,113"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#SafeLoadJobFromDisk" title="Load the given job file from disk." alt="" coords="17,113,428,132"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#SubmitManyJobs" title="Create and store multiple jobs." alt="" coords="17,132,428,151"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#UpdateJobUnlocked" title="Update a job&#39;s on disk storage." alt="" coords="17,151,428,169"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#HasJobBeenFinalized" title="Checks if a job has been finalized." alt="" coords="17,169,428,188"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#CancelJob" title="Cancels a job." alt="" coords="17,188,428,207"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#ChangeJobPriority" title="Changes a job&#39;s priority." alt="" coords="17,207,428,225"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#QueryJobs" title="Returns a list of jobs in queue." alt="" coords="17,225,428,244"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#OldStyleQueryJobs" title="Returns a list of jobs in queue." alt="" coords="17,244,428,263"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#PrepareShutdown" title="Prepare to stop the job queue." alt="" coords="17,263,428,281"/>
<area shape="rect" id="node713" href="ganeti.jqueue.JobQueue-class.html#Shutdown" title="Stops the job queue." alt="" coords="17,281,428,300"/>
<area shape="rect" id="node1" href="ganeti.jqueue.JobQueue-class.html" title="Queue used to manage the jobs." alt="" coords="5,6,440,306"/>
</map>
  <img src="uml_class_diagram_for_ganeti_j_2.gif" alt='' usemap="#uml_class_diagram_for_ganeti_j_2" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>Queue used to manage the jobs.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">context</span>,
        <span class="summary-sig-arg">cfg</span>)</span><br />
      Constructor for JobQueue.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_PickupJobUnlocked" class="summary-sig-name" onclick="show_private();">_PickupJobUnlocked</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>)</span><br />
      Load a job from the job queue</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._PickupJobUnlocked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#PickupJob" class="summary-sig-name">PickupJob</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.PickupJob">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetRpc"></a><span class="summary-sig-name">_GetRpc</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">address_list</span>)</span><br />
      Gets RPC runner with context.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetRpc">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#AddNode" class="summary-sig-name">AddNode</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">node</span>)</span><br />
      Register a new node with the queue.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.AddNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#RemoveNode" class="summary-sig-name">RemoveNode</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">node_name</span>)</span><br />
      Callback called when removing nodes from the cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.RemoveNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">(list, list)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_GetNodeIp" class="summary-sig-name" onclick="show_private();">_GetNodeIp</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Helper for returning the node name/ip list.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetNodeIp">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_UpdateJobQueueFile" class="summary-sig-name" onclick="show_private();">_UpdateJobQueueFile</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">replicate</span>)</span><br />
      Writes a file locally and then replicates it to all nodes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._UpdateJobQueueFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_RenameFilesUnlocked" class="summary-sig-name" onclick="show_private();">_RenameFilesUnlocked</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">rename</span>)</span><br />
      Renames a file locally and then replicate the change.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._RenameFilesUnlocked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.jqueue._QueuedJob-class.html" class="link" 
      onclick="show_private();">_QueuedJob</a> or None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_LoadJobUnlocked" class="summary-sig-name" onclick="show_private();">_LoadJobUnlocked</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>)</span><br />
      Loads a job from the disk or memory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._LoadJobUnlocked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.jqueue._QueuedJob-class.html" class="link" 
      onclick="show_private();">_QueuedJob</a> or None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_LoadJobFromDisk" class="summary-sig-name" onclick="show_private();">_LoadJobFromDisk</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>,
        <span class="summary-sig-arg">try_archived</span>,
        <span class="summary-sig-arg">writable</span>=<span class="summary-sig-default">None</span>)</span><br />
      Load the given job file from disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._LoadJobFromDisk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.jqueue._QueuedJob-class.html" class="link" 
      onclick="show_private();">_QueuedJob</a> or None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#SafeLoadJobFromDisk" class="summary-sig-name">SafeLoadJobFromDisk</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>,
        <span class="summary-sig-arg">try_archived</span>,
        <span class="summary-sig-arg">writable</span>=<span class="summary-sig-default">None</span>)</span><br />
      Load the given job file from disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.SafeLoadJobFromDisk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_UpdateQueueSizeUnlocked"></a><span class="summary-sig-name">_UpdateQueueSizeUnlocked</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Update the queue size.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._UpdateQueueSizeUnlocked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_EnqueueJobs" class="summary-sig-name" onclick="show_private();">_EnqueueJobs</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">jobs</span>)</span><br />
      Helper function to add jobs to worker pool's queue.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._EnqueueJobs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_EnqueueJobsUnlocked" class="summary-sig-name" onclick="show_private();">_EnqueueJobsUnlocked</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">jobs</span>)</span><br />
      Helper function to add jobs to worker pool's queue.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._EnqueueJobsUnlocked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_GetJobStatusForDependencies" class="summary-sig-name" onclick="show_private();">_GetJobStatusForDependencies</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>)</span><br />
      Gets the status of a job for dependencies.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetJobStatusForDependencies">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#UpdateJobUnlocked" class="summary-sig-name">UpdateJobUnlocked</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job</span>,
        <span class="summary-sig-arg">replicate</span>=<span class="summary-sig-default">True</span>)</span><br />
      Update a job's on disk storage.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.UpdateJobUnlocked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#HasJobBeenFinalized" class="summary-sig-name">HasJobBeenFinalized</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>)</span><br />
      Checks if a job has been finalized.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.HasJobBeenFinalized">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#CancelJob" class="summary-sig-name">CancelJob</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>)</span><br />
      Cancels a job.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.CancelJob">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#ChangeJobPriority" class="summary-sig-name">ChangeJobPriority</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>,
        <span class="summary-sig-arg">priority</span>)</span><br />
      Changes a job's priority.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.ChangeJobPriority">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_ModifyJobUnlocked" class="summary-sig-name" onclick="show_private();">_ModifyJobUnlocked</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_id</span>,
        <span class="summary-sig-arg">mod_fn</span>)</span><br />
      Modifies a job.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._ModifyJobUnlocked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_ArchiveJobsUnlocked" class="summary-sig-name" onclick="show_private();">_ArchiveJobsUnlocked</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">jobs</span>)</span><br />
      Archives jobs.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._ArchiveJobsUnlocked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_Query"></a><span class="summary-sig-name">_Query</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fields</span>,
        <span class="summary-sig-arg">qfilter</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._Query">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#QueryJobs" class="summary-sig-name">QueryJobs</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fields</span>,
        <span class="summary-sig-arg">qfilter</span>)</span><br />
      Returns a list of jobs in queue.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.QueryJobs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#OldStyleQueryJobs" class="summary-sig-name">OldStyleQueryJobs</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">job_ids</span>,
        <span class="summary-sig-arg">fields</span>)</span><br />
      Returns a list of jobs in queue.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.OldStyleQueryJobs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">bool</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#PrepareShutdown" class="summary-sig-name">PrepareShutdown</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Prepare to stop the job queue.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.PrepareShutdown">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#Shutdown" class="summary-sig-name">Shutdown</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Stops the job queue.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.Shutdown">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS METHODS ==================== -->
<a name="section-ClassMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_GetJobIDsUnlocked" class="summary-sig-name" onclick="show_private();">_GetJobIDsUnlocked</a>(<span class="summary-sig-arg">cls</span>,
        <span class="summary-sig-arg">sort</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">archived</span>=<span class="summary-sig-default">False</span>)</span><br />
      Return all known job IDs.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetJobIDsUnlocked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="SubmitManyJobs"></a><span class="summary-sig-name">SubmitManyJobs</span>(<span class="summary-sig-arg">cls</span>,
        <span class="summary-sig-arg">jobs</span>)</span><br />
      Create and store multiple jobs.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.SubmitManyJobs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== STATIC METHODS ==================== -->
<a name="section-StaticMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Static Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-StaticMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_CheckRpcResult" class="summary-sig-name" onclick="show_private();">_CheckRpcResult</a>(<span class="summary-sig-arg">result</span>,
        <span class="summary-sig-arg">nodes</span>,
        <span class="summary-sig-arg">failmsg</span>)</span><br />
      Verifies the status of an RPC call.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._CheckRpcResult">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_GetJobPath" class="summary-sig-name" onclick="show_private();">_GetJobPath</a>(<span class="summary-sig-arg">job_id</span>)</span><br />
      Returns the job file for a given job id.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetJobPath">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_GetArchivedJobPath" class="summary-sig-name" onclick="show_private();">_GetArchivedJobPath</a>(<span class="summary-sig-arg">job_id</span>)</span><br />
      Returns the archived job file for a give job id.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetArchivedJobPath">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_DetermineJobDirectories" class="summary-sig-name" onclick="show_private();">_DetermineJobDirectories</a>(<span class="summary-sig-arg">archived</span>)</span><br />
      Build list of directories containing job files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._DetermineJobDirectories">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_FormatSubmitError"></a><span class="summary-sig-name">_FormatSubmitError</span>(<span class="summary-sig-arg">msg</span>,
        <span class="summary-sig-arg">ops</span>)</span><br />
      Formats errors which occurred while submitting a job.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._FormatSubmitError">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple; (boolean, string or list)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.jqueue.JobQueue-class.html#_ResolveJobDependencies" class="summary-sig-name" onclick="show_private();">_ResolveJobDependencies</a>(<span class="summary-sig-arg">resolve_fn</span>,
        <span class="summary-sig-arg">deps</span>)</span><br />
      Resolves relative job IDs in dependencies.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._ResolveJobDependencies">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">context</span>,
        <span class="sig-arg">cfg</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Constructor for JobQueue.</p>
  <p>The constructor will initialize the job queue object and then start 
  loading the current jobs from disk, either for starting them (if they 
  were queue) or for aborting them (if they were already running).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>context</code></strong> (GanetiContext) - the context object for access to the configuration data and other
          ganeti objects</li>
    </ul></dd>
    <dt>Overrides:
        object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="_PickupJobUnlocked"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_PickupJobUnlocked</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._PickupJobUnlocked">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Load a job from the job queue</p>
  <p>Pick up a job that already is in the job queue and start/resume 
  it.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="PickupJob"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">PickupJob</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.PickupJob">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_LOCK)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AddNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddNode</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">node</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.AddNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Register a new node with the queue.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node</code></strong> (<a href="ganeti.objects.Node-class.html" 
          class="link">objects.Node</a>) - the node object to be added</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_LOCK)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveNode</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">node_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.RemoveNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Callback called when removing nodes from the cluster.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_name</code></strong> (str) - the name of the node to remove</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_LOCK)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckRpcResult"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckRpcResult</span>(<span class="sig-arg">result</span>,
        <span class="sig-arg">nodes</span>,
        <span class="sig-arg">failmsg</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._CheckRpcResult">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies the status of an RPC call.</p>
  <p>Since we aim to keep consistency should this node (the current master)
  fail, we will log errors if our rpc fail, and especially log the case 
  when more than half of the nodes fails.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>result</code></strong> - the data as returned from the rpc call</li>
        <li><strong class="pname"><code>nodes</code></strong> (list) - the list of nodes we made the call to</li>
        <li><strong class="pname"><code>failmsg</code></strong> (str) - the identifier to be used for logging</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetNodeIp"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetNodeIp</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetNodeIp">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Helper for returning the node name/ip list.</p>
  <dl class="fields">
    <dt>Returns: (list, list)</dt>
        <dd>a tuple of two lists, the first one with the node names and the 
          second one with the node addresses</dd>
  </dl>
</td></tr></table>
</div>
<a name="_UpdateJobQueueFile"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UpdateJobQueueFile</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">file_name</span>,
        <span class="sig-arg">data</span>,
        <span class="sig-arg">replicate</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._UpdateJobQueueFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Writes a file locally and then replicates it to all nodes.</p>
  <p>This function will replace the contents of a file on the local node 
  and then replicate it to all the other nodes we have.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - the path of the file to be replicated</li>
        <li><strong class="pname"><code>data</code></strong> (str) - the new contents of the file</li>
        <li><strong class="pname"><code>replicate</code></strong> (boolean) - whether to spread the changes to the remote nodes</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_RenameFilesUnlocked"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RenameFilesUnlocked</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">rename</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._RenameFilesUnlocked">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Renames a file locally and then replicate the change.</p>
  <p>This function will rename a file in the local queue directory and then
  replicate this rename to all the other nodes we have.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>rename</code></strong> (list of (old, new)) - List containing tuples mapping old to new names</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetJobPath"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetJobPath</span>(<span class="sig-arg">job_id</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetJobPath">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns the job file for a given job id.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (str) - the job identifier</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the path to the job file</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetArchivedJobPath"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetArchivedJobPath</span>(<span class="sig-arg">job_id</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetArchivedJobPath">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns the archived job file for a give job id.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (str) - the job identifier</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>the path to the archived job file</dd>
  </dl>
</td></tr></table>
</div>
<a name="_DetermineJobDirectories"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_DetermineJobDirectories</span>(<span class="sig-arg">archived</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._DetermineJobDirectories">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Build list of directories containing job files.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>archived</code></strong> (bool) - Whether to include directories for archived jobs</li>
    </ul></dd>
    <dt>Returns: list</dt>
  </dl>
</td></tr></table>
</div>
<a name="_GetJobIDsUnlocked"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetJobIDsUnlocked</span>(<span class="sig-arg">cls</span>,
        <span class="sig-arg">sort</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">archived</span>=<span class="sig-default">False</span>)</span>
    <br /><em class="fname">Class Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetJobIDsUnlocked">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return all known job IDs.</p>
  <p>The method only looks at disk because it's a requirement that all jobs
  are present on disk (so in the _memcache we don't have any extra 
  IDs).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>sort</code></strong> (boolean) - perform sorting on the returned job ids</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>the list of job IDs</dd>
  </dl>
</td></tr></table>
</div>
<a name="_LoadJobUnlocked"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_LoadJobUnlocked</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._LoadJobUnlocked">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Loads a job from the disk or memory.</p>
  <p>Given a job id, this will return the cached job object if existing, or
  try to load the job from the disk. If loading from disk, it will also add
  the job to the cache.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (int) - the job id</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.jqueue._QueuedJob-class.html" class="link" 
      onclick="show_private();">_QueuedJob</a> or None</dt>
        <dd>either None or the job object</dd>
  </dl>
</td></tr></table>
</div>
<a name="_LoadJobFromDisk"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_LoadJobFromDisk</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>,
        <span class="sig-arg">try_archived</span>,
        <span class="sig-arg">writable</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._LoadJobFromDisk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Load the given job file from disk.</p>
  <p>Given a job file, read, load and restore it in a _QueuedJob 
  format.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (int) - job identifier</li>
        <li><strong class="pname"><code>try_archived</code></strong> (bool) - Whether to try loading an archived job</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.jqueue._QueuedJob-class.html" class="link" 
      onclick="show_private();">_QueuedJob</a> or None</dt>
        <dd>either None or the job object</dd>
  </dl>
</td></tr></table>
</div>
<a name="SafeLoadJobFromDisk"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SafeLoadJobFromDisk</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>,
        <span class="sig-arg">try_archived</span>,
        <span class="sig-arg">writable</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.SafeLoadJobFromDisk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Load the given job file from disk.</p>
  <p>Given a job file, read, load and restore it in a _QueuedJob format. In
  case of error reading the job, it gets returned as None, and the 
  exception is logged.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (int) - job identifier</li>
        <li><strong class="pname"><code>try_archived</code></strong> (bool) - Whether to try loading an archived job</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.jqueue._QueuedJob-class.html" class="link" 
      onclick="show_private();">_QueuedJob</a> or None</dt>
        <dd>either None or the job object</dd>
  </dl>
</td></tr></table>
</div>
<a name="_ResolveJobDependencies"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_ResolveJobDependencies</span>(<span class="sig-arg">resolve_fn</span>,
        <span class="sig-arg">deps</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._ResolveJobDependencies">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Resolves relative job IDs in dependencies.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>resolve_fn</code></strong> (callable) - Function to resolve a relative job ID</li>
        <li><strong class="pname"><code>deps</code></strong> (list) - Dependencies</li>
    </ul></dd>
    <dt>Returns: tuple; (boolean, string or list)</dt>
        <dd>If successful (first tuple item), the returned list contains 
          resolved job IDs along with the requested status; if not 
          successful, the second element is an error message</dd>
  </dl>
</td></tr></table>
</div>
<a name="_EnqueueJobs"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_EnqueueJobs</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">jobs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._EnqueueJobs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Helper function to add jobs to worker pool's queue.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>jobs</code></strong> (list) - List of all jobs</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_LOCK)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_EnqueueJobsUnlocked"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_EnqueueJobsUnlocked</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">jobs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._EnqueueJobsUnlocked">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Helper function to add jobs to worker pool's queue.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>jobs</code></strong> (list) - List of all jobs</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetJobStatusForDependencies"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetJobStatusForDependencies</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._GetJobStatusForDependencies">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gets the status of a job for dependencies.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (int) - Job ID</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.JobLost-class.html">errors.JobLost</a></strong></code> - If job can't be found</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="UpdateJobUnlocked"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">UpdateJobUnlocked</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job</span>,
        <span class="sig-arg">replicate</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.UpdateJobUnlocked">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Update a job's on disk storage.</p>
  <p>After a job has been modified, this function needs to be called in 
  order to write the changes to disk and replicate them to the other 
  nodes.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job</code></strong> (<a href="ganeti.jqueue._QueuedJob-class.html" class="link" 
          onclick="show_private();">_QueuedJob</a>) - the changed job</li>
        <li><strong class="pname"><code>replicate</code></strong> (boolean) - whether to replicate the change to remote nodes</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="HasJobBeenFinalized"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">HasJobBeenFinalized</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.HasJobBeenFinalized">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks if a job has been finalized.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (int) - Job identifier</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>True if the job has been finalized, False if the timeout has been
          reached, None if the job doesn't exist</dd>
  </dl>
</td></tr></table>
</div>
<a name="CancelJob"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CancelJob</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.CancelJob">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Cancels a job.</p>
  <p>This will only succeed if the job has not started yet.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (int) - job ID of job to be cancelled.</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_LOCK)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ChangeJobPriority"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ChangeJobPriority</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>,
        <span class="sig-arg">priority</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.ChangeJobPriority">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Changes a job's priority.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (int) - ID of the job whose priority should be changed</li>
        <li><strong class="pname"><code>priority</code></strong> (int) - New priority</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_LOCK)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_ModifyJobUnlocked"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_ModifyJobUnlocked</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_id</span>,
        <span class="sig-arg">mod_fn</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._ModifyJobUnlocked">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Modifies a job.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_id</code></strong> (int) - Job ID</li>
        <li><strong class="pname"><code>mod_fn</code></strong> (callable) - Modifying function, receiving job object as parameter, returning 
          tuple of (status boolean, message string)</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_ArchiveJobsUnlocked"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_ArchiveJobsUnlocked</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">jobs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue._ArchiveJobsUnlocked">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Archives jobs.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>jobs</code></strong> (list of <a href="ganeti.jqueue._QueuedJob-class.html" 
          class="link" onclick="show_private();">_QueuedJob</a>) - Job objects</li>
    </ul></dd>
    <dt>Returns: int</dt>
        <dd>Number of archived jobs</dd>
  </dl>
</td></tr></table>
</div>
<a name="QueryJobs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">QueryJobs</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">fields</span>,
        <span class="sig-arg">qfilter</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.QueryJobs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a list of jobs in queue.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fields</code></strong> (sequence) - List of wanted fields</li>
        <li><strong class="pname"><code>qfilter</code></strong> (None or query2 filter (list)) - Query filter</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="OldStyleQueryJobs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">OldStyleQueryJobs</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">job_ids</span>,
        <span class="sig-arg">fields</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.OldStyleQueryJobs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a list of jobs in queue.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>job_ids</code></strong> (list) - sequence of job identifiers or None for all</li>
        <li><strong class="pname"><code>fields</code></strong> (list) - names of fields to return</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>list one element per job, each element being list with the 
          requested fields</dd>
  </dl>
</td></tr></table>
</div>
<a name="PrepareShutdown"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">PrepareShutdown</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.PrepareShutdown">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Prepare to stop the job queue.</p>
  <p>Returns whether there are any jobs currently running. If the latter is
  the case, the job queue is not yet ready for shutdown. Once this function
  returns <code>True</code> <a 
  href="ganeti.jqueue.JobQueue-class.html#Shutdown" 
  class="link">Shutdown</a> can be called without interfering with any 
  job.</p>
  <dl class="fields">
    <dt>Returns: bool</dt>
        <dd>Whether there are any running jobs</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_LOCK)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="Shutdown"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">Shutdown</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.jqueue-pysrc.html#JobQueue.Shutdown">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Stops the job queue.</p>
  <p>This shutdowns all the worker threads an closes the queue.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_LOCK)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Jan 12 17:28:51 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
