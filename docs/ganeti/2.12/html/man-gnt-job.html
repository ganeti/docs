

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>gnt-job &mdash; Ganeti 2.12.6 documentation</title>
    
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.12.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ganeti 2.12.6 documentation" href="index.html" />
    <link rel="up" title="Man pages" href="manpages.html" />
    <link rel="next" title="gnt-network" href="man-gnt-network.html" />
    <link rel="prev" title="gnt-instance" href="man-gnt-instance.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="man-gnt-network.html" title="gnt-network"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="man-gnt-instance.html" title="gnt-instance"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Ganeti 2.12.6 documentation</a> &raquo;</li>
          <li><a href="manpages.html" accesskey="U">Man pages</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="gnt-job">
<h1>gnt-job<a class="headerlink" href="#gnt-job" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>gnt-job - Job commands</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>gnt-job</strong> {command} [arguments...]</p>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <strong>gnt-job</strong> is used for examining and manipulating the job
queue.</p>
</div>
<div class="section" id="commands">
<h2>COMMANDS<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="archive">
<h3>ARCHIVE<a class="headerlink" href="#archive" title="Permalink to this headline">¶</a></h3>
<p><strong>archive</strong> {id...}</p>
<p>This command can be used to archive job by their IDs. Only jobs
that have finished execution (i.e either <em>success</em>, <em>error</em> or
<em>canceled</em> jobs).</p>
</div>
<div class="section" id="autoarchive">
<h3>AUTOARCHIVE<a class="headerlink" href="#autoarchive" title="Permalink to this headline">¶</a></h3>
<p><strong>autoarchive</strong> {<em>age</em> | <tt class="docutils literal"><span class="pre">all</span></tt>}</p>
<p>Archive jobs by their age. This command can archive jobs older than
<em>age</em> seconds, or alternatively all finished jobs can be archived
if the string all is passed.</p>
</div>
<div class="section" id="cancel">
<h3>CANCEL<a class="headerlink" href="#cancel" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>cancel</strong></div>
<div class="line">{[&#8211;force] {&#8211;pending | &#8211;queued | &#8211;waiting} |</div>
<div class="line-block">
<div class="line"><em>job-id</em> ...}</div>
</div>
</div>
<p>Cancel the job(s) identified by the given <em>job id</em>. Only jobs that have
not yet started to run can be canceled; that is, jobs in either the
<em>queued</em> or <em>waiting</em> state. To skip a confirmation, pass <tt class="docutils literal"><span class="pre">--force</span></tt>.
<tt class="docutils literal"><span class="pre">--queued</span></tt> and <tt class="docutils literal"><span class="pre">waiting</span></tt> can be used to cancel all jobs in the
respective state, <tt class="docutils literal"><span class="pre">--pending</span></tt> includes both.</p>
</div>
<div class="section" id="change-priority">
<h3>CHANGE-PRIORITY<a class="headerlink" href="#change-priority" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>change-priority</strong> &#8211;priority {low | normal | high}</div>
<div class="line">{[&#8211;force] {&#8211;pending | &#8211;queued | &#8211;waiting} |</div>
<div class="line-block">
<div class="line"><em>job-id</em> ...}</div>
</div>
</div>
<p>Changes the priority of one or multiple pending jobs. Jobs currently
running have only the priority of remaining opcodes changed.
<tt class="docutils literal"><span class="pre">--priority</span></tt> must be specified. <tt class="docutils literal"><span class="pre">--queued</span></tt> and <tt class="docutils literal"><span class="pre">waiting</span></tt> can be
used to re-prioritize all jobs in the respective state, <tt class="docutils literal"><span class="pre">--pending</span></tt>
includes both. To skip a confirmation, pass <tt class="docutils literal"><span class="pre">--force</span></tt>.</p>
</div>
<div class="section" id="info">
<h3>INFO<a class="headerlink" href="#info" title="Permalink to this headline">¶</a></h3>
<p><strong>info</strong> {<em>id</em>...}</p>
<p>Show detailed information about the given job id(s). If no job id
is given, all jobs are examined (warning, this is a lot of
information).</p>
</div>
<div class="section" id="list">
<h3>LIST<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>list</strong> [&#8211;no-headers] [&#8211;separator=*SEPARATOR*]</div>
<div class="line">[-o <em>[+]FIELD,...</em>] [&#8211;filter] [job-id...]</div>
</div>
<p>Lists the jobs and their status. By default, the job id, job
status, and a small job description is listed, but additional
parameters can be selected.</p>
<p>The <tt class="docutils literal"><span class="pre">--no-headers</span></tt> option will skip the initial header line. The
<tt class="docutils literal"><span class="pre">--separator</span></tt> option takes an argument which denotes what will be
used between the output fields. Both these options are to help
scripting.</p>
<p>The <tt class="docutils literal"><span class="pre">-o</span></tt> option takes a comma-separated list of output fields.
The available fields and their meaning are:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">archived</span></tt></dt>
<dd>Whether job is archived</dd>
<dt><tt class="docutils literal"><span class="pre">end_ts</span></tt></dt>
<dd>Timestamp of job end (tuple containing seconds and microseconds)</dd>
<dt><tt class="docutils literal"><span class="pre">id</span></tt></dt>
<dd>Job ID</dd>
<dt><tt class="docutils literal"><span class="pre">opend</span></tt></dt>
<dd>List of opcode execution end timestamps</dd>
<dt><tt class="docutils literal"><span class="pre">opexec</span></tt></dt>
<dd>List of opcode execution start timestamps (after acquiring locks)</dd>
<dt><tt class="docutils literal"><span class="pre">oplog</span></tt></dt>
<dd>List of opcode output logs</dd>
<dt><tt class="docutils literal"><span class="pre">oppriority</span></tt></dt>
<dd>List of opcode priorities</dd>
<dt><tt class="docutils literal"><span class="pre">opresult</span></tt></dt>
<dd>List of opcodes results</dd>
<dt><tt class="docutils literal"><span class="pre">ops</span></tt></dt>
<dd>List of all opcodes</dd>
<dt><tt class="docutils literal"><span class="pre">opstart</span></tt></dt>
<dd>List of opcode start timestamps (before acquiring locks)</dd>
<dt><tt class="docutils literal"><span class="pre">opstatus</span></tt></dt>
<dd>List of opcodes status</dd>
<dt><tt class="docutils literal"><span class="pre">priority</span></tt></dt>
<dd>Current job priority (19 to -20)</dd>
<dt><tt class="docutils literal"><span class="pre">received_ts</span></tt></dt>
<dd>Timestamp of when job was received (tuple containing seconds and microseconds)</dd>
<dt><tt class="docutils literal"><span class="pre">start_ts</span></tt></dt>
<dd>Timestamp of job start (tuple containing seconds and microseconds)</dd>
<dt><tt class="docutils literal"><span class="pre">status</span></tt></dt>
<dd>Job status</dd>
<dt><tt class="docutils literal"><span class="pre">summary</span></tt></dt>
<dd>List of per-opcode summaries</dd>
</dl>
<p>If the value of the option starts with the character <tt class="docutils literal"><span class="pre">+</span></tt>, the new
fields will be added to the default list. This allows one to quickly
see the default list plus a few other fields, instead of retyping
the entire list of fields.</p>
<p>To include archived jobs in the list the <tt class="docutils literal"><span class="pre">--archived</span></tt> option can be
used.</p>
<p>The following options can be used to show only specific jobs:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">--pending</span></tt></dt>
<dd>Show only jobs pending execution.</dd>
<dt><tt class="docutils literal"><span class="pre">--running</span></tt></dt>
<dd>Show jobs currently running only.</dd>
<dt><tt class="docutils literal"><span class="pre">--error</span></tt></dt>
<dd>Show failed jobs only.</dd>
<dt><tt class="docutils literal"><span class="pre">--finished</span></tt></dt>
<dd>Show finished jobs only.</dd>
</dl>
<p>If exactly one argument is given and it appears to be a query filter
(see <strong>ganeti</strong>(7)), the query result is filtered accordingly. For
ambiguous cases (e.g. a single field name as a filter) the <tt class="docutils literal"><span class="pre">--filter</span></tt>
(<tt class="docutils literal"><span class="pre">-F</span></tt>) option forces the argument to be treated as a filter.</p>
</div>
<div class="section" id="list-fields">
<h3>LIST-FIELDS<a class="headerlink" href="#list-fields" title="Permalink to this headline">¶</a></h3>
<p><strong>list-fields</strong> [field...]</p>
<p>Lists available fields for jobs.</p>
</div>
<div class="section" id="wait">
<h3>WAIT<a class="headerlink" href="#wait" title="Permalink to this headline">¶</a></h3>
<p><strong>wait</strong> {id}</p>
<p>Wait for the job by the given <em>id</em> to finish; do not produce
any output.</p>
</div>
<div class="section" id="watch">
<h3>WATCH<a class="headerlink" href="#watch" title="Permalink to this headline">¶</a></h3>
<p><strong>watch</strong> {id}</p>
<p>This command follows the output of the job by the given <em>id</em> and
prints it.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">gnt-job</a><ul>
<li><a class="reference internal" href="#name">Name</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li><a class="reference internal" href="#commands">COMMANDS</a><ul>
<li><a class="reference internal" href="#archive">ARCHIVE</a></li>
<li><a class="reference internal" href="#autoarchive">AUTOARCHIVE</a></li>
<li><a class="reference internal" href="#cancel">CANCEL</a></li>
<li><a class="reference internal" href="#change-priority">CHANGE-PRIORITY</a></li>
<li><a class="reference internal" href="#info">INFO</a></li>
<li><a class="reference internal" href="#list">LIST</a></li>
<li><a class="reference internal" href="#list-fields">LIST-FIELDS</a></li>
<li><a class="reference internal" href="#wait">WAIT</a></li>
<li><a class="reference internal" href="#watch">WATCH</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="man-gnt-instance.html"
                        title="previous chapter">gnt-instance</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="man-gnt-network.html"
                        title="next chapter">gnt-network</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/man-gnt-job.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="man-gnt-network.html" title="gnt-network"
             >next</a></li>
        <li class="right" >
          <a href="man-gnt-instance.html" title="gnt-instance"
             >previous</a> |</li>
        <li><a href="index.html">Ganeti 2.12.6 documentation</a> &raquo;</li>
          <li><a href="manpages.html" >Man pages</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 Google Inc..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>