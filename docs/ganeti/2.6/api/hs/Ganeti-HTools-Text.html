<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--Rendered using the Haskell Html Library v0.2-->
<HTML
><HEAD
><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"
><TITLE
>Ganeti.HTools.Text</TITLE
><LINK HREF="haddock.css" REL="stylesheet" TYPE="text/css"
><SCRIPT SRC="haddock-util.js" TYPE="text/javascript"
></SCRIPT
><SCRIPT TYPE="text/javascript"
>window.onload = function () {setSynopsis("mini_Ganeti-HTools-Text.html")};</SCRIPT
></HEAD
><BODY
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="topbar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><IMG SRC="haskell_icon.gif" WIDTH="16" HEIGHT="16" ALT=" "
></TD
><TD CLASS="title"
>ganeti-htools</TD
><TD CLASS="topbut"
><A HREF="Ganeti/HTools/Text.html"
>Source code</A
></TD
><TD CLASS="topbut"
><A HREF="index.html"
>Contents</A
></TD
><TD CLASS="topbut"
><A HREF="doc-index.html"
>Index</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="modulebar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><FONT SIZE="6"
>Ganeti.HTools.Text</FONT
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="section4"
><B
>Contents</B
></TD
></TR
><TR
><TD
><DL
><DT
><A HREF="#1"
>Helper functions
</A
></DT
><DT
><A HREF="#2"
>Serialisation functions
</A
></DT
><DT
><A HREF="#3"
>Parsing functions
</A
></DT
></DL
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Description</TD
></TR
><TR
><TD CLASS="doc"
><P
>Parsing data from text-files.
</P
><P
>This module holds the code for loading the cluster state from text
files, as produced by <TT
>gnt-node</TT
> and <TT
>gnt-instance</TT
> <TT
>list</TT
> command.
</P
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Synopsis</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="decl"
><A HREF="#v%3AcommaSplit"
>commaSplit</A
> :: String -&gt; [String]</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeGroup"
>serializeGroup</A
> :: <A HREF="Ganeti-HTools-Group.html#t%3AGroup"
>Group</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeGroups"
>serializeGroups</A
> :: <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeNode"
>serializeNode</A
> :: <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Node.html#t%3ANode"
>Node</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeNodes"
>serializeNodes</A
> :: <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeInstance"
>serializeInstance</A
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AInstance"
>Instance</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeInstances"
>serializeInstances</A
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AList"
>List</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeISpec"
>serializeISpec</A
> :: <A HREF="Ganeti-HTools-Types.html#t%3AISpec"
>ISpec</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeDiskTemplates"
>serializeDiskTemplates</A
> :: [<A HREF="Ganeti-HTools-Types.html#t%3ADiskTemplate"
>DiskTemplate</A
>] -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeIPolicy"
>serializeIPolicy</A
> :: String -&gt; <A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeAllIPolicies"
>serializeAllIPolicies</A
> :: <A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
> -&gt; <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AserializeCluster"
>serializeCluster</A
> :: <A HREF="Ganeti-HTools-Loader.html#t%3AClusterData"
>ClusterData</A
> -&gt; String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadGroup"
>loadGroup</A
> :: Monad m =&gt; [String] -&gt; m (String, <A HREF="Ganeti-HTools-Group.html#t%3AGroup"
>Group</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadNode"
>loadNode</A
> :: Monad m =&gt; <A HREF="Ganeti-HTools-Types.html#t%3ANameAssoc"
>NameAssoc</A
> -&gt; [String] -&gt; m (String, <A HREF="Ganeti-HTools-Node.html#t%3ANode"
>Node</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadInst"
>loadInst</A
> :: <A HREF="Ganeti-HTools-Types.html#t%3ANameAssoc"
>NameAssoc</A
> -&gt; [String] -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> (String, <A HREF="Ganeti-HTools-Instance.html#t%3AInstance"
>Instance</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadISpec"
>loadISpec</A
> :: String -&gt; [String] -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> <A HREF="Ganeti-HTools-Types.html#t%3AISpec"
>ISpec</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadIPolicy"
>loadIPolicy</A
> :: [String] -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> (String, <A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadOnePolicy"
>loadOnePolicy</A
> :: (<A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
>, <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
>) -&gt; String -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> (<A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
>, <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadAllIPolicies"
>loadAllIPolicies</A
> :: <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
> -&gt; [String] -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> (<A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
>, <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadTabular"
>loadTabular</A
> :: (Monad m, <A HREF="Ganeti-HTools-Types.html#t%3AElement"
>Element</A
> a) =&gt; [String] -&gt; ([String] -&gt; m (String, a)) -&gt; m (<A HREF="Ganeti-HTools-Types.html#t%3ANameAssoc"
>NameAssoc</A
>, <A HREF="Ganeti-HTools-Container.html#t%3AContainer"
>Container</A
> a)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AreadData"
>readData</A
> :: String -&gt; IO String</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AparseData"
>parseData</A
> :: String -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> <A HREF="Ganeti-HTools-Loader.html#t%3AClusterData"
>ClusterData</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AloadData"
>loadData</A
> :: String -&gt; IO (<A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> <A HREF="Ganeti-HTools-Loader.html#t%3AClusterData"
>ClusterData</A
>)</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
><A NAME="1"
><A NAME="1"
>Helper functions
</A
></A
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:commaSplit"
><A NAME="v%3AcommaSplit"
></A
></A
><B
>commaSplit</B
> :: String -&gt; [String]</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#commaSplit"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Simple wrapper over sepSplit
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
><A NAME="2"
><A NAME="2"
>Serialisation functions
</A
></A
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeGroup"
><A NAME="v%3AserializeGroup"
></A
></A
><B
>serializeGroup</B
> :: <A HREF="Ganeti-HTools-Group.html#t%3AGroup"
>Group</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeGroup"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Serialize a single group.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeGroups"
><A NAME="v%3AserializeGroups"
></A
></A
><B
>serializeGroups</B
> :: <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeGroups"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate group file data from a group list.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeNode"
><A NAME="v%3AserializeNode"
></A
></A
><B
>serializeNode</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeNode"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
></TD
><TD CLASS="rdoc"
>The list of groups (needed for group uuid)
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Ganeti-HTools-Node.html#t%3ANode"
>Node</A
></TD
><TD CLASS="rdoc"
>The node to be serialised
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; String</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Serialize a single node.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeNodes"
><A NAME="v%3AserializeNodes"
></A
></A
><B
>serializeNodes</B
> :: <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeNodes"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate node file data from node objects.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeInstance"
><A NAME="v%3AserializeInstance"
></A
></A
><B
>serializeInstance</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeInstance"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
></TD
><TD CLASS="rdoc"
>The node list (needed for
 node names)
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AInstance"
>Instance</A
></TD
><TD CLASS="rdoc"
>The instance to be serialised
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; String</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Serialize a single instance.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeInstances"
><A NAME="v%3AserializeInstances"
></A
></A
><B
>serializeInstances</B
> :: <A HREF="Ganeti-HTools-Node.html#t%3AList"
>List</A
> -&gt; <A HREF="Ganeti-HTools-Instance.html#t%3AList"
>List</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeInstances"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate instance file data from instance objects.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeISpec"
><A NAME="v%3AserializeISpec"
></A
></A
><B
>serializeISpec</B
> :: <A HREF="Ganeti-HTools-Types.html#t%3AISpec"
>ISpec</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeISpec"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate a spec data from a given ISpec object.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeDiskTemplates"
><A NAME="v%3AserializeDiskTemplates"
></A
></A
><B
>serializeDiskTemplates</B
> :: [<A HREF="Ganeti-HTools-Types.html#t%3ADiskTemplate"
>DiskTemplate</A
>] -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeDiskTemplates"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate disk template data.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeIPolicy"
><A NAME="v%3AserializeIPolicy"
></A
></A
><B
>serializeIPolicy</B
> :: String -&gt; <A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeIPolicy"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate policy data from a given policy object.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeAllIPolicies"
><A NAME="v%3AserializeAllIPolicies"
></A
></A
><B
>serializeAllIPolicies</B
> :: <A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
> -&gt; <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeAllIPolicies"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generates the entire ipolicy section from the cluster and group
 objects.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:serializeCluster"
><A NAME="v%3AserializeCluster"
></A
></A
><B
>serializeCluster</B
> :: <A HREF="Ganeti-HTools-Loader.html#t%3AClusterData"
>ClusterData</A
> -&gt; String</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#serializeCluster"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Generate complete cluster data from node and instance lists.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
><A NAME="3"
><A NAME="3"
>Parsing functions
</A
></A
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadGroup"
><A NAME="v%3AloadGroup"
></A
></A
><B
>loadGroup</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadGroup"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: Monad m</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; [String]</TD
><TD CLASS="rdoc"
>The result, a tuple of group
 UUID and group object
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m (String, <A HREF="Ganeti-HTools-Group.html#t%3AGroup"
>Group</A
>)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Load a group from a field list.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadNode"
><A NAME="v%3AloadNode"
></A
></A
><B
>loadNode</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadNode"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: Monad m</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; <A HREF="Ganeti-HTools-Types.html#t%3ANameAssoc"
>NameAssoc</A
></TD
><TD CLASS="rdoc"
>Input data as a list of fields
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; [String]</TD
><TD CLASS="rdoc"
>The result, a tuple o node name
 and node object
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m (String, <A HREF="Ganeti-HTools-Node.html#t%3ANode"
>Node</A
>)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Load a node from a field list.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadInst"
><A NAME="v%3AloadInst"
></A
></A
><B
>loadInst</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadInst"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: <A HREF="Ganeti-HTools-Types.html#t%3ANameAssoc"
>NameAssoc</A
></TD
><TD CLASS="rdoc"
>Association list with the current nodes
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; [String]</TD
><TD CLASS="rdoc"
>Input data as a list of fields
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> (String, <A HREF="Ganeti-HTools-Instance.html#t%3AInstance"
>Instance</A
>)</TD
><TD CLASS="rdoc"
>A tuple of
 instance name and
 the instance object
</TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Load an instance from a field list.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadISpec"
><A NAME="v%3AloadISpec"
></A
></A
><B
>loadISpec</B
> :: String -&gt; [String] -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> <A HREF="Ganeti-HTools-Types.html#t%3AISpec"
>ISpec</A
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadISpec"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Loads a spec from a field list.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadIPolicy"
><A NAME="v%3AloadIPolicy"
></A
></A
><B
>loadIPolicy</B
> :: [String] -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> (String, <A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
>)</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadIPolicy"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Loads an ipolicy from a field list.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadOnePolicy"
><A NAME="v%3AloadOnePolicy"
></A
></A
><B
>loadOnePolicy</B
> :: (<A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
>, <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
>) -&gt; String -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> (<A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
>, <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
>)</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadOnePolicy"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadAllIPolicies"
><A NAME="v%3AloadAllIPolicies"
></A
></A
><B
>loadAllIPolicies</B
> :: <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
> -&gt; [String] -&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> (<A HREF="Ganeti-HTools-Types.html#t%3AIPolicy"
>IPolicy</A
>, <A HREF="Ganeti-HTools-Group.html#t%3AList"
>List</A
>)</TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadAllIPolicies"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
>Loads all policies from the policy section
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadTabular"
><A NAME="v%3AloadTabular"
></A
></A
><B
>loadTabular</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadTabular"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: (Monad m, <A HREF="Ganeti-HTools-Types.html#t%3AElement"
>Element</A
> a)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
>=&gt; [String]</TD
><TD CLASS="rdoc"
>Conversion function
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; [String] -&gt; m (String, a)</TD
><TD CLASS="rdoc"
>A tuple of an
 association list (name
 to object) and a set as
 used in
 <A HREF="Ganeti-HTools-Container.html"
>Ganeti.HTools.Container</A
>
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; m (<A HREF="Ganeti-HTools-Types.html#t%3ANameAssoc"
>NameAssoc</A
>, <A HREF="Ganeti-HTools-Container.html#t%3AContainer"
>Container</A
> a)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
><P
>Convert newline and delimiter-separated text.
</P
><P
>This function converts a text in tabular format as generated by
 <TT
>gnt-instance list</TT
> and <TT
>gnt-node list</TT
> to a list of objects using
 a supplied conversion function.
</P
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:readData"
><A NAME="v%3AreadData"
></A
></A
><B
>readData</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#readData"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: String</TD
><TD CLASS="rdoc"
>Path to the text file
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; IO String</TD
><TD CLASS="rdoc"
>Contents of the file
</TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
><P
>Load the cluser data from disk.
</P
><P
>This is an alias to <TT
>readFile</TT
> just for consistency with the other
 modules.
</P
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:parseData"
><A NAME="v%3AparseData"
></A
></A
><B
>parseData</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#parseData"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: String</TD
><TD CLASS="rdoc"
>Text data
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; <A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> <A HREF="Ganeti-HTools-Loader.html#t%3AClusterData"
>ClusterData</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Builds the cluster data from text input.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:loadData"
><A NAME="v%3AloadData"
></A
></A
><B
>loadData</B
></TD
><TD CLASS="declbut"
><A HREF="Ganeti/HTools/Text.html#loadData"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="arg"
>:: String</TD
><TD CLASS="rdoc"
>Path to the text file
</TD
></TR
><TR
><TD CLASS="arg"
>-&gt; IO (<A HREF="Ganeti-BasicTypes.html#t%3AResult"
>Result</A
> <A HREF="Ganeti-HTools-Loader.html#t%3AClusterData"
>ClusterData</A
>)</TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="ndoc" COLSPAN="2"
>Top level function for data loading.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="botbar"
>Produced by <A HREF="http://www.haskell.org/haddock/"
>Haddock</A
> version 2.6.0</TD
></TR
></TABLE
></BODY
></HTML
>
