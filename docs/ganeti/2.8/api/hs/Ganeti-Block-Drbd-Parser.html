<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.Block.Drbd.Parser</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ganeti-Block-Drbd-Parser.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/Block/Drbd/Parser.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Ganeti.Block.Drbd.Parser</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>DRBD proc file parser
</p><p>This module holds the definition of the parser that extracts status
information from the DRBD proc file.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:skipSpaces">skipSpaces</a> :: Parser ()</li><li class="src short"><a href="#v:skipSpacesAndString">skipSpacesAndString</a> ::  Text -&gt; Parser a -&gt; Parser a</li><li class="src short"><a href="#v:isBadEndOfLine">isBadEndOfLine</a> :: Char -&gt; Bool</li><li class="src short"><a href="#v:optional">optional</a> ::  Parser a -&gt; Parser (Maybe a)</li><li class="src short"><a href="#v:drbdStatusParser">drbdStatusParser</a> :: [<a href="Ganeti-Block-Drbd-Types.html#t:DrbdInstMinor">DrbdInstMinor</a>] -&gt; Parser <a href="Ganeti-Block-Drbd-Types.html#t:DRBDStatus">DRBDStatus</a></li><li class="src short"><a href="#v:versionInfoParser">versionInfoParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:VersionInfo">VersionInfo</a></li><li class="src short"><a href="#v:deviceParser">deviceParser</a> :: [<a href="Ganeti-Block-Drbd-Types.html#t:DrbdInstMinor">DrbdInstMinor</a>] -&gt; Parser <a href="Ganeti-Block-Drbd-Types.html#t:DeviceInfo">DeviceInfo</a></li><li class="src short"><a href="#v:connStateParser">connStateParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:ConnState">ConnState</a></li><li class="src short"><a href="#v:localRemoteParser">localRemoteParser</a> ::  Parser a -&gt; Parser (<a href="Ganeti-Block-Drbd-Types.html#t:LocalRemote">LocalRemote</a> a)</li><li class="src short"><a href="#v:roleParser">roleParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:Role">Role</a></li><li class="src short"><a href="#v:diskStateParser">diskStateParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:DiskState">DiskState</a></li><li class="src short"><a href="#v:ioFlagsParser">ioFlagsParser</a> :: Parser String</li><li class="src short"><a href="#v:perfIndicatorsParser">perfIndicatorsParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:PerfIndicators">PerfIndicators</a></li><li class="src short"><a href="#v:syncStatusParser">syncStatusParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:SyncStatus">SyncStatus</a></li><li class="src short"><a href="#v:statusBarParser">statusBarParser</a> :: Parser ()</li><li class="src short"><a href="#v:sizeUnitParser">sizeUnitParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:SizeUnit">SizeUnit</a></li><li class="src short"><a href="#v:timeParser">timeParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:Time">Time</a></li><li class="src short"><a href="#v:timeUnitParser">timeUnitParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:TimeUnit">TimeUnit</a></li><li class="src short"><a href="#v:commaIntParser">commaIntParser</a> :: Parser Int</li><li class="src short"><a href="#v:commaIntHelper">commaIntHelper</a> :: Int -&gt; Parser Int</li><li class="src short"><a href="#v:additionalInfoParser">additionalInfoParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:AdditionalInfo">AdditionalInfo</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:skipSpaces" class="def">skipSpaces</a> :: Parser ()<a href="Ganeti/Block/Drbd/Parser.html#skipSpaces" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:skipSpacesAndString" class="def">skipSpacesAndString</a> ::  Text -&gt; Parser a -&gt; Parser a<a href="Ganeti/Block/Drbd/Parser.html#skipSpacesAndString" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:isBadEndOfLine" class="def">isBadEndOfLine</a> :: Char -&gt; Bool<a href="Ganeti/Block/Drbd/Parser.html#isBadEndOfLine" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:optional" class="def">optional</a> ::  Parser a -&gt; Parser (Maybe a)<a href="Ganeti/Block/Drbd/Parser.html#optional" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:drbdStatusParser" class="def">drbdStatusParser</a> :: [<a href="Ganeti-Block-Drbd-Types.html#t:DrbdInstMinor">DrbdInstMinor</a>] -&gt; Parser <a href="Ganeti-Block-Drbd-Types.html#t:DRBDStatus">DRBDStatus</a><a href="Ganeti/Block/Drbd/Parser.html#drbdStatusParser" class="link">Source</a></p><div class="doc"><p>The parser for a whole DRBD status file.
</p></div></div><div class="top"><p class="src"><a name="v:versionInfoParser" class="def">versionInfoParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:VersionInfo">VersionInfo</a><a href="Ganeti/Block/Drbd/Parser.html#versionInfoParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:deviceParser" class="def">deviceParser</a> :: [<a href="Ganeti-Block-Drbd-Types.html#t:DrbdInstMinor">DrbdInstMinor</a>] -&gt; Parser <a href="Ganeti-Block-Drbd-Types.html#t:DeviceInfo">DeviceInfo</a><a href="Ganeti/Block/Drbd/Parser.html#deviceParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:connStateParser" class="def">connStateParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:ConnState">ConnState</a><a href="Ganeti/Block/Drbd/Parser.html#connStateParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:localRemoteParser" class="def">localRemoteParser</a> ::  Parser a -&gt; Parser (<a href="Ganeti-Block-Drbd-Types.html#t:LocalRemote">LocalRemote</a> a)<a href="Ganeti/Block/Drbd/Parser.html#localRemoteParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:roleParser" class="def">roleParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:Role">Role</a><a href="Ganeti/Block/Drbd/Parser.html#roleParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:diskStateParser" class="def">diskStateParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:DiskState">DiskState</a><a href="Ganeti/Block/Drbd/Parser.html#diskStateParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:ioFlagsParser" class="def">ioFlagsParser</a> :: Parser String<a href="Ganeti/Block/Drbd/Parser.html#ioFlagsParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:perfIndicatorsParser" class="def">perfIndicatorsParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:PerfIndicators">PerfIndicators</a><a href="Ganeti/Block/Drbd/Parser.html#perfIndicatorsParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:syncStatusParser" class="def">syncStatusParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:SyncStatus">SyncStatus</a><a href="Ganeti/Block/Drbd/Parser.html#syncStatusParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:statusBarParser" class="def">statusBarParser</a> :: Parser ()<a href="Ganeti/Block/Drbd/Parser.html#statusBarParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:sizeUnitParser" class="def">sizeUnitParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:SizeUnit">SizeUnit</a><a href="Ganeti/Block/Drbd/Parser.html#sizeUnitParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:timeParser" class="def">timeParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:Time">Time</a><a href="Ganeti/Block/Drbd/Parser.html#timeParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:timeUnitParser" class="def">timeUnitParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:TimeUnit">TimeUnit</a><a href="Ganeti/Block/Drbd/Parser.html#timeUnitParser" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:commaIntParser" class="def">commaIntParser</a> :: Parser Int<a href="Ganeti/Block/Drbd/Parser.html#commaIntParser" class="link">Source</a></p><div class="doc"><p>Haskell does not recognise ',' as the thousands separator every 3
 digits but DRBD uses it, so we need an ah-hoc parser.
 If a number beginning with more than 3 digits without a comma is
 parsed, only the first 3 digits are considered to be valid, the rest
 is not consumed, and left for further parsing.
</p></div></div><div class="top"><p class="src"><a name="v:commaIntHelper" class="def">commaIntHelper</a> :: Int -&gt; Parser Int<a href="Ganeti/Block/Drbd/Parser.html#commaIntHelper" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:additionalInfoParser" class="def">additionalInfoParser</a> :: Parser <a href="Ganeti-Block-Drbd-Types.html#t:AdditionalInfo">AdditionalInfo</a><a href="Ganeti/Block/Drbd/Parser.html#additionalInfoParser" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>