<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.utils.process</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        <a href="ganeti.utils-module.html">Package&nbsp;utils</a> ::
        Module&nbsp;process
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.utils.process-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module process</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.utils.process-pysrc.html">source&nbsp;code</a></span></p>
<p>Utility functions for processes.</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.utils.process.RunResult-class.html" class="summary-name">RunResult</a><br />
      Holds the result of running external programs.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DisableFork"></a><span class="summary-sig-name">DisableFork</span>()</span><br />
      Disables the use of fork(2).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#DisableFork">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_BuildCmdEnvironment"></a><span class="summary-sig-name">_BuildCmdEnvironment</span>(<span class="summary-sig-arg">env</span>,
        <span class="summary-sig-arg">reset</span>)</span><br />
      Builds the environment for an external program.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#_BuildCmdEnvironment">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.utils.process.RunResult-class.html" 
      class="link">RunResult</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#RunCmd" class="summary-sig-name">RunCmd</a>(<span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">env</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">output</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">cwd</span>=<span class="summary-sig-default">&quot;/&quot;</span>,
        <span class="summary-sig-arg">reset_env</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">interactive</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">timeout</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">noclose_fds</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">input_fd</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">postfork_fn</span>=<span class="summary-sig-default">None</span>)</span><br />
      Execute a (shell) command.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#RunCmd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#SetupDaemonEnv" class="summary-sig-name">SetupDaemonEnv</a>(<span class="summary-sig-arg">cwd</span>=<span class="summary-sig-default">&quot;/&quot;</span>,
        <span class="summary-sig-arg">umask</span>=<span class="summary-sig-default">077</span>)</span><br />
      Setup a daemon's environment.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#SetupDaemonEnv">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#SetupDaemonFDs" class="summary-sig-name">SetupDaemonFDs</a>(<span class="summary-sig-arg">output_file</span>,
        <span class="summary-sig-arg">output_fd</span>)</span><br />
      Setups up a daemon's file descriptors.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#SetupDaemonFDs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#StartDaemon" class="summary-sig-name">StartDaemon</a>(<span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">env</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">cwd</span>=<span class="summary-sig-default">&quot;/&quot;</span>,
        <span class="summary-sig-arg">output</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">output_fd</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">pidfile</span>=<span class="summary-sig-default">None</span>)</span><br />
      Start a daemon process after forking twice.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#StartDaemon">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_StartDaemonChild"></a><span class="summary-sig-name">_StartDaemonChild</span>(<span class="summary-sig-arg">errpipe_read</span>,
        <span class="summary-sig-arg">errpipe_write</span>,
        <span class="summary-sig-arg">pidpipe_read</span>,
        <span class="summary-sig-arg">pidpipe_write</span>,
        <span class="summary-sig-arg">args</span>,
        <span class="summary-sig-arg">env</span>,
        <span class="summary-sig-arg">cwd</span>,
        <span class="summary-sig-arg">output</span>,
        <span class="summary-sig-arg">fd_output</span>,
        <span class="summary-sig-arg">pidfile</span>)</span><br />
      Child process for starting daemon.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#_StartDaemonChild">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#WriteErrorToFD" class="summary-sig-name">WriteErrorToFD</a>(<span class="summary-sig-arg">fd</span>,
        <span class="summary-sig-arg">err</span>)</span><br />
      Possibly write an error message to a fd.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#WriteErrorToFD">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#_CheckIfAlive" class="summary-sig-name" onclick="show_private();">_CheckIfAlive</a>(<span class="summary-sig-arg">child</span>)</span><br />
      Raises <a href="ganeti.utils.retry.RetryAgain-class.html" 
      class="link">utils_retry.RetryAgain</a> if child is still alive.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#_CheckIfAlive">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_WaitForProcess"></a><span class="summary-sig-name">_WaitForProcess</span>(<span class="summary-sig-arg">child</span>,
        <span class="summary-sig-arg">timeout</span>)</span><br />
      Waits for the child to terminate or until we reach timeout.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#_WaitForProcess">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#_RunCmdPipe" class="summary-sig-name" onclick="show_private();">_RunCmdPipe</a>(<span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">env</span>,
        <span class="summary-sig-arg">via_shell</span>,
        <span class="summary-sig-arg">cwd</span>,
        <span class="summary-sig-arg">interactive</span>,
        <span class="summary-sig-arg">timeout</span>,
        <span class="summary-sig-arg">noclose_fds</span>,
        <span class="summary-sig-arg">input_fd</span>,
        <span class="summary-sig-arg">postfork_fn</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">_linger_timeout</span>=<span class="summary-sig-default">constants.CHILD_LINGER_TIMEOUT</span>)</span><br />
      Run a command and return its output.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#_RunCmdPipe">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#_RunCmdFile" class="summary-sig-name" onclick="show_private();">_RunCmdFile</a>(<span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">env</span>,
        <span class="summary-sig-arg">via_shell</span>,
        <span class="summary-sig-arg">output</span>,
        <span class="summary-sig-arg">cwd</span>,
        <span class="summary-sig-arg">noclose_fds</span>)</span><br />
      Run a command and save its output to a file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#_RunCmdFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of tuples</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#RunParts" class="summary-sig-name">RunParts</a>(<span class="summary-sig-arg">dir_name</span>,
        <span class="summary-sig-arg">env</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">reset_env</span>=<span class="summary-sig-default">False</span>)</span><br />
      Run Scripts or programs in a directory</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#RunParts">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#_GetProcStatusPath" class="summary-sig-name" onclick="show_private();">_GetProcStatusPath</a>(<span class="summary-sig-arg">pid</span>)</span><br />
      Returns the path for a PID's proc status file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#_GetProcStatusPath">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#IsProcessAlive" class="summary-sig-name">IsProcessAlive</a>(<span class="summary-sig-arg">pid</span>)</span><br />
      Check if a given pid exists on the system.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#IsProcessAlive">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">set</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#_ParseSigsetT" class="summary-sig-name" onclick="show_private();">_ParseSigsetT</a>(<span class="summary-sig-arg">sigset</span>)</span><br />
      Parse a rendered sigset_t value.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#_ParseSigsetT">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#_GetProcStatusField" class="summary-sig-name" onclick="show_private();">_GetProcStatusField</a>(<span class="summary-sig-arg">pstatus</span>,
        <span class="summary-sig-arg">field</span>)</span><br />
      Retrieves a field from the contents of a proc status file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#_GetProcStatusField">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">bool</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#IsProcessHandlingSignal" class="summary-sig-name">IsProcessHandlingSignal</a>(<span class="summary-sig-arg">pid</span>,
        <span class="summary-sig-arg">signum</span>,
        <span class="summary-sig-arg">status_path</span>=<span class="summary-sig-default">None</span>)</span><br />
      Checks whether a process is handling a signal.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#IsProcessHandlingSignal">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple; (int, callable)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#Daemonize" class="summary-sig-name">Daemonize</a>(<span class="summary-sig-arg">logfile</span>)</span><br />
      Daemonize the current process.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#Daemonize">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#KillProcess" class="summary-sig-name">KillProcess</a>(<span class="summary-sig-arg">pid</span>,
        <span class="summary-sig-arg">signal_</span>=<span class="summary-sig-default">signal.SIGTERM</span>,
        <span class="summary-sig-arg">timeout</span>=<span class="summary-sig-default">30</span>,
        <span class="summary-sig-arg">waitpid</span>=<span class="summary-sig-default">False</span>)</span><br />
      Kill a process given by its pid.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#KillProcess">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">bool</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#RunInSeparateProcess" class="summary-sig-name">RunInSeparateProcess</a>(<span class="summary-sig-arg">fn</span>,
        <span class="summary-sig-arg">*args</span>)</span><br />
      Runs a function in a separate process.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#RunInSeparateProcess">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.utils.process-module.html#CloseFDs" class="summary-sig-name">CloseFDs</a>(<span class="summary-sig-arg">noclose_fds</span>=<span class="summary-sig-default">None</span>)</span><br />
      Close file descriptors.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.utils.process-pysrc.html#CloseFDs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_no_fork"></a><span class="summary-name">_no_fork</span> = <code title="False">False</code><br />
      when set to True, <a href="ganeti.utils.process-module.html#RunCmd" 
      class="link">RunCmd</a> is disabled
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <span title="os">os</span>,
  <span title="sys">sys</span>,
  <span title="subprocess">subprocess</span>,
  <span title="errno">errno</span>,
  <span title="select">select</span>,
  <span title="logging">logging</span>,
  <span title="signal">signal</span>,
  <span title="resource">resource</span>,
  <span title="cStringIO.StringIO">StringIO</span>,
  <a href="ganeti.errors-module.html" title="ganeti.errors">errors</a>,
  <a href="ganeti.constants-module.html" title="ganeti.constants">constants</a>,
  <a href="ganeti.compat-module.html" title="ganeti.compat">compat</a>,
  <span title="ganeti.utils.retry">utils_retry</span>,
  <a href="ganeti.utils.wrapper-module.html" title="ganeti.utils.wrapper">utils_wrapper</a>,
  <span title="ganeti.utils.text">utils_text</span>,
  <span title="ganeti.utils.io">utils_io</span>,
  <span title="ganeti.utils.algo">utils_algo</span>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="RunCmd"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RunCmd</span>(<span class="sig-arg">cmd</span>,
        <span class="sig-arg">env</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">output</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">cwd</span>=<span class="sig-default">&quot;/&quot;</span>,
        <span class="sig-arg">reset_env</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">interactive</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">timeout</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">noclose_fds</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">input_fd</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">postfork_fn</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#RunCmd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Execute a (shell) command.</p>
  <p>The command should not read from its standard input, as it will be 
  closed.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cmd</code></strong> (string or list) - Command to run</li>
        <li><strong class="pname"><code>env</code></strong> (dict) - Additional environment variables</li>
        <li><strong class="pname"><code>output</code></strong> (str) - if desired, the output of the command can be saved in a file 
          instead of the RunResult instance; this parameter denotes the 
          file name (if not None)</li>
        <li><strong class="pname"><code>cwd</code></strong> (string) - if specified, will be used as the working directory for the 
          command; the default will be /</li>
        <li><strong class="pname"><code>reset_env</code></strong> (boolean) - whether to reset or keep the default os environment</li>
        <li><strong class="pname"><code>interactive</code></strong> (boolean) - whether we pipe stdin, stdout and stderr (default behaviour) or 
          run the command interactive</li>
        <li><strong class="pname"><code>timeout</code></strong> (int) - If not None, timeout in seconds until child process gets killed</li>
        <li><strong class="pname"><code>noclose_fds</code></strong> (list) - list of additional (fd &gt;=3) file descriptors to leave open for
          the child process</li>
        <li><strong class="pname"><code>input_fd</code></strong> (<code>file</code>-like object or numeric file descriptor) - File descriptor for process' standard input</li>
        <li><strong class="pname"><code>postfork_fn</code></strong> (Callable receiving PID as parameter) - Callback run after fork but before timeout</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.utils.process.RunResult-class.html" 
      class="link">RunResult</a></dt>
        <dd>RunResult instance</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - if we call this when forks are disabled</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="SetupDaemonEnv"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SetupDaemonEnv</span>(<span class="sig-arg">cwd</span>=<span class="sig-default">&quot;/&quot;</span>,
        <span class="sig-arg">umask</span>=<span class="sig-default">077</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#SetupDaemonEnv">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Setup a daemon's environment.</p>
  <p>This should be called between the first and second fork, due to setsid
  usage.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cwd</code></strong> - the directory to which to chdir</li>
        <li><strong class="pname"><code>umask</code></strong> - the umask to setup</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="SetupDaemonFDs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SetupDaemonFDs</span>(<span class="sig-arg">output_file</span>,
        <span class="sig-arg">output_fd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#SetupDaemonFDs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Setups up a daemon's file descriptors.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>output_file</code></strong> - if not None, the file to which to redirect stdout/stderr</li>
        <li><strong class="pname"><code>output_fd</code></strong> - if not None, the file descriptor for stdout/stderr</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="StartDaemon"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">StartDaemon</span>(<span class="sig-arg">cmd</span>,
        <span class="sig-arg">env</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">cwd</span>=<span class="sig-default">&quot;/&quot;</span>,
        <span class="sig-arg">output</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">output_fd</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">pidfile</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#StartDaemon">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Start a daemon process after forking twice.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cmd</code></strong> (string or list) - Command to run</li>
        <li><strong class="pname"><code>env</code></strong> (dict) - Additional environment variables</li>
        <li><strong class="pname"><code>cwd</code></strong> (string) - Working directory for the program</li>
        <li><strong class="pname"><code>output</code></strong> (string) - Path to file in which to save the output</li>
        <li><strong class="pname"><code>output_fd</code></strong> (int) - File descriptor for output</li>
        <li><strong class="pname"><code>pidfile</code></strong> (string) - Process ID file</li>
    </ul></dd>
    <dt>Returns: int</dt>
        <dd>Daemon process ID</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - if we call this when forks are disabled</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="WriteErrorToFD"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">WriteErrorToFD</span>(<span class="sig-arg">fd</span>,
        <span class="sig-arg">err</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#WriteErrorToFD">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Possibly write an error message to a fd.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fd</code></strong> (None or int (file descriptor)) - if not None, the error will be written to this fd</li>
        <li><strong class="pname"><code>err</code></strong> - string, the error message</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckIfAlive"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckIfAlive</span>(<span class="sig-arg">child</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#_CheckIfAlive">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Raises <a href="ganeti.utils.retry.RetryAgain-class.html" 
  class="link">utils_retry.RetryAgain</a> if child is still alive.</p>
  <dl class="fields">
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.utils.retry.RetryAgain-class.html">utils_retry.RetryAgain</a></strong></code> - If child is still alive</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_RunCmdPipe"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RunCmdPipe</span>(<span class="sig-arg">cmd</span>,
        <span class="sig-arg">env</span>,
        <span class="sig-arg">via_shell</span>,
        <span class="sig-arg">cwd</span>,
        <span class="sig-arg">interactive</span>,
        <span class="sig-arg">timeout</span>,
        <span class="sig-arg">noclose_fds</span>,
        <span class="sig-arg">input_fd</span>,
        <span class="sig-arg">postfork_fn</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">_linger_timeout</span>=<span class="sig-default">constants.CHILD_LINGER_TIMEOUT</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#_RunCmdPipe">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Run a command and return its output.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cmd</code></strong> (string or list) - Command to run</li>
        <li><strong class="pname"><code>env</code></strong> (dict) - The environment to use</li>
        <li><strong class="pname"><code>via_shell</code></strong> (bool) - if we should run via the shell</li>
        <li><strong class="pname"><code>cwd</code></strong> (string) - the working directory for the program</li>
        <li><strong class="pname"><code>interactive</code></strong> (boolean) - Run command interactive (without piping)</li>
        <li><strong class="pname"><code>timeout</code></strong> (int) - Timeout after the programm gets terminated</li>
        <li><strong class="pname"><code>noclose_fds</code></strong> (list) - list of additional (fd &gt;=3) file descriptors to leave open for
          the child process</li>
        <li><strong class="pname"><code>input_fd</code></strong> (<code>file</code>-like object or numeric file descriptor) - File descriptor for process' standard input</li>
        <li><strong class="pname"><code>postfork_fn</code></strong> (Callable receiving PID as parameter) - Function run after fork but before timeout</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>(out, err, status)</dd>
  </dl>
</td></tr></table>
</div>
<a name="_RunCmdFile"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RunCmdFile</span>(<span class="sig-arg">cmd</span>,
        <span class="sig-arg">env</span>,
        <span class="sig-arg">via_shell</span>,
        <span class="sig-arg">output</span>,
        <span class="sig-arg">cwd</span>,
        <span class="sig-arg">noclose_fds</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#_RunCmdFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Run a command and save its output to a file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cmd</code></strong> (string or list) - Command to run</li>
        <li><strong class="pname"><code>env</code></strong> (dict) - The environment to use</li>
        <li><strong class="pname"><code>via_shell</code></strong> (bool) - if we should run via the shell</li>
        <li><strong class="pname"><code>output</code></strong> (str) - the filename in which to save the output</li>
        <li><strong class="pname"><code>cwd</code></strong> (string) - the working directory for the program</li>
        <li><strong class="pname"><code>noclose_fds</code></strong> (list) - list of additional (fd &gt;=3) file descriptors to leave open for
          the child process</li>
    </ul></dd>
    <dt>Returns: int</dt>
        <dd>the exit status</dd>
  </dl>
</td></tr></table>
</div>
<a name="RunParts"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RunParts</span>(<span class="sig-arg">dir_name</span>,
        <span class="sig-arg">env</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">reset_env</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#RunParts">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Run Scripts or programs in a directory</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dir_name</code></strong> (string) - absolute path to a directory</li>
        <li><strong class="pname"><code>env</code></strong> (dict) - The environment to use</li>
        <li><strong class="pname"><code>reset_env</code></strong> (boolean) - whether to reset or keep the default os environment</li>
    </ul></dd>
    <dt>Returns: list of tuples</dt>
        <dd>list of (name, (one of RUNDIR_STATUS), RunResult)</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetProcStatusPath"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetProcStatusPath</span>(<span class="sig-arg">pid</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#_GetProcStatusPath">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns the path for a PID's proc status file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>pid</code></strong> (int) - Process ID</li>
    </ul></dd>
    <dt>Returns: string</dt>
  </dl>
</td></tr></table>
</div>
<a name="IsProcessAlive"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">IsProcessAlive</span>(<span class="sig-arg">pid</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#IsProcessAlive">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if a given pid exists on the system.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>pid</code></strong> (int) - the process ID to check</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>True if the process exists</dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        zombie status is not handled, so zombie processes will be returned 
        as alive
      </p>
</div></td></tr></table>
</div>
<a name="_ParseSigsetT"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_ParseSigsetT</span>(<span class="sig-arg">sigset</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#_ParseSigsetT">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Parse a rendered sigset_t value.</p>
  <p>This is the opposite of the Linux kernel's 
  fs/proc/array.c:render_sigset_t function.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>sigset</code></strong> (string) - Rendered signal set from /proc/$pid/status</li>
    </ul></dd>
    <dt>Returns: set</dt>
        <dd>Set of all enabled signal numbers</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetProcStatusField"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetProcStatusField</span>(<span class="sig-arg">pstatus</span>,
        <span class="sig-arg">field</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#_GetProcStatusField">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Retrieves a field from the contents of a proc status file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>pstatus</code></strong> (string) - Contents of /proc/$pid/status</li>
        <li><strong class="pname"><code>field</code></strong> (string) - Name of field whose value should be returned</li>
    </ul></dd>
    <dt>Returns: string</dt>
  </dl>
</td></tr></table>
</div>
<a name="IsProcessHandlingSignal"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">IsProcessHandlingSignal</span>(<span class="sig-arg">pid</span>,
        <span class="sig-arg">signum</span>,
        <span class="sig-arg">status_path</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#IsProcessHandlingSignal">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks whether a process is handling a signal.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>pid</code></strong> (int) - Process ID</li>
        <li><strong class="pname"><code>signum</code></strong> (int) - Signal number</li>
    </ul></dd>
    <dt>Returns: bool</dt>
  </dl>
</td></tr></table>
</div>
<a name="Daemonize"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">Daemonize</span>(<span class="sig-arg">logfile</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#Daemonize">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Daemonize the current process.</p>
  <p>This detaches the current process from the controlling terminal and 
  runs it in the background as a daemon.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>logfile</code></strong> (str) - the logfile to which we should redirect stdout/stderr</li>
    </ul></dd>
    <dt>Returns: tuple; (int, callable)</dt>
        <dd>File descriptor of pipe(2) which must be closed to notify parent 
          process and a callable to reopen log files</dd>
  </dl>
</td></tr></table>
</div>
<a name="KillProcess"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">KillProcess</span>(<span class="sig-arg">pid</span>,
        <span class="sig-arg">signal_</span>=<span class="sig-default">signal.SIGTERM</span>,
        <span class="sig-arg">timeout</span>=<span class="sig-default">30</span>,
        <span class="sig-arg">waitpid</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#KillProcess">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Kill a process given by its pid.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>pid</code></strong> (int) - The PID to terminate.</li>
        <li><strong class="pname"><code>signal_</code></strong> (int) - The signal to send, by default SIGTERM</li>
        <li><strong class="pname"><code>timeout</code></strong> (int) - The timeout after which, if the process is still alive, a SIGKILL
          will be sent. If not positive, no such checking will be done</li>
        <li><strong class="pname"><code>waitpid</code></strong> (boolean) - If true, we should waitpid on this process after sending signals,
          since it's our own child and otherwise it would remain as zombie</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RunInSeparateProcess"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RunInSeparateProcess</span>(<span class="sig-arg">fn</span>,
        <span class="sig-arg">*args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#RunInSeparateProcess">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Runs a function in a separate process.</p>
  <p>Note: Only boolean return values are supported.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fn</code></strong> (callable) - Function to be called</li>
    </ul></dd>
    <dt>Returns: bool</dt>
        <dd>Function's result</dd>
  </dl>
</td></tr></table>
</div>
<a name="CloseFDs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CloseFDs</span>(<span class="sig-arg">noclose_fds</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.utils.process-pysrc.html#CloseFDs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Close file descriptors.</p>
  <p>This closes all file descriptors above 2 (i.e. except 
  stdin/out/err).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>noclose_fds</code></strong> (list or None) - if given, it denotes a list of file descriptor that should not be
          closed</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Dec  3 11:32:31 2013
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
