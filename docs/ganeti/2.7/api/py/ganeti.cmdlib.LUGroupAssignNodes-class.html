<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.cmdlib.LUGroupAssignNodes</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        <a href="ganeti.cmdlib-module.html">Module&nbsp;cmdlib</a> ::
        Class&nbsp;LUGroupAssignNodes
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.cmdlib.LUGroupAssignNodes-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class LUGroupAssignNodes</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_ganeti_c_45" name="uml_class_diagram_for_ganeti_c_45">
<area shape="rect" id="node169" href="ganeti.cmdlib.LUGroupAssignNodes-class.html#REQ_BGL" title="ganeti.cmdlib.LUGroupAssignNodes.REQ_BGL" alt="" coords="17,287,487,305"/>
<area shape="rect" id="node169" href="ganeti.cmdlib.LUGroupAssignNodes-class.html#ExpandNames" title="Expand names for this LU." alt="" coords="17,308,487,327"/>
<area shape="rect" id="node169" href="ganeti.cmdlib.LUGroupAssignNodes-class.html#DeclareLocks" title="Declare LU locking needs for a level" alt="" coords="17,327,487,345"/>
<area shape="rect" id="node169" href="ganeti.cmdlib.LUGroupAssignNodes-class.html#CheckPrereq" title="Check prerequisites." alt="" coords="17,345,487,364"/>
<area shape="rect" id="node169" href="ganeti.cmdlib.LUGroupAssignNodes-class.html#Exec" title="Assign nodes to a new group." alt="" coords="17,364,487,383"/>
<area shape="rect" id="node169" href="ganeti.cmdlib.LUGroupAssignNodes-class.html#CheckAssignmentForSplitInstances" title="Check for split instances after a node assignment." alt="" coords="17,383,487,401"/>
<area shape="rect" id="node1" href="ganeti.cmdlib.LUGroupAssignNodes-class.html" title="Logical unit for assigning nodes to groups." alt="" coords="5,262,499,407"/>
<area shape="rect" id="node170" href="ganeti.cmdlib.NoHooksLU-class.html#HPATH" title="ganeti.cmdlib.NoHooksLU.HPATH" alt="" coords="176,159,328,177"/>
<area shape="rect" id="node170" href="ganeti.cmdlib.NoHooksLU-class.html#HTYPE" title="ganeti.cmdlib.NoHooksLU.HTYPE" alt="" coords="176,177,328,196"/>
<area shape="rect" id="node170" href="ganeti.cmdlib.NoHooksLU-class.html#BuildHooksEnv" title="Empty BuildHooksEnv for NoHooksLu." alt="" coords="176,199,328,217"/>
<area shape="rect" id="node170" href="ganeti.cmdlib.NoHooksLU-class.html#BuildHooksNodes" title="Empty BuildHooksNodes for NoHooksLU." alt="" coords="176,217,328,236"/>
<area shape="rect" id="node2" href="ganeti.cmdlib.NoHooksLU-class.html" title="Simple LU which runs no hooks." alt="" coords="164,134,340,242"/>
<area shape="rect" id="node171" href="ganeti.cmdlib.LogicalUnit-class.html#dry_run_result" title="the value (if any) that will be returned to the caller in dry&#45;run mode &#160;(signalled by opcode dry_run parameter)" alt="" coords="44,31,460,49"/>
<area shape="rect" id="node171" href="ganeti.cmdlib.LogicalUnit-class.html#__init__" title="Constructor for LogicalUnit." alt="" coords="44,52,460,71"/>
<area shape="rect" id="node171" href="ganeti.cmdlib.LogicalUnit-class.html#CheckArguments" title="Check syntactic validity for the opcode arguments." alt="" coords="44,71,460,89"/>
<area shape="rect" id="node171" href="ganeti.cmdlib.LogicalUnit-class.html#HooksCallBack" title="Notify the LU about the results of its hooks." alt="" coords="44,89,460,108"/>
<area shape="rect" id="node3" href="ganeti.cmdlib.LogicalUnit-class.html" title="Logical Unit base class." alt="" coords="32,6,472,114"/>
</map>
  <img src="uml_class_diagram_for_ganeti_c_45.gif" alt='' usemap="#uml_class_diagram_for_ganeti_c_45" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>Logical unit for assigning nodes to groups.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.LUGroupAssignNodes-class.html#ExpandNames" class="summary-sig-name">ExpandNames</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Expand names for this LU.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.ExpandNames">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.LUGroupAssignNodes-class.html#DeclareLocks" class="summary-sig-name">DeclareLocks</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">level</span>)</span><br />
      Declare LU locking needs for a level</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.DeclareLocks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.LUGroupAssignNodes-class.html#CheckPrereq" class="summary-sig-name">CheckPrereq</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Check prerequisites.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.CheckPrereq">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.LUGroupAssignNodes-class.html#Exec" class="summary-sig-name">Exec</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">feedback_fn</span>)</span><br />
      Assign nodes to a new group.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.Exec">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.cmdlib.NoHooksLU-class.html">NoHooksLU</a></code></b>:
      <code><a href="ganeti.cmdlib.NoHooksLU-class.html#BuildHooksEnv">BuildHooksEnv</a></code>,
      <code><a href="ganeti.cmdlib.NoHooksLU-class.html#BuildHooksNodes">BuildHooksNodes</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.cmdlib.LogicalUnit-class.html">LogicalUnit</a></code></b>:
      <code><a href="ganeti.cmdlib.LogicalUnit-class.html#CheckArguments">CheckArguments</a></code>,
      <code><a href="ganeti.cmdlib.LogicalUnit-class.html#HooksCallBack">HooksCallBack</a></code>,
      <code><a href="ganeti.cmdlib.LogicalUnit-class.html#__init__">__init__</a></code>
      </p>
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.cmdlib.LogicalUnit-class.html">LogicalUnit</a></code></b> (private):
      <code><a href="ganeti.cmdlib.LogicalUnit-class.html#_ExpandAndLockInstance" onclick="show_private();">_ExpandAndLockInstance</a></code>,
      <code><a href="ganeti.cmdlib.LogicalUnit-class.html#_LockInstancesNodes" onclick="show_private();">_LockInstancesNodes</a></code>
      </p></div>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== STATIC METHODS ==================== -->
<a name="section-StaticMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Static Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-StaticMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">a two-tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.LUGroupAssignNodes-class.html#CheckAssignmentForSplitInstances" class="summary-sig-name">CheckAssignmentForSplitInstances</a>(<span class="summary-sig-arg">changes</span>,
        <span class="summary-sig-arg">node_data</span>,
        <span class="summary-sig-arg">instance_data</span>)</span><br />
      Check for split instances after a node assignment.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.CheckAssignmentForSplitInstances">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="REQ_BGL"></a><span class="summary-name">REQ_BGL</span> = <code title="False">False</code>
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.cmdlib.NoHooksLU-class.html">NoHooksLU</a></code></b>:
      <code><a href="ganeti.cmdlib.NoHooksLU-class.html#HPATH">HPATH</a></code>,
      <code><a href="ganeti.cmdlib.NoHooksLU-class.html#HTYPE">HTYPE</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE VARIABLES ==================== -->
<a name="section-InstanceVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.cmdlib.LogicalUnit-class.html">LogicalUnit</a></code></b>:
      <code><a href="ganeti.cmdlib.LogicalUnit-class.html#dry_run_result">dry_run_result</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="ExpandNames"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ExpandNames</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.ExpandNames">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Expand names for this LU.</p>
  <p>This method is called before starting to execute the opcode, and it 
  should update all the parameters of the opcode to their canonical form 
  (e.g. a short node name must be fully expanded after this method has 
  successfully completed). This way locking, hooks, logging, etc. can work 
  correctly.</p>
  <p>LUs which implement this method must also populate the 
  self.needed_locks member, as a dict with lock levels as keys, and a list 
  of needed lock names as values. Rules:</p>
  <ul>
    <li>
      use an empty dict if you don't need any lock
    </li>
    <li>
      if you don't need any lock at a particular level omit that level 
      (note that in this case <code>DeclareLocks</code> won't be called at 
      all for that level)
    </li>
    <li>
      if you need locks at a level, but you can't calculate it in this 
      function, initialise that level with an empty list and do further 
      processing in <a 
      href="ganeti.cmdlib.LogicalUnit-class.html#DeclareLocks" 
      class="link">LogicalUnit.DeclareLocks</a> (see that function's 
      docstring)
    </li>
    <li>
      don't put anything for the BGL level
    </li>
    <li>
      if you want all locks at a level use <a 
      href="ganeti.locking-module.html#ALL_SET" 
      class="link">locking.ALL_SET</a> as a value
    </li>
  </ul>
  <p>If you need to share locks (rather than acquire them exclusively) at 
  one level you can modify self.share_locks, setting a true value (usually 
  1) for that level. By default locks are not shared.</p>
  <p>This function can also define a list of tasklets, which then will be 
  executed in order instead of the usual LU-level CheckPrereq and Exec 
  functions, if those are not defined by the LU.</p>
  <p>Examples:</p>
<pre class="literalblock">
 # Acquire all nodes and one instance
 self.needed_locks = {
   locking.LEVEL_NODE: locking.ALL_SET,
   locking.LEVEL_INSTANCE: ['instance1.example.com'],
 }
 # Acquire just two nodes
 self.needed_locks = {
   locking.LEVEL_NODE: ['node1.example.com', 'node2.example.com'],
 }
 # Acquire no locks
 self.needed_locks = {} # No, you can't leave it to the default value None
</pre>
  <dl class="fields">
    <dt>Overrides:
        <a href="ganeti.cmdlib.LogicalUnit-class.html#ExpandNames">LogicalUnit.ExpandNames</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="DeclareLocks"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DeclareLocks</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">level</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.DeclareLocks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Declare LU locking needs for a level</p>
  <p>While most LUs can just declare their locking needs at ExpandNames 
  time, sometimes there's the need to calculate some locks after having 
  acquired the ones before. This function is called just before acquiring 
  locks at a particular level, but after acquiring the ones at lower 
  levels, and permits such calculations. It can be used to modify 
  self.needed_locks, and by default it does nothing.</p>
  <p>This function is only called if you have something already set in 
  self.needed_locks for the level.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>level</code></strong> - Locking level which is going to be locked</li>
    </ul></dd>
    <dt>Overrides:
        <a href="ganeti.cmdlib.LogicalUnit-class.html#DeclareLocks">LogicalUnit.DeclareLocks</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="CheckPrereq"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CheckPrereq</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.CheckPrereq">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check prerequisites.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="ganeti.cmdlib.LogicalUnit-class.html#CheckPrereq">LogicalUnit.CheckPrereq</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="Exec"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">Exec</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">feedback_fn</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.Exec">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Assign nodes to a new group.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="ganeti.cmdlib.LogicalUnit-class.html#Exec">LogicalUnit.Exec</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="CheckAssignmentForSplitInstances"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CheckAssignmentForSplitInstances</span>(<span class="sig-arg">changes</span>,
        <span class="sig-arg">node_data</span>,
        <span class="sig-arg">instance_data</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib-pysrc.html#LUGroupAssignNodes.CheckAssignmentForSplitInstances">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check for split instances after a node assignment.</p>
  <p>This method considers a series of node assignments as an atomic 
  operation, and returns information about split instances after applying 
  the set of changes.</p>
  <p>In particular, it returns information about newly split instances, and
  instances that were already split, and remain so after the change.</p>
  <p>Only instances whose disk template is listed in 
  constants.DTS_INT_MIRROR are considered.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>changes</code></strong> (list of (node_name, new_group_uuid) pairs.) - list of node assignments to consider.</li>
        <li><strong class="pname"><code>node_data</code></strong> - a dict with data for all nodes</li>
        <li><strong class="pname"><code>instance_data</code></strong> - a dict with all instances to consider</li>
    </ul></dd>
    <dt>Returns: a two-tuple</dt>
        <dd>a list of instances that were previously okay and result split as
          a consequence of this change, and a list of instances that were 
          previously split and this change does not fix.</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Dec  3 11:32:33 2013
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
