<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.Common</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ganeti-Common.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/Common.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Ganeti.Common</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Base common functionality.
</p><p>This module holds common functionality shared across Ganeti daemons,
HTools and any other programs.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:OptCompletion">OptCompletion</a> <ul class="subs"><li>= <a href="#v:OptComplNone">OptComplNone</a>  </li><li>| <a href="#v:OptComplFile">OptComplFile</a>  </li><li>| <a href="#v:OptComplDir">OptComplDir</a>  </li><li>| <a href="#v:OptComplHost">OptComplHost</a>  </li><li>| <a href="#v:OptComplInetAddr">OptComplInetAddr</a>  </li><li>| <a href="#v:OptComplOneNode">OptComplOneNode</a>  </li><li>| <a href="#v:OptComplManyNodes">OptComplManyNodes</a>  </li><li>| <a href="#v:OptComplOneInstance">OptComplOneInstance</a>  </li><li>| <a href="#v:OptComplManyInstances">OptComplManyInstances</a>  </li><li>| <a href="#v:OptComplOneOs">OptComplOneOs</a>  </li><li>| <a href="#v:OptComplOneIallocator">OptComplOneIallocator</a>  </li><li>| <a href="#v:OptComplInstAddNodes">OptComplInstAddNodes</a>  </li><li>| <a href="#v:OptComplOneGroup">OptComplOneGroup</a>  </li><li>| <a href="#v:OptComplInteger">OptComplInteger</a>  </li><li>| <a href="#v:OptComplFloat">OptComplFloat</a>  </li><li>| <a href="#v:OptComplJobId">OptComplJobId</a>  </li><li>| <a href="#v:OptComplCommand">OptComplCommand</a>  </li><li>| <a href="#v:OptComplString">OptComplString</a>  </li><li>| <a href="#v:OptComplChoices">OptComplChoices</a> [String]  </li><li>| <a href="#v:OptComplSuggest">OptComplSuggest</a> [String]  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:ArgCompletion">ArgCompletion</a>  = <a href="#v:ArgCompletion">ArgCompletion</a> <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a> Int (Maybe Int)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Personality">Personality</a> a = (a -&gt; [String] -&gt; IO (), IO [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a], [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>], String)</li><li class="src short"><span class="keyword">type</span> <a href="#t:PersonalityList">PersonalityList</a> a = [(String, <a href="Ganeti-Common.html#t:Personality">Personality</a> a)]</li><li class="src short"><a href="#v:optComplYesNo">optComplYesNo</a> :: <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a></li><li class="src short"><a href="#v:complToText">complToText</a> :: <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a> -&gt; String</li><li class="src short"><a href="#v:argComplToText">argComplToText</a> :: <a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a> -&gt; String</li><li class="src short"><span class="keyword">type</span> <a href="#t:GenericOptType">GenericOptType</a> a = (OptDescr (a -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> a), <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a>)</li><li class="src short"><span class="keyword">class</span>  <a href="#t:StandardOptions">StandardOptions</a> a  <span class="keyword">where</span><ul class="subs"><li><a href="#v:helpRequested">helpRequested</a> :: a -&gt; Bool</li><li><a href="#v:verRequested">verRequested</a> :: a -&gt; Bool</li><li><a href="#v:compRequested">compRequested</a> :: a -&gt; Bool</li><li><a href="#v:requestHelp">requestHelp</a> :: a -&gt; a</li><li><a href="#v:requestVer">requestVer</a> :: a -&gt; a</li><li><a href="#v:requestComp">requestComp</a> :: a -&gt; a</li></ul></li><li class="src short"><a href="#v:oShowHelp">oShowHelp</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a</li><li class="src short"><a href="#v:oShowVer">oShowVer</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a</li><li class="src short"><a href="#v:oShowComp">oShowComp</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a</li><li class="src short"><a href="#v:usageHelp">usageHelp</a> ::  String -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; String</li><li class="src short"><a href="#v:versionInfo">versionInfo</a> :: String -&gt; String</li><li class="src short"><a href="#v:completionInfo">completionInfo</a> ::  String -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>] -&gt; String</li><li class="src short"><a href="#v:parseYesNo">parseYesNo</a> :: Bool -&gt; Maybe String -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> Bool</li><li class="src short"><a href="#v:reqWithConversion">reqWithConversion</a> ::  (String -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> a) -&gt; (a -&gt; b -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> b) -&gt; String -&gt; ArgDescr (b -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> b)</li><li class="src short"><a href="#v:maxCmdLen">maxCmdLen</a> :: Int</li><li class="src short"><a href="#v:formatCommands">formatCommands</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; [String]</li><li class="src short"><a href="#v:formatCmdUsage">formatCmdUsage</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; String -&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; String</li><li class="src short"><a href="#v:showCmdUsage">showCmdUsage</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; String -&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; Bool -&gt; IO b</li><li class="src short"><a href="#v:multiCmdCompletion">multiCmdCompletion</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; String</li><li class="src short"><a href="#v:showCmdCompletion">showCmdCompletion</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; IO b</li><li class="src short"><a href="#v:parseOpts">parseOpts</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; a -&gt; [String] -&gt; String -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>] -&gt; IO (a, [String])</li><li class="src short"><a href="#v:parseOptsCmds">parseOptsCmds</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; a -&gt; [String] -&gt; String -&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; IO (a, [String], a -&gt; [String] -&gt; IO ())</li><li class="src short"><a href="#v:parseOptsInner">parseOptsInner</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; a -&gt; [String] -&gt; String -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>] -&gt; Either (ExitCode, String) (a, [String])</li><li class="src short"><a href="#v:genericMainCmds">genericMainCmds</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; a -&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; IO ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:OptCompletion" class="def">OptCompletion</a>  <a href="Ganeti/Common.html#OptCompletion" class="link">Source</a></p><div class="doc"><p>Parameter type.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:OptComplNone" class="def">OptComplNone</a></td><td class="doc"><p>No parameter to this option
</p></td></tr><tr><td class="src"><a name="v:OptComplFile" class="def">OptComplFile</a></td><td class="doc"><p>An existing file
</p></td></tr><tr><td class="src"><a name="v:OptComplDir" class="def">OptComplDir</a></td><td class="doc"><p>An existing directory
</p></td></tr><tr><td class="src"><a name="v:OptComplHost" class="def">OptComplHost</a></td><td class="doc"><p>Host name
</p></td></tr><tr><td class="src"><a name="v:OptComplInetAddr" class="def">OptComplInetAddr</a></td><td class="doc"><p>One ipv4/ipv6 address
</p></td></tr><tr><td class="src"><a name="v:OptComplOneNode" class="def">OptComplOneNode</a></td><td class="doc"><p>One node
</p></td></tr><tr><td class="src"><a name="v:OptComplManyNodes" class="def">OptComplManyNodes</a></td><td class="doc"><p>Many nodes, comma-sep
</p></td></tr><tr><td class="src"><a name="v:OptComplOneInstance" class="def">OptComplOneInstance</a></td><td class="doc"><p>One instance
</p></td></tr><tr><td class="src"><a name="v:OptComplManyInstances" class="def">OptComplManyInstances</a></td><td class="doc"><p>Many instances, comma-sep
</p></td></tr><tr><td class="src"><a name="v:OptComplOneOs" class="def">OptComplOneOs</a></td><td class="doc"><p>One OS name
</p></td></tr><tr><td class="src"><a name="v:OptComplOneIallocator" class="def">OptComplOneIallocator</a></td><td class="doc"><p>One iallocator
</p></td></tr><tr><td class="src"><a name="v:OptComplInstAddNodes" class="def">OptComplInstAddNodes</a></td><td class="doc"><p>Either one or two nodes
</p></td></tr><tr><td class="src"><a name="v:OptComplOneGroup" class="def">OptComplOneGroup</a></td><td class="doc"><p>One group
</p></td></tr><tr><td class="src"><a name="v:OptComplInteger" class="def">OptComplInteger</a></td><td class="doc"><p>Integer values
</p></td></tr><tr><td class="src"><a name="v:OptComplFloat" class="def">OptComplFloat</a></td><td class="doc"><p>Float values
</p></td></tr><tr><td class="src"><a name="v:OptComplJobId" class="def">OptComplJobId</a></td><td class="doc"><p>Job Id
</p></td></tr><tr><td class="src"><a name="v:OptComplCommand" class="def">OptComplCommand</a></td><td class="doc"><p>Command (executable)
</p></td></tr><tr><td class="src"><a name="v:OptComplString" class="def">OptComplString</a></td><td class="doc"><p>Arbitrary string
</p></td></tr><tr><td class="src"><a name="v:OptComplChoices" class="def">OptComplChoices</a> [String]</td><td class="doc"><p>List of string choices
</p></td></tr><tr><td class="src"><a name="v:OptComplSuggest" class="def">OptComplSuggest</a> [String]</td><td class="doc"><p>Suggested choices
</p></td></tr></table></div><div class="subs instances"><p id="control.i:OptCompletion" class="caption collapser" onclick="toggleSection('i:OptCompletion')">Instances</p><div id="section.i:OptCompletion" class="show"><table><tr><td class="src">Eq <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:ArgCompletion" class="def">ArgCompletion</a>  <a href="Ganeti/Common.html#ArgCompletion" class="link">Source</a></p><div class="doc"><p>Argument type. This differs from (and wraps) an Option by the
 fact that it can (and usually does) support multiple repetitions of
 the same argument, via a min and max limit.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ArgCompletion" class="def">ArgCompletion</a> <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a> Int (Maybe Int)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ArgCompletion" class="caption collapser" onclick="toggleSection('i:ArgCompletion')">Instances</p><div id="section.i:ArgCompletion" class="show"><table><tr><td class="src">Eq <a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Personality" class="def">Personality</a> a = (a -&gt; [String] -&gt; IO (), IO [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a], [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>], String)<a href="Ganeti/Common.html#Personality" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:PersonalityList" class="def">PersonalityList</a> a = [(String, <a href="Ganeti-Common.html#t:Personality">Personality</a> a)]<a href="Ganeti/Common.html#PersonalityList" class="link">Source</a></p><div class="doc"><p>Personality lists type, common across all binaries that expose
 multiple personalities.
</p></div></div><div class="top"><p class="src"><a name="v:optComplYesNo" class="def">optComplYesNo</a> :: <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a><a href="Ganeti/Common.html#optComplYesNo" class="link">Source</a></p><div class="doc"><p>Yes/no choices completion.
</p></div></div><div class="top"><p class="src"><a name="v:complToText" class="def">complToText</a> :: <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a> -&gt; String<a href="Ganeti/Common.html#complToText" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:argComplToText" class="def">argComplToText</a> :: <a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a> -&gt; String<a href="Ganeti/Common.html#argComplToText" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:GenericOptType" class="def">GenericOptType</a> a = (OptDescr (a -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> a), <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a>)<a href="Ganeti/Common.html#GenericOptType" class="link">Source</a></p><div class="doc"><p>Abrreviation for the option type.
</p></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:StandardOptions" class="def">StandardOptions</a> a  <span class="keyword">where</span><a href="Ganeti/Common.html#StandardOptions" class="link">Source</a></p><div class="doc"><p>Type class for options which support help and version.
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:helpRequested" class="def">helpRequested</a> :: a -&gt; Bool<a href="Ganeti/Common.html#helpRequested" class="link">Source</a></p><p class="src"><a name="v:verRequested" class="def">verRequested</a> :: a -&gt; Bool<a href="Ganeti/Common.html#verRequested" class="link">Source</a></p><p class="src"><a name="v:compRequested" class="def">compRequested</a> :: a -&gt; Bool<a href="Ganeti/Common.html#compRequested" class="link">Source</a></p><p class="src"><a name="v:requestHelp" class="def">requestHelp</a> :: a -&gt; a<a href="Ganeti/Common.html#requestHelp" class="link">Source</a></p><p class="src"><a name="v:requestVer" class="def">requestVer</a> :: a -&gt; a<a href="Ganeti/Common.html#requestVer" class="link">Source</a></p><p class="src"><a name="v:requestComp" class="def">requestComp</a> :: a -&gt; a<a href="Ganeti/Common.html#requestComp" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:StandardOptions" class="caption collapser" onclick="toggleSection('i:StandardOptions')">Instances</p><div id="section.i:StandardOptions" class="show"><table><tr><td class="src"><a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> <a href="Ganeti-DataCollectors-CLI.html#t:Options">Options</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> <a href="Ganeti-Daemon.html#t:DaemonOptions">DaemonOptions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> <a href="Ganeti-HTools-CLI.html#t:Options">Options</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:oShowHelp" class="def">oShowHelp</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a<a href="Ganeti/Common.html#oShowHelp" class="link">Source</a></p><div class="doc"><p>Option to request help output.
</p></div></div><div class="top"><p class="src"><a name="v:oShowVer" class="def">oShowVer</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a<a href="Ganeti/Common.html#oShowVer" class="link">Source</a></p><div class="doc"><p>Option to request version information.
</p></div></div><div class="top"><p class="src"><a name="v:oShowComp" class="def">oShowComp</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a<a href="Ganeti/Common.html#oShowComp" class="link">Source</a></p><div class="doc"><p>Option to request completion information
</p></div></div><div class="top"><p class="src"><a name="v:usageHelp" class="def">usageHelp</a> ::  String -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; String<a href="Ganeti/Common.html#usageHelp" class="link">Source</a></p><div class="doc"><p>Usage info.
</p></div></div><div class="top"><p class="src"><a name="v:versionInfo" class="def">versionInfo</a> :: String -&gt; String<a href="Ganeti/Common.html#versionInfo" class="link">Source</a></p><div class="doc"><p>Show the program version info.
</p></div></div><div class="top"><p class="src"><a name="v:completionInfo" class="def">completionInfo</a> ::  String -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>] -&gt; String<a href="Ganeti/Common.html#completionInfo" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:parseYesNo" class="def">parseYesNo</a><a href="Ganeti/Common.html#parseYesNo" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Bool</td><td class="doc"><p>Default value (when we get a <code>Nothing</code>)
</p></td></tr><tr><td class="src">-&gt; Maybe String</td><td class="doc"><p>Parameter value
</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> Bool</td><td class="doc"><p>Resulting boolean value
</p></td></tr></table></div><div class="doc"><p>Helper for parsing a yes/no command line flag.
</p></div></div><div class="top"><p class="src"><a name="v:reqWithConversion" class="def">reqWithConversion</a> ::  (String -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> a) -&gt; (a -&gt; b -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> b) -&gt; String -&gt; ArgDescr (b -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> b)<a href="Ganeti/Common.html#reqWithConversion" class="link">Source</a></p><div class="doc"><p>Helper function for required arguments which need to be converted
 as opposed to stored just as string.
</p></div></div><div class="top"><p class="src"><a name="v:maxCmdLen" class="def">maxCmdLen</a> :: Int<a href="Ganeti/Common.html#maxCmdLen" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:formatCommands" class="def">formatCommands</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; [String]<a href="Ganeti/Common.html#formatCommands" class="link">Source</a></p><div class="doc"><p>Formats the description of various commands.
</p></div></div><div class="top"><p class="src"><a name="v:formatCmdUsage" class="def">formatCmdUsage</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; String -&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; String<a href="Ganeti/Common.html#formatCmdUsage" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:showCmdUsage" class="def">showCmdUsage</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; String -&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; Bool -&gt; IO b<a href="Ganeti/Common.html#showCmdUsage" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:multiCmdCompletion" class="def">multiCmdCompletion</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; String<a href="Ganeti/Common.html#multiCmdCompletion" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:showCmdCompletion" class="def">showCmdCompletion</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; IO b<a href="Ganeti/Common.html#showCmdCompletion" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:parseOpts" class="def">parseOpts</a><a href="Ganeti/Common.html#parseOpts" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>The default options
</p></td></tr><tr><td class="src">-&gt; [String]</td><td class="doc"><p>The command line arguments
</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>The program name
</p></td></tr><tr><td class="src">-&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a]</td><td class="doc"><p>The supported command line options
</p></td></tr><tr><td class="src">-&gt; [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>]</td><td class="doc"><p>The supported command line arguments
</p></td></tr><tr><td class="src">-&gt; IO (a, [String])</td><td class="doc"><p>The resulting options and
 leftover arguments
</p></td></tr></table></div><div class="doc"><p>Command line parser, using a generic <code>Options</code> structure.
</p></div></div><div class="top"><p class="src"><a name="v:parseOptsCmds" class="def">parseOptsCmds</a><a href="Ganeti/Common.html#parseOptsCmds" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>The default options
</p></td></tr><tr><td class="src">-&gt; [String]</td><td class="doc"><p>The command line arguments
</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>The program name
</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a</td><td class="doc"><p>The supported commands
</p></td></tr><tr><td class="src">-&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a]</td><td class="doc"><p>Generic options
</p></td></tr><tr><td class="src">-&gt; IO (a, [String], a -&gt; [String] -&gt; IO ())</td><td class="doc"><p>The resulting options and leftover arguments
</p></td></tr></table></div><div class="doc"><p>Command line parser, for programs with sub-commands.
</p></div></div><div class="top"><p class="src"><a name="v:parseOptsInner" class="def">parseOptsInner</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; a -&gt; [String] -&gt; String -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>] -&gt; Either (ExitCode, String) (a, [String])<a href="Ganeti/Common.html#parseOptsInner" class="link">Source</a></p><div class="doc"><p>Inner parse options. The arguments are similar to <code><a href="Ganeti-Common.html#v:parseOpts">parseOpts</a></code>,
 but it returns either a <code>Left</code> composed of exit code and message,
 or a <code>Right</code> for the success case.
</p></div></div><div class="top"><p class="src"><a name="v:genericMainCmds" class="def">genericMainCmds</a> :: <a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> a =&gt; a -&gt; <a href="Ganeti-Common.html#t:PersonalityList">PersonalityList</a> a -&gt; [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> a] -&gt; IO ()<a href="Ganeti/Common.html#genericMainCmds" class="link">Source</a></p><div class="doc"><p>Parse command line options and execute the main function of a
 multi-personality binary.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>