<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.HTools.Backend.MonD</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ganeti-HTools-Backend-MonD.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/HTools/Backend/MonD.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Ganeti.HTools.Backend.MonD</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">General definitions
</a></li><li><a href="#g:2">Node-total CPU load average data collector
</a></li><li><a href="#g:3">Xen instance CPU-usage collector
</a></li><li><a href="#g:4">kvm instance RSS collector
</a></li><li><a href="#g:5">Collector choice
</a></li><li><a href="#g:6">Querying infrastructure
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Monitoring daemon backend
</p><p>This module holds implements the querying of the monitoring daemons
for dynamic utilisation data.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Report">Report</a> <ul class="subs"><li>= <a href="#v:CPUavgloadReport">CPUavgloadReport</a> <a href="Ganeti-Cpu-Types.html#t:CPUavgload">CPUavgload</a>  </li><li>| <a href="#v:InstanceCpuReport">InstanceCpuReport</a> (Map String Double)  </li><li>| <a href="#v:InstanceRSSReport">InstanceRSSReport</a> (Map String Double)  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:DataCollector">DataCollector</a>  = <a href="#v:DataCollector">DataCollector</a> {<ul class="subs"><li><a href="#v:dName">dName</a> :: String</li><li><a href="#v:dCategory">dCategory</a> :: Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCCategory">DCCategory</a></li><li><a href="#v:dMkReport">dMkReport</a> :: <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a></li><li><a href="#v:dUse">dUse</a> :: [(<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)] -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)</li></ul>}</li><li class="src short"><a href="#v:mkCpuReport">mkCpuReport</a> :: <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a></li><li class="src short"><a href="#v:updateNodeCpuFromReport">updateNodeCpuFromReport</a> :: (<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>) -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a></li><li class="src short"><a href="#v:updateCpuUtilDataFromNode">updateCpuUtilDataFromNode</a> :: <a href="Ganeti-HTools-Instance.html#t:List">List</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:List">List</a></li><li class="src short"><a href="#v:useNodeTotalCPU">useNodeTotalCPU</a> :: [(<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)] -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)</li><li class="src short"><a href="#v:totalCPUCollector">totalCPUCollector</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a></li><li class="src short"><a href="#v:mkXenCpuReport">mkXenCpuReport</a> :: <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a></li><li class="src short"><a href="#v:useInstanceCpuData">useInstanceCpuData</a> :: [(<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)] -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)</li><li class="src short"><a href="#v:xenCPUCollector">xenCPUCollector</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a></li><li class="src short"><a href="#v:mkKvmRSSReport">mkKvmRSSReport</a> :: <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a></li><li class="src short"><a href="#v:pagesPerMiB">pagesPerMiB</a> :: Double</li><li class="src short"><a href="#v:useInstanceRSSData">useInstanceRSSData</a> :: [(<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)] -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)</li><li class="src short"><a href="#v:kvmRSSCollector">kvmRSSCollector</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a></li><li class="src short"><a href="#v:scaleMemoryWeight">scaleMemoryWeight</a> :: Double -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)</li><li class="src short"><a href="#v:collectors">collectors</a> :: <a href="Ganeti-HTools-CLI.html#t:Options">Options</a> -&gt; [<a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a>]</li><li class="src short"><a href="#v:mkReport">mkReport</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:MonDData">MonDData</a> = (String, [<a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a>])</li><li class="src short"><span class="keyword">type</span> <a href="#t:MapMonDData">MapMonDData</a> = Map String [<a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a>]</li><li class="src short"><a href="#v:fromFile">fromFile</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; <a href="Ganeti-HTools-Backend-MonD.html#t:MapMonDData">MapMonDData</a> -&gt; Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a></li><li class="src short"><a href="#v:getDCCName">getDCCName</a> :: Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCCategory">DCCategory</a> -&gt; String</li><li class="src short"><a href="#v:prepareUrl">prepareUrl</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; URLString</li><li class="src short"><a href="#v:fromCurl">fromCurl</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; IO (Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a>)</li><li class="src short"><a href="#v:pMonDN">pMonDN</a> :: <a href="Ganeti-JSON.html#t:JSRecord">JSRecord</a> -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> <a href="Ganeti-HTools-Backend-MonD.html#t:MonDData">MonDData</a></li><li class="src short"><a href="#v:pMonDData">pMonDData</a> :: String -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> [<a href="Ganeti-HTools-Backend-MonD.html#t:MonDData">MonDData</a>]</li><li class="src short"><a href="#v:queryAMonD">queryAMonD</a> :: Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:MapMonDData">MapMonDData</a> -&gt; <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; IO (Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)</li><li class="src short"><a href="#v:queryAllMonDs">queryAllMonDs</a> :: Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:MapMonDData">MapMonDData</a> -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; WriterT All IO (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)</li><li class="src short"><a href="#v:queryAllMonDDCs">queryAllMonDDCs</a> :: <a href="Ganeti-HTools-Loader.html#t:ClusterData">ClusterData</a> -&gt; <a href="Ganeti-HTools-CLI.html#t:Options">Options</a> -&gt; WriterT All IO <a href="Ganeti-HTools-Loader.html#t:ClusterData">ClusterData</a></li></ul></div><div id="interface"><h1 id="g:1">General definitions
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Report" class="def">Report</a>  <a href="Ganeti/HTools/Backend/MonD.html#Report" class="link">Source</a></p><div class="doc"><p>The actual data types for MonD's Data Collectors.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CPUavgloadReport" class="def">CPUavgloadReport</a> <a href="Ganeti-Cpu-Types.html#t:CPUavgload">CPUavgload</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:InstanceCpuReport" class="def">InstanceCpuReport</a> (Map String Double)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:InstanceRSSReport" class="def">InstanceRSSReport</a> (Map String Double)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DataCollector" class="def">DataCollector</a>  <a href="Ganeti/HTools/Backend/MonD.html#DataCollector" class="link">Source</a></p><div class="doc"><p>Type describing a data collector basic information.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DataCollector" class="def">DataCollector</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:dName" class="def">dName</a> :: String</dt><dd class="doc"><p>Name of the data collector
</p></dd><dt class="src"><a name="v:dCategory" class="def">dCategory</a> :: Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCCategory">DCCategory</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:dMkReport" class="def">dMkReport</a> :: <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:dUse" class="def">dUse</a> :: [(<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)] -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><h1 id="g:2">Node-total CPU load average data collector
</h1><div class="top"><p class="src"><a name="v:mkCpuReport" class="def">mkCpuReport</a> :: <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a><a href="Ganeti/HTools/Backend/MonD.html#mkCpuReport" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:updateNodeCpuFromReport" class="def">updateNodeCpuFromReport</a> :: (<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>) -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a><a href="Ganeti/HTools/Backend/MonD.html#updateNodeCpuFromReport" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:updateCpuUtilDataFromNode" class="def">updateCpuUtilDataFromNode</a> :: <a href="Ganeti-HTools-Instance.html#t:List">List</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:List">List</a><a href="Ganeti/HTools/Backend/MonD.html#updateCpuUtilDataFromNode" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:useNodeTotalCPU" class="def">useNodeTotalCPU</a> :: [(<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)] -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)<a href="Ganeti/HTools/Backend/MonD.html#useNodeTotalCPU" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:totalCPUCollector" class="def">totalCPUCollector</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a><a href="Ganeti/HTools/Backend/MonD.html#totalCPUCollector" class="link">Source</a></p><div class="doc"><p>The node-total CPU collector.
</p></div></div><h1 id="g:3">Xen instance CPU-usage collector
</h1><div class="top"><p class="src"><a name="v:mkXenCpuReport" class="def">mkXenCpuReport</a> :: <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a><a href="Ganeti/HTools/Backend/MonD.html#mkXenCpuReport" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:useInstanceCpuData" class="def">useInstanceCpuData</a> :: [(<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)] -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)<a href="Ganeti/HTools/Backend/MonD.html#useInstanceCpuData" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:xenCPUCollector" class="def">xenCPUCollector</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a><a href="Ganeti/HTools/Backend/MonD.html#xenCPUCollector" class="link">Source</a></p><div class="doc"><p>Collector for per-instance CPU data as observed by Xen
</p></div></div><h1 id="g:4">kvm instance RSS collector
</h1><div class="top"><p class="src"><a name="v:mkKvmRSSReport" class="def">mkKvmRSSReport</a> :: <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a><a href="Ganeti/HTools/Backend/MonD.html#mkKvmRSSReport" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:pagesPerMiB" class="def">pagesPerMiB</a> :: Double<a href="Ganeti/HTools/Backend/MonD.html#pagesPerMiB" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:useInstanceRSSData" class="def">useInstanceRSSData</a> :: [(<a href="Ganeti-HTools-Node.html#t:Node">Node</a>, <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)] -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)<a href="Ganeti/HTools/Backend/MonD.html#useInstanceRSSData" class="link">Source</a></p><div class="doc"><p>Update cluster data based on per-instance RSS data.
 Also set the node's memoy util pool correctly. Our unit
 of memory usage is pages; there are 256 pages per MiB
 of node memory not used by the node itself.
</p></div></div><div class="top"><p class="src"><a name="v:kvmRSSCollector" class="def">kvmRSSCollector</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a><a href="Ganeti/HTools/Backend/MonD.html#kvmRSSCollector" class="link">Source</a></p><div class="doc"><p>Update cluster data based on the per-instance CPU usage
</p></div></div><div class="top"><p class="src"><a name="v:scaleMemoryWeight" class="def">scaleMemoryWeight</a> :: Double -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)<a href="Ganeti/HTools/Backend/MonD.html#scaleMemoryWeight" class="link">Source</a></p><div class="doc"><p>Scale the importance of the memory weight in dynamic utilisation,
 by multiplying the usage with the given factor. Note that the underlying
 model for dynamic utilisation is that they are reported in arbitrary units.
</p></div></div><h1 id="g:5">Collector choice
</h1><div class="top"><p class="src"><a name="v:collectors" class="def">collectors</a> :: <a href="Ganeti-HTools-CLI.html#t:Options">Options</a> -&gt; [<a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a>]<a href="Ganeti/HTools/Backend/MonD.html#collectors" class="link">Source</a></p></div><h1 id="g:6">Querying infrastructure
</h1><div class="top"><p class="src"><a name="v:mkReport" class="def">mkReport</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a> -&gt; Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a><a href="Ganeti/HTools/Backend/MonD.html#mkReport" class="link">Source</a></p><div class="doc"><p>Return the data from correct combination of a Data Collector
 and a DCReport.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MonDData" class="def">MonDData</a> = (String, [<a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a>])<a href="Ganeti/HTools/Backend/MonD.html#MonDData" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MapMonDData" class="def">MapMonDData</a> = Map String [<a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a>]<a href="Ganeti/HTools/Backend/MonD.html#MapMonDData" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:fromFile" class="def">fromFile</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; <a href="Ganeti-HTools-Backend-MonD.html#t:MapMonDData">MapMonDData</a> -&gt; Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a><a href="Ganeti/HTools/Backend/MonD.html#fromFile" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:getDCCName" class="def">getDCCName</a> :: Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCCategory">DCCategory</a> -&gt; String<a href="Ganeti/HTools/Backend/MonD.html#getDCCName" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:prepareUrl" class="def">prepareUrl</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; URLString<a href="Ganeti/HTools/Backend/MonD.html#prepareUrl" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:fromCurl" class="def">fromCurl</a> :: <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; IO (Maybe <a href="Ganeti-DataCollectors-Types.html#t:DCReport">DCReport</a>)<a href="Ganeti/HTools/Backend/MonD.html#fromCurl" class="link">Source</a></p><div class="doc"><p>Query a specified MonD for a Data Collector.
</p></div></div><div class="top"><p class="src"><a name="v:pMonDN" class="def">pMonDN</a> :: <a href="Ganeti-JSON.html#t:JSRecord">JSRecord</a> -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> <a href="Ganeti-HTools-Backend-MonD.html#t:MonDData">MonDData</a><a href="Ganeti/HTools/Backend/MonD.html#pMonDN" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:pMonDData" class="def">pMonDData</a> :: String -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> [<a href="Ganeti-HTools-Backend-MonD.html#t:MonDData">MonDData</a>]<a href="Ganeti/HTools/Backend/MonD.html#pMonDData" class="link">Source</a></p><div class="doc"><p>Parse MonD data file contents.
</p></div></div><div class="top"><p class="src"><a name="v:queryAMonD" class="def">queryAMonD</a> :: Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:MapMonDData">MapMonDData</a> -&gt; <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; IO (Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:Report">Report</a>)<a href="Ganeti/HTools/Backend/MonD.html#queryAMonD" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:queryAllMonDs" class="def">queryAllMonDs</a> :: Maybe <a href="Ganeti-HTools-Backend-MonD.html#t:MapMonDData">MapMonDData</a> -&gt; (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>) -&gt; <a href="Ganeti-HTools-Backend-MonD.html#t:DataCollector">DataCollector</a> -&gt; WriterT All IO (<a href="Ganeti-HTools-Node.html#t:List">List</a>, <a href="Ganeti-HTools-Instance.html#t:List">List</a>)<a href="Ganeti/HTools/Backend/MonD.html#queryAllMonDs" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:queryAllMonDDCs" class="def">queryAllMonDDCs</a> :: <a href="Ganeti-HTools-Loader.html#t:ClusterData">ClusterData</a> -&gt; <a href="Ganeti-HTools-CLI.html#t:Options">Options</a> -&gt; WriterT All IO <a href="Ganeti-HTools-Loader.html#t:ClusterData">ClusterData</a><a href="Ganeti/HTools/Backend/MonD.html#queryAllMonDDCs" class="link">Source</a></p><div class="doc"><p>Query all MonDs for all Data Collector. Return the cluster enriched
 by dynamic data, as well as a bit indicating wether all collectors
 could be queried successfully.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>