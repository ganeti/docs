<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.WConfd.ConfigModifications</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ganeti-WConfd-ConfigModifications.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/WConfd/ConfigModifications.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Ganeti.WConfd.ConfigModifications</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">accessor functions
</a></li><li><a href="#g:2">getters
</a></li><li><a href="#g:3">UUID config checks
</a></li><li><a href="#g:4">RPC checks
</a></li><li><a href="#g:5">Pure config modifications functions
</a></li><li><a href="#g:6">Monadic config modification functions which can return errors
</a></li><li><a href="#g:7">RPCs
</a></li><li><a href="#g:8">The list of functions exported to RPC.
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The WConfd functions for direct configuration manipulation
</p><p>This module contains the client functions exported by WConfD for
specific configuration manipulation.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:DiskUUID">DiskUUID</a> = String</li><li class="src short"><span class="keyword">type</span> <a href="#t:InstanceUUID">InstanceUUID</a> = String</li><li class="src short"><span class="keyword">type</span> <a href="#t:NodeUUID">NodeUUID</a> = String</li><li class="src short"><a href="#v:getInstanceByUUID">getInstanceByUUID</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a></li><li class="src short"><a href="#v:getAllLVs">getAllLVs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; Set String</li><li class="src short"><a href="#v:getAllIDs">getAllIDs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; Set String</li><li class="src short"><a href="#v:getAllMACs">getAllMACs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; Set String</li><li class="src short"><a href="#v:isIdentical">isIdentical</a> :: (Eq a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL">TimeStampObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; a -&gt; Bool</li><li class="src short"><a href="#v:checkSerial">checkSerial</a> :: <a href="Ganeti-Types.html#t:SerialNoObject">SerialNoObject</a> a =&gt; a -&gt; a -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> ()</li><li class="src short"><a href="#v:replaceIn">replaceIn</a> :: (<a href="Ganeti-Types.html#t:UuidObject">UuidObject</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL">TimeStampObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL">SerialNoObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; <a href="Ganeti-JSON.html#t:Container">Container</a> a -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> (<a href="Ganeti-JSON.html#t:Container">Container</a> a)</li><li class="src short"><a href="#v:updateConfigIfNecessary">updateConfigIfNecessary</a> :: (Monad m, MonadError <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> m, Eq a, <a href="Ganeti-Types.html#t:UuidObject">UuidObject</a> a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL">TimeStampObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; (<a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-JSON.html#t:Container">Container</a> a) -&gt; (<a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; m ((Int, ClockTime), <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a>)) -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; m ((Int, ClockTime), <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a>)</li><li class="src short"><a href="#v:checkUUIDpresent">checkUUIDpresent</a> :: <a href="Ganeti-Types.html#t:UuidObject">UuidObject</a> a =&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; a -&gt; Bool</li><li class="src short"><a href="#v:checkUniqueUUID">checkUniqueUUID</a> :: <a href="Ganeti-Types.html#t:UuidObject">UuidObject</a> a =&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; a -&gt; Bool</li><li class="src short"><a href="#v:addInstanceChecks">addInstanceChecks</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> ()</li><li class="src short"><a href="#v:addDiskChecks">addDiskChecks</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> ()</li><li class="src short"><a href="#v:attachInstanceDiskChecks">attachInstanceDiskChecks</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> ()</li><li class="src short"><a href="#v:attachInstanceDisk-39-">attachInstanceDisk'</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a></li><li class="src short"><a href="#v:detachInstanceDisk-39-">detachInstanceDisk'</a> :: MonadError <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> m =&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; m <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a></li><li class="src short"><a href="#v:removeInstanceDisk-39-">removeInstanceDisk'</a> :: MonadError <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> m =&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; m <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a></li><li class="src short"><a href="#v:addInstance">addInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:addInstanceDisk">addInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:attachInstanceDisk">attachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:detachInstanceDisk">detachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:removeInstanceDisk">removeInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:removeInstance">removeInstance</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:allocatePort">allocatePort</a> :: <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int)</li><li class="src short"><a href="#v:addTcpUdpPort">addTcpUdpPort</a> :: Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:setInstanceStatus">setInstanceStatus</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminState">AdminState</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Bool -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminStateSource">AdminStateSource</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a>)</li><li class="src short"><a href="#v:setInstancePrimaryNode">setInstancePrimaryNode</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:NodeUUID">NodeUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:updateCluster">updateCluster</a> :: <a href="Ganeti-Objects.html#t:Cluster">Cluster</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateNode">updateNode</a> :: <a href="Ganeti-Objects.html#t:Node">Node</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateInstance">updateInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateNodeGroup">updateNodeGroup</a> :: <a href="Ganeti-Objects.html#t:NodeGroup">NodeGroup</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateNetwork">updateNetwork</a> :: <a href="Ganeti-Objects.html#t:Network">Network</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateDisk">updateDisk</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:changeAndBump">changeAndBump</a> :: (<a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL">TimeStampObjectL</a> a) =&gt; Simple Setter <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> a -&gt; (a -&gt; a) -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:changeAndBumpMaint">changeAndBumpMaint</a> :: (<a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a> -&gt; <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a>) -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:setMaintdRoundDelay">setMaintdRoundDelay</a> :: Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:clearMaintdJobs">clearMaintdJobs</a> :: <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:appendMaintdJobs">appendMaintdJobs</a> :: [<a href="Ganeti-Types.html#t:JobId">JobId</a>] -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:setMaintdBalance">setMaintdBalance</a> :: Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:setMaintdBalanceThreshold">setMaintdBalanceThreshold</a> :: Double -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:addMaintdEvacuated">addMaintdEvacuated</a> :: [String] -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:rmMaintdEvacuated">rmMaintdEvacuated</a> :: String -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:updateMaintdIncident">updateMaintdIncident</a> :: <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:rmMaintdIncident">rmMaintdIncident</a> :: String -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:exportedFunctions">exportedFunctions</a> :: [Name]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:DiskUUID" class="def">DiskUUID</a> = String<a href="Ganeti/WConfd/ConfigModifications.html#DiskUUID" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:InstanceUUID" class="def">InstanceUUID</a> = String<a href="Ganeti/WConfd/ConfigModifications.html#InstanceUUID" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:NodeUUID" class="def">NodeUUID</a> = String<a href="Ganeti/WConfd/ConfigModifications.html#NodeUUID" class="link">Source</a></p></div><h1 id="g:1">accessor functions
</h1><div class="top"><p class="src"><a name="v:getInstanceByUUID" class="def">getInstanceByUUID</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a><a href="Ganeti/WConfd/ConfigModifications.html#getInstanceByUUID" class="link">Source</a></p></div><h1 id="g:2">getters
</h1><div class="top"><p class="src"><a name="v:getAllLVs" class="def">getAllLVs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; Set String<a href="Ganeti/WConfd/ConfigModifications.html#getAllLVs" class="link">Source</a></p><div class="doc"><p>Gets all logical volumes in the cluster
</p></div></div><div class="top"><p class="src"><a name="v:getAllIDs" class="def">getAllIDs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; Set String<a href="Ganeti/WConfd/ConfigModifications.html#getAllIDs" class="link">Source</a></p><div class="doc"><p>Gets the ids of nodes, instances, node groups,
   networks, disks, nics, and the cluster itself.
</p></div></div><div class="top"><p class="src"><a name="v:getAllMACs" class="def">getAllMACs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; Set String<a href="Ganeti/WConfd/ConfigModifications.html#getAllMACs" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:isIdentical" class="def">isIdentical</a> :: (Eq a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL">TimeStampObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; a -&gt; Bool<a href="Ganeti/WConfd/ConfigModifications.html#isIdentical" class="link">Source</a></p><div class="doc"><p>Checks if the two objects are equal,
 excluding timestamps. The serial number of
 current must be one greater than that of target.
</p><p>If this is true, it implies that the update RPC
 updated the config, but did not successfully return.
</p></div></div><div class="top"><p class="src"><a name="v:checkSerial" class="def">checkSerial</a> :: <a href="Ganeti-Types.html#t:SerialNoObject">SerialNoObject</a> a =&gt; a -&gt; a -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> ()<a href="Ganeti/WConfd/ConfigModifications.html#checkSerial" class="link">Source</a></p><div class="doc"><p>Checks if the two objects given have the same serial number
</p></div></div><div class="top"><p class="src"><a name="v:replaceIn" class="def">replaceIn</a> :: (<a href="Ganeti-Types.html#t:UuidObject">UuidObject</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL">TimeStampObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL">SerialNoObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; <a href="Ganeti-JSON.html#t:Container">Container</a> a -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> (<a href="Ganeti-JSON.html#t:Container">Container</a> a)<a href="Ganeti/WConfd/ConfigModifications.html#replaceIn" class="link">Source</a></p><div class="doc"><p>Updates an object present in a container.
 The presence of the object in the container
 is determined by the uuid of the object.
</p><p>A check that serial number of the
 object is consistent with the serial number
 of the object in the container is performed.
</p><p>If the check passes, the object's serial number
 is incremented, and modification time is updated,
 and then is inserted into the container.
</p></div></div><div class="top"><p class="src"><a name="v:updateConfigIfNecessary" class="def">updateConfigIfNecessary</a> :: (Monad m, MonadError <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> m, Eq a, <a href="Ganeti-Types.html#t:UuidObject">UuidObject</a> a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL">TimeStampObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; (<a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-JSON.html#t:Container">Container</a> a) -&gt; (<a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; m ((Int, ClockTime), <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a>)) -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; m ((Int, ClockTime), <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a>)<a href="Ganeti/WConfd/ConfigModifications.html#updateConfigIfNecessary" class="link">Source</a></p><div class="doc"><p>Utility fuction that combines the two
 possible actions that could be taken when
 given a target.
</p><p>If the target is identical to the current
 value, we return the modification time of
 the current value, and not change the config.
</p><p>If not, we update the config.
</p></div></div><h1 id="g:3">UUID config checks
</h1><div class="top"><p class="src"><a name="v:checkUUIDpresent" class="def">checkUUIDpresent</a> :: <a href="Ganeti-Types.html#t:UuidObject">UuidObject</a> a =&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; a -&gt; Bool<a href="Ganeti/WConfd/ConfigModifications.html#checkUUIDpresent" class="link">Source</a></p><div class="doc"><p>Checks if the config has the given UUID
</p></div></div><div class="top"><p class="src"><a name="v:checkUniqueUUID" class="def">checkUniqueUUID</a> :: <a href="Ganeti-Types.html#t:UuidObject">UuidObject</a> a =&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; a -&gt; Bool<a href="Ganeti/WConfd/ConfigModifications.html#checkUniqueUUID" class="link">Source</a></p><div class="doc"><p>Checks if the given UUID is new (i.e., no in the config)
</p></div></div><h1 id="g:4">RPC checks
</h1><div class="top"><p class="src"><a name="v:addInstanceChecks" class="def">addInstanceChecks</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> ()<a href="Ganeti/WConfd/ConfigModifications.html#addInstanceChecks" class="link">Source</a></p><div class="doc"><p>Verifications done before adding an instance.
 Currently confirms that the instance's macs are not
 in use, and that the instance's UUID being
 present (or not present) in the config based on
 weather the instance is being replaced (or not).
</p><p>TODO: add more verifications to this call;
 the client should have a lock on the name of the instance.
</p></div></div><div class="top"><p class="src"><a name="v:addDiskChecks" class="def">addDiskChecks</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> ()<a href="Ganeti/WConfd/ConfigModifications.html#addDiskChecks" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:attachInstanceDiskChecks" class="def">attachInstanceDiskChecks</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> ()<a href="Ganeti/WConfd/ConfigModifications.html#attachInstanceDiskChecks" class="link">Source</a></p></div><h1 id="g:5">Pure config modifications functions
</h1><div class="top"><p class="src"><a name="v:attachInstanceDisk-39-" class="def">attachInstanceDisk'</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a><a href="Ganeti/WConfd/ConfigModifications.html#attachInstanceDisk%27" class="link">Source</a></p></div><h1 id="g:6">Monadic config modification functions which can return errors
</h1><div class="top"><p class="src"><a name="v:detachInstanceDisk-39-" class="def">detachInstanceDisk'</a> :: MonadError <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> m =&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; m <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a><a href="Ganeti/WConfd/ConfigModifications.html#detachInstanceDisk%27" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:removeInstanceDisk-39-" class="def">removeInstanceDisk'</a> :: MonadError <a href="Ganeti-Errors.html#t:GanetiException">GanetiException</a> m =&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> -&gt; m <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a><a href="Ganeti/WConfd/ConfigModifications.html#removeInstanceDisk%27" class="link">Source</a></p></div><h1 id="g:7">RPCs
</h1><div class="top"><p class="src"><a name="v:addInstance" class="def">addInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:ClientId">ClientId</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#addInstance" class="link">Source</a></p><div class="doc"><p>Add a new instance to the configuration, release DRBD minors,
 and commit temporary IPs, all while temporarily holding the config
 lock. Return True upon success and False if the config lock was not
 available and the client should retry.
</p></div></div><div class="top"><p class="src"><a name="v:addInstanceDisk" class="def">addInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#addInstanceDisk" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:attachInstanceDisk" class="def">attachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#attachInstanceDisk" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:detachInstanceDisk" class="def">detachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#detachInstanceDisk" class="link">Source</a></p><div class="doc"><p>Detach a disk from an instance.
</p></div></div><div class="top"><p class="src"><a name="v:removeInstanceDisk" class="def">removeInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID">DiskUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#removeInstanceDisk" class="link">Source</a></p><div class="doc"><p>Detach a disk from an instance and
 remove it from the config.
</p></div></div><div class="top"><p class="src"><a name="v:removeInstance" class="def">removeInstance</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#removeInstance" class="link">Source</a></p><div class="doc"><p>Remove the instance from the configuration.
</p></div></div><div class="top"><p class="src"><a name="v:allocatePort" class="def">allocatePort</a> :: <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Int)<a href="Ganeti/WConfd/ConfigModifications.html#allocatePort" class="link">Source</a></p><div class="doc"><p>Allocate a port.
 The port will be taken from the available port pool or from the
 default port range (and in this case we increase
 highest_used_port).
</p></div></div><div class="top"><p class="src"><a name="v:addTcpUdpPort" class="def">addTcpUdpPort</a> :: Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#addTcpUdpPort" class="link">Source</a></p><div class="doc"><p>Adds a new port to the available port pool.
</p></div></div><div class="top"><p class="src"><a name="v:setInstanceStatus" class="def">setInstanceStatus</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminState">AdminState</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> Bool -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminStateSource">AdminStateSource</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a>)<a href="Ganeti/WConfd/ConfigModifications.html#setInstanceStatus" class="link">Source</a></p><div class="doc"><p>Set the instances' status to a given value.
</p></div></div><div class="top"><p class="src"><a name="v:setInstancePrimaryNode" class="def">setInstancePrimaryNode</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:NodeUUID">NodeUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#setInstancePrimaryNode" class="link">Source</a></p><div class="doc"><p>Sets the primary node of an existing instance
</p></div></div><div class="top"><p class="src"><a name="v:updateCluster" class="def">updateCluster</a> :: <a href="Ganeti-Objects.html#t:Cluster">Cluster</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/ConfigModifications.html#updateCluster" class="link">Source</a></p><div class="doc"><p>The configuration is updated by the provided cluster
</p></div></div><div class="top"><p class="src"><a name="v:updateNode" class="def">updateNode</a> :: <a href="Ganeti-Objects.html#t:Node">Node</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/ConfigModifications.html#updateNode" class="link">Source</a></p><div class="doc"><p>The configuration is updated by the provided node
</p></div></div><div class="top"><p class="src"><a name="v:updateInstance" class="def">updateInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance">Instance</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/ConfigModifications.html#updateInstance" class="link">Source</a></p><div class="doc"><p>The configuration is updated by the provided instance
</p></div></div><div class="top"><p class="src"><a name="v:updateNodeGroup" class="def">updateNodeGroup</a> :: <a href="Ganeti-Objects.html#t:NodeGroup">NodeGroup</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/ConfigModifications.html#updateNodeGroup" class="link">Source</a></p><div class="doc"><p>The configuration is updated by the provided nodegroup
</p></div></div><div class="top"><p class="src"><a name="v:updateNetwork" class="def">updateNetwork</a> :: <a href="Ganeti-Objects.html#t:Network">Network</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/ConfigModifications.html#updateNetwork" class="link">Source</a></p><div class="doc"><p>The configuration is updated by the provided network
</p></div></div><div class="top"><p class="src"><a name="v:updateDisk" class="def">updateDisk</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk">Disk</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON">TimeAsDoubleJSON</a>))<a href="Ganeti/WConfd/ConfigModifications.html#updateDisk" class="link">Source</a></p><div class="doc"><p>The configuration is updated by the provided disk
</p></div></div><div class="top"><p class="src"><a name="v:changeAndBump" class="def">changeAndBump</a> :: (<a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL">TimeStampObjectL</a> a) =&gt; Simple Setter <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState">ConfigState</a> a -&gt; (a -&gt; a) -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#changeAndBump" class="link">Source</a></p><div class="doc"><p>Set a particular value and bump serial in the hosting
 structure. Arguments are a setter to focus on the part
 of the configuration that gets serial-bumped, and a modification
 of that part. The function will do the change and bump the serial
 in the WConfdMonad temporarily acquiring the configuration lock.
 Return True if that succeeded and False if the configuration lock
 was not available; no change is done in the latter case.
</p></div></div><div class="top"><p class="src"><a name="v:changeAndBumpMaint" class="def">changeAndBumpMaint</a> :: (<a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a> -&gt; <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a>) -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#changeAndBumpMaint" class="link">Source</a></p><div class="doc"><p>Change and bump part of the maintenance part of the configuration.
</p></div></div><div class="top"><p class="src"><a name="v:setMaintdRoundDelay" class="def">setMaintdRoundDelay</a> :: Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#setMaintdRoundDelay" class="link">Source</a></p><div class="doc"><p>Set the maintenance intervall.
</p></div></div><div class="top"><p class="src"><a name="v:clearMaintdJobs" class="def">clearMaintdJobs</a> :: <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#clearMaintdJobs" class="link">Source</a></p><div class="doc"><p>Clear the list of current maintenance jobs.
</p></div></div><div class="top"><p class="src"><a name="v:appendMaintdJobs" class="def">appendMaintdJobs</a> :: [<a href="Ganeti-Types.html#t:JobId">JobId</a>] -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#appendMaintdJobs" class="link">Source</a></p><div class="doc"><p>Append new jobs to the list of current maintenace jobs, if
 not alread present.
</p></div></div><div class="top"><p class="src"><a name="v:setMaintdBalance" class="def">setMaintdBalance</a> :: Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#setMaintdBalance" class="link">Source</a></p><div class="doc"><p>Set the autobalance flag.
</p></div></div><div class="top"><p class="src"><a name="v:setMaintdBalanceThreshold" class="def">setMaintdBalanceThreshold</a> :: Double -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#setMaintdBalanceThreshold" class="link">Source</a></p><div class="doc"><p>Set the auto-balance threshold.
</p></div></div><div class="top"><p class="src"><a name="v:addMaintdEvacuated" class="def">addMaintdEvacuated</a> :: [String] -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#addMaintdEvacuated" class="link">Source</a></p><div class="doc"><p>Add a name to the list of recently evacuated instances.
</p></div></div><div class="top"><p class="src"><a name="v:rmMaintdEvacuated" class="def">rmMaintdEvacuated</a> :: String -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#rmMaintdEvacuated" class="link">Source</a></p><div class="doc"><p>Remove a name from the list of recently evacuated instances.
</p></div></div><div class="top"><p class="src"><a name="v:updateMaintdIncident" class="def">updateMaintdIncident</a> :: <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#updateMaintdIncident" class="link">Source</a></p><div class="doc"><p>Update an incident to the list of known incidents; if the incident,
 as identified by the UUID, is not present, it is added.
</p></div></div><div class="top"><p class="src"><a name="v:rmMaintdIncident" class="def">rmMaintdIncident</a> :: String -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad">WConfdMonad</a> Bool<a href="Ganeti/WConfd/ConfigModifications.html#rmMaintdIncident" class="link">Source</a></p><div class="doc"><p>Remove an incident from the list of known incidents.
</p></div></div><h1 id="g:8">The list of functions exported to RPC.
</h1><div class="top"><p class="src"><a name="v:exportedFunctions" class="def">exportedFunctions</a> :: [Name]<a href="Ganeti/WConfd/ConfigModifications.html#exportedFunctions" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>