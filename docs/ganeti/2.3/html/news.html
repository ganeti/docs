<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>News &mdash; Ganeti v2.3.1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.3.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ganeti v2.3.1 documentation" href="index.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="Developer notes" href="devnotes.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="glossary.html" title="Glossary"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="devnotes.html" title="Developer notes"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Ganeti v2.3.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="news">
<h1>News<a class="headerlink" href="#news" title="Permalink to this headline">¶</a></h1>
<div class="section" id="version-2-3-1">
<h2>Version 2.3.1<a class="headerlink" href="#version-2-3-1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Mon, 20 Dec 2010)</em></p>
<p>Released version 2.3.1~rc1 without any changes.</p>
</div>
<div class="section" id="version-2-3-1-rc1">
<h2>Version 2.3.1 rc1<a class="headerlink" href="#version-2-3-1-rc1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 1 Dec 2010)</em></p>
<ul class="simple">
<li>impexpd: Disable OpenSSL compression in socat if possible (backport
from master, commit e90739d625b, see <a class="reference external" href="install-quick.html"><em>installation guide</em></a> for details)</li>
<li>Changed unittest coverage report to exclude test scripts</li>
<li>Added script to check version format</li>
</ul>
</div>
<div class="section" id="version-2-3-0">
<h2>Version 2.3.0<a class="headerlink" href="#version-2-3-0" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 1 Dec 2010)</em></p>
<p>Released version 2.3.0~rc1 without any changes.</p>
</div>
<div class="section" id="version-2-3-0-rc1">
<h2>Version 2.3.0 rc1<a class="headerlink" href="#version-2-3-0-rc1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 19 Nov 2010)</em></p>
<p>A number of bugfixes and documentation updates:</p>
<ul class="simple">
<li>Update ganeti-os-interface documentation</li>
<li>Fixed a bug related to duplicate MACs or similar items which should be
unique</li>
<li>Fix breakage in OS state modify</li>
<li>Reinstall instance: disallow offline secondaries (fixes bug related to
OS changing but reinstall failing)</li>
<li>plus all the other fixes between 2.2.1 and 2.2.2</li>
</ul>
</div>
<div class="section" id="version-2-3-0-rc0">
<h2>Version 2.3.0 rc0<a class="headerlink" href="#version-2-3-0-rc0" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 2 Nov 2010)</em></p>
<ul class="simple">
<li>Fixed clearing of the default iallocator using <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">modify</span></tt></li>
<li>Fixed master failover race with watcher</li>
<li>Fixed a bug in <tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">modify</span></tt> which could lead to an inconsistent
configuration</li>
<li>Accept previously stopped instance for export with instance removal</li>
<li>Simplify and extend the environment variables for instance OS scripts</li>
<li>Added new node flags, <tt class="docutils literal"><span class="pre">master_capable</span></tt> and <tt class="docutils literal"><span class="pre">vm_capable</span></tt></li>
<li>Added optional instance disk wiping prior during allocation. This is a
cluster-wide option and can be set/modified using
<tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">{init,modify}</span> <span class="pre">--prealloc-wipe-disks</span></tt>.</li>
<li>Added IPv6 support, see <a class="reference external" href="design-2.3.html"><em>design document</em></a> and
<a class="reference external" href="install-quick.html"><em>Ganeti quick installation guide</em></a></li>
<li>Added a new watcher option (<tt class="docutils literal"><span class="pre">--ignore-pause</span></tt>)</li>
<li>Added option to ignore offline node on instance start/stop
(<tt class="docutils literal"><span class="pre">--ignore-offline</span></tt>)</li>
<li>Allow overriding OS parameters with <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">reinstall</span></tt></li>
<li>Added ability to change node&#8217;s secondary IP address using <tt class="docutils literal"><span class="pre">gnt-node</span>
<span class="pre">modify</span></tt></li>
<li>Implemented privilege separation for all daemons except
<tt class="docutils literal"><span class="pre">ganeti-noded</span></tt>, see <tt class="docutils literal"><span class="pre">configure</span></tt> options</li>
<li>Complain if an instance&#8217;s disk is marked faulty in <tt class="docutils literal"><span class="pre">gnt-cluster</span>
<span class="pre">verify</span></tt></li>
<li>Implemented job priorities (see <tt class="docutils literal"><span class="pre">ganeti(7)</span></tt> manpage)</li>
<li>Ignore failures while shutting down instances during failover from
offline node</li>
<li>Exit daemon&#8217;s bootstrap process only once daemon is ready</li>
<li>Export more information via <tt class="docutils literal"><span class="pre">LUQueryInstances</span></tt>/remote API</li>
<li>Improved documentation, QA and unittests</li>
<li>RAPI daemon now watches <tt class="docutils literal"><span class="pre">rapi_users</span></tt> all the time and doesn&#8217;t need a
restart if the file was created or changed</li>
<li>Added LUXI protocol version sent with each request and response,
allowing detection of server/client mismatches</li>
<li>Moved the Python scripts among gnt-* and ganeti-* into modules</li>
<li>Moved all code related to setting up SSH to an external script,
<tt class="docutils literal"><span class="pre">setup-ssh</span></tt></li>
<li>Infrastructure changes for node group support in future versions</li>
</ul>
</div>
<div class="section" id="version-2-2-2">
<h2>Version 2.2.2<a class="headerlink" href="#version-2-2-2" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 19 Nov 2010)</em></p>
<p>A few small bugs fixed, and some improvements to the build system:</p>
<ul class="simple">
<li>Fix documentation regarding conversion to drbd</li>
<li>Fix validation of parameters in cluster modify (<tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">modify</span>
<span class="pre">-B</span></tt>)</li>
<li>Fix error handling in node modify with multiple changes</li>
<li>Allow remote imports without checked names</li>
</ul>
</div>
<div class="section" id="version-2-2-1">
<h2>Version 2.2.1<a class="headerlink" href="#version-2-2-1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 19 Oct 2010)</em></p>
<ul class="simple">
<li>Disable SSL session ID cache in RPC client</li>
</ul>
</div>
<div class="section" id="version-2-2-1-rc1">
<h2>Version 2.2.1 rc1<a class="headerlink" href="#version-2-2-1-rc1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Thu, 14 Oct 2010)</em></p>
<ul class="simple">
<li>Fix interaction between Curl/GnuTLS and the Python&#8217;s HTTP server
(thanks Apollon Oikonomopoulos!), finally allowing the use of Curl
with GnuTLS</li>
<li>Fix problems with interaction between Curl and Python&#8217;s HTTP server,
resulting in increased speed in many RPC calls</li>
<li>Improve our release script to prevent breakage with older aclocal and
Python 2.6</li>
</ul>
</div>
<div class="section" id="version-2-2-1-rc0">
<h2>Version 2.2.1 rc0<a class="headerlink" href="#version-2-2-1-rc0" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Thu, 7 Oct 2010)</em></p>
<ul class="simple">
<li>Fixed issue 125, replace hardcoded “xenvg” in <tt class="docutils literal"><span class="pre">gnt-cluster</span></tt> with
value retrieved from master</li>
<li>Added support for blacklisted or hidden OS definitions</li>
<li>Added simple lock monitor (accessible via (<tt class="docutils literal"><span class="pre">gnt-debug</span> <span class="pre">locks</span></tt>)</li>
<li>Added support for -mem-path in KVM hypervisor abstraction layer</li>
<li>Allow overriding instance parameters in tool for inter-cluster
instance moves (<tt class="docutils literal"><span class="pre">tools/move-instance</span></tt>)</li>
<li>Improved opcode summaries (e.g. in <tt class="docutils literal"><span class="pre">gnt-job</span> <span class="pre">list</span></tt>)</li>
<li>Improve consistency of OS listing by sorting it</li>
<li>Documentation updates</li>
</ul>
</div>
<div class="section" id="version-2-2-0-1">
<h2>Version 2.2.0.1<a class="headerlink" href="#version-2-2-0-1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 8 Oct 2010)</em></p>
<ul class="simple">
<li>Rebuild with a newer autotools version, to fix python 2.6 compatibility</li>
</ul>
</div>
<div class="section" id="version-2-2-0">
<h2>Version 2.2.0<a class="headerlink" href="#version-2-2-0" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Mon, 4 Oct 2010)</em></p>
<ul class="simple">
<li>Fixed regression in <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">rename</span></tt></li>
</ul>
</div>
<div class="section" id="version-2-2-0-rc2">
<h2>Version 2.2.0 rc2<a class="headerlink" href="#version-2-2-0-rc2" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 22 Sep 2010)</em></p>
<ul class="simple">
<li>Fixed OS_VARIANT variable for OS scripts</li>
<li>Fixed cluster tag operations via RAPI</li>
<li>Made <tt class="docutils literal"><span class="pre">setup-ssh</span></tt> exit with non-zero code if an error occurred</li>
<li>Disabled RAPI CA checks in watcher</li>
</ul>
</div>
<div class="section" id="version-2-2-0-rc1">
<h2>Version 2.2.0 rc1<a class="headerlink" href="#version-2-2-0-rc1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Mon, 23 Aug 2010)</em></p>
<ul class="simple">
<li>Support DRBD versions of the format &#8220;a.b.c.d&#8221;</li>
<li>Updated manpages</li>
<li>Re-introduce support for usage from multiple threads in RAPI client</li>
<li>Instance renames and modify via RAPI</li>
<li>Work around race condition between processing and archival in job
queue</li>
<li>Mark opcodes following failed one as failed, too</li>
<li>Job field <tt class="docutils literal"><span class="pre">lock_status</span></tt> was removed due to difficulties making it
work with the changed job queue in Ganeti 2.2; a better way to monitor
locks is expected for a later 2.2.x release</li>
<li>Fixed dry-run behaviour with many commands</li>
<li>Support <tt class="docutils literal"><span class="pre">ssh-agent</span></tt> again when adding nodes</li>
<li>Many additional bugfixes</li>
</ul>
</div>
<div class="section" id="version-2-2-0-rc0">
<h2>Version 2.2.0 rc0<a class="headerlink" href="#version-2-2-0-rc0" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 30 Jul 2010)</em></p>
<p>Important change: the internal RPC mechanism between Ganeti nodes has
changed from using a home-grown http library (based on the Python base
libraries) to use the PycURL library. This requires that PycURL is
installed on nodes. Please note that on Debian/Ubuntu, PycURL is linked
against GnuTLS by default. cURL&#8217;s support for GnuTLS had known issues
before cURL 7.21.0 and we recommend using the latest cURL release or
linking against OpenSSL. Most other distributions already link PycURL
and cURL against OpenSSL. The command:</p>
<div class="highlight-python"><pre>python -c 'import pycurl; print pycurl.version'</pre>
</div>
<p>can be used to determine the libraries PycURL and cURL are linked
against.</p>
<p>Other significant changes:</p>
<ul class="simple">
<li>Rewrote much of the internals of the job queue, in order to achieve
better parallelism; this decouples job query operations from the job
processing, and it should allow much nicer behaviour of the master
daemon under load, and it also has uncovered some long-standing bugs
related to the job serialisation (now fixed)</li>
<li>Added a default iallocator setting to the cluster parameters,
eliminating the need to always pass nodes or an iallocator for
operations that require selection of new node(s)</li>
<li>Added experimental support for the LXC virtualization method</li>
<li>Added support for OS parameters, which allows the installation of
instances to pass parameter to OS scripts in order to customise the
instance</li>
<li>Added a hypervisor parameter controlling the migration type (live or
non-live), since hypervisors have various levels of reliability; this
has renamed the &#8216;live&#8217; parameter to &#8216;mode&#8217;</li>
<li>Added a cluster parameter <tt class="docutils literal"><span class="pre">reserved_lvs</span></tt> that denotes reserved
logical volumes, meaning that cluster verify will ignore them and not
flag their presence as errors</li>
<li>The watcher will now reset the error count for failed instances after
8 hours, thus allowing self-healing if the problem that caused the
instances to be down/fail to start has cleared in the meantime</li>
<li>Added a cluster parameter <tt class="docutils literal"><span class="pre">drbd_usermode_helper</span></tt> that makes Ganeti
check for, and warn, if the drbd module parameter <tt class="docutils literal"><span class="pre">usermode_helper</span></tt>
is not consistent with the cluster-wide setting; this is needed to
make diagnose easier of failed drbd creations</li>
<li>Started adding base IPv6 support, but this is not yet
enabled/available for use</li>
<li>Rename operations (cluster, instance) will now return the new name,
which is especially useful if a short name was passed in</li>
<li>Added support for instance migration in RAPI</li>
<li>Added a tool to pre-configure nodes for the SSH setup, before joining
them to the cluster; this will allow in the future a simplified model
for node joining (but not yet fully enabled in 2.2); this needs the
paramiko python library</li>
<li>Fixed handling of name-resolving errors</li>
<li>Fixed consistency of job results on the error path</li>
<li>Fixed master-failover race condition when executed multiple times in
sequence</li>
<li>Fixed many bugs related to the job queue (mostly introduced during the
2.2 development cycle, so not all are impacting 2.1)</li>
<li>Fixed instance migration with missing disk symlinks</li>
<li>Fixed handling of unknown jobs in <tt class="docutils literal"><span class="pre">gnt-job</span> <span class="pre">archive</span></tt></li>
<li>And many other small fixes/improvements</li>
</ul>
<p>Internal changes:</p>
<ul class="simple">
<li>Enhanced both the unittest and the QA coverage</li>
<li>Switched the opcode validation to a generic model, and extended the
validation to all opcode parameters</li>
<li>Changed more parts of the code that write shell scripts to use the
same class for this</li>
<li>Switched the master daemon to use the asyncore library for the Luxi
server endpoint</li>
</ul>
</div>
<div class="section" id="version-2-2-0-beta-0">
<h2>Version 2.2.0 beta 0<a class="headerlink" href="#version-2-2-0-beta-0" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Thu, 17 Jun 2010)</em></p>
<ul class="simple">
<li>Added tool (<tt class="docutils literal"><span class="pre">move-instance</span></tt>) and infrastructure to move instances
between separate clusters (see <a class="reference external" href="move-instance.html"><em>separate documentation</em></a> and <a class="reference external" href="design-2.2.html"><em>design document</em></a>)</li>
<li>Added per-request RPC timeout</li>
<li>RAPI now requires a Content-Type header for requests with a body (e.g.
<tt class="docutils literal"><span class="pre">PUT</span></tt> or <tt class="docutils literal"><span class="pre">POST</span></tt>) which must be set to <tt class="docutils literal"><span class="pre">application/json</span></tt> (see
<span class="target" id="index-1"></span><a class="reference external" href="http://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a> (HTTP/1.1), section 7.2.1)</li>
<li><tt class="docutils literal"><span class="pre">ganeti-watcher</span></tt> attempts to restart <tt class="docutils literal"><span class="pre">ganeti-rapi</span></tt> if RAPI is not
reachable</li>
<li>Implemented initial support for running Ganeti daemons as separate
users, see configure-time flags <tt class="docutils literal"><span class="pre">--with-user-prefix</span></tt> and
<tt class="docutils literal"><span class="pre">--with-group-prefix</span></tt> (only <tt class="docutils literal"><span class="pre">ganeti-rapi</span></tt> is supported at this
time)</li>
<li>Instances can be removed after export (<tt class="docutils literal"><span class="pre">gnt-backup</span> <span class="pre">export</span>
<span class="pre">--remove-instance</span></tt>)</li>
<li>Self-signed certificates generated by Ganeti now use a 2048 bit RSA
key (instead of 1024 bit)</li>
<li>Added new cluster configuration file for cluster domain secret</li>
<li>Import/export now use SSL instead of SSH</li>
<li>Added support for showing estimated time when exporting an instance,
see the <tt class="docutils literal"><span class="pre">ganeti-os-interface(7)</span></tt> manpage and look for
<tt class="docutils literal"><span class="pre">EXP_SIZE_FD</span></tt></li>
</ul>
</div>
<div class="section" id="version-2-1-8">
<h2>Version 2.1.8<a class="headerlink" href="#version-2-1-8" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 16 Nov 2010)</em></p>
<p>Some more bugfixes. Unless critical bugs occur, this will be the last
2.1 release:</p>
<ul class="simple">
<li>Fix case of MAC special-values</li>
<li>Fix mac checker regex</li>
<li>backend: Fix typo causing “out of range” error</li>
<li>Add missing &#8211;units in gnt-instance list man page</li>
</ul>
</div>
<div class="section" id="version-2-1-7">
<h2>Version 2.1.7<a class="headerlink" href="#version-2-1-7" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 24 Aug 2010)</em></p>
<dl class="docutils">
<dt>Bugfixes only:</dt>
<dd><ul class="first last simple">
<li>Don&#8217;t ignore secondary node silently on non-mirrored disk templates
(issue 113)</li>
<li>Fix &#8211;master-netdev arg name in gnt-cluster(8) (issue 114)</li>
<li>Fix usb_mouse parameter breaking with vnc_console (issue 109)</li>
<li>Properly document the usb_mouse parameter</li>
<li>Fix path in ganeti-rapi(8) (issue 116)</li>
<li>Adjust error message when the ganeti user&#8217;s .ssh directory is
missing</li>
<li>Add same-node-check when changing the disk template to drbd</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="version-2-1-6">
<h2>Version 2.1.6<a class="headerlink" href="#version-2-1-6" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 16 Jul 2010)</em></p>
<dl class="docutils">
<dt>Bugfixes only:</dt>
<dd><ul class="first last simple">
<li>Add an option to only select some reboot types during qa/burnin.
(on some hypervisors consequent reboots are not supported)</li>
<li>Fix infrequent race condition in master failover. Sometimes the old
master ip address would be still detected as up for a short time
after it was removed, causing failover to fail.</li>
<li>Decrease mlockall warnings when the ctypes module is missing. On
Python 2.4 we support running even if no ctypes module is installed,
but we were too verbose about this issue.</li>
<li>Fix building on old distributions, on which man doesn&#8217;t have a
&#8211;warnings option.</li>
<li>Fix RAPI not to ignore the MAC address on instance creation</li>
<li>Implement the old instance creation format in the RAPI client.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="version-2-1-5">
<h2>Version 2.1.5<a class="headerlink" href="#version-2-1-5" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Thu, 01 Jul 2010)</em></p>
<dl class="docutils">
<dt>A small bugfix release:</dt>
<dd><ul class="first last simple">
<li>Fix disk adoption: broken by strict &#8211;disk option checking in 2.1.4</li>
<li>Fix batch-create: broken in the whole 2.1 series due to a lookup on
a non-existing option</li>
<li>Fix instance create: the &#8211;force-variant option was ignored</li>
<li>Improve pylint 0.21 compatibility and warnings with Python 2.6</li>
<li>Fix modify node storage with non-FQDN arguments</li>
<li>Fix RAPI client to authenticate under Python 2.6 when used
for more than 5 requests needing authentication</li>
<li>Fix gnt-instance modify -t (storage) giving a wrong error message
when converting a non-shutdown drbd instance to plain</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="version-2-1-4">
<h2>Version 2.1.4<a class="headerlink" href="#version-2-1-4" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 18 Jun 2010)</em></p>
<p>A small bugfix release:</p>
<blockquote>
<ul class="simple">
<li>Fix live migration of KVM instances started with older Ganeti
versions which had fewer hypervisor parameters</li>
<li>Fix gnt-instance grow-disk on down instances</li>
<li>Fix an error-reporting bug during instance migration</li>
<li>Better checking of the <tt class="docutils literal"><span class="pre">--net</span></tt> and <tt class="docutils literal"><span class="pre">--disk</span></tt> values, to avoid
silently ignoring broken ones</li>
<li>Fix an RPC error reporting bug affecting, for example, RAPI client
users</li>
<li>Fix bug triggered by different API version os-es on different nodes</li>
<li>Fix a bug in instance startup with custom hvparams: OS level
parameters would fail to be applied.</li>
<li>Fix the RAPI client under Python 2.6 (but more work is needed to
make it work completely well with OpenSSL)</li>
<li>Fix handling of errors when resolving names from DNS</li>
</ul>
</blockquote>
</div>
<div class="section" id="version-2-1-3">
<h2>Version 2.1.3<a class="headerlink" href="#version-2-1-3" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Thu, 3 Jun 2010)</em></p>
<p>A medium sized development cycle. Some new features, and some
fixes/small improvements/cleanups.</p>
<div class="section" id="significant-features">
<h3>Significant features<a class="headerlink" href="#significant-features" title="Permalink to this headline">¶</a></h3>
<p>The node deamon now tries to mlock itself into memory, unless the
<tt class="docutils literal"><span class="pre">--no-mlock</span></tt> flag is passed. It also doesn&#8217;t fail if it can&#8217;t write
its logs, and falls back to console logging. This allows emergency
features such as <tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">powercycle</span></tt> to work even in the event of a
broken node disk (tested offlining the disk hosting the node&#8217;s
filesystem and dropping its memory caches; don&#8217;t try this at home)</p>
<p>KVM: add vhost-net acceleration support. It can be tested with a new
enough version of the kernel and of qemu-kvm.</p>
<p>KVM: Add instance chrooting feature. If you use privilege dropping for
your VMs you can also now force them to chroot to an empty directory,
before starting the emulated guest.</p>
<p>KVM: Add maximum migration bandwith and maximum downtime tweaking
support (requires a new-enough version of qemu-kvm).</p>
<p>Cluster verify will now warn if the master node doesn&#8217;t have the master
ip configured on it.</p>
<p>Add a new (incompatible) instance creation request format to RAPI which
supports all parameters (previously only a subset was supported, and it
wasn&#8217;t possible to extend the old format to accomodate all the new
features. The old format is still supported, and a client can check for
this feature, before using it, by checking for its presence in the
<tt class="docutils literal"><span class="pre">features</span></tt> RAPI resource.</p>
<p>Now with ancient latin support. Try it passing the <tt class="docutils literal"><span class="pre">--roman</span></tt> option to
<tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">info</span></tt>, <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">info</span></tt> or <tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">list</span></tt>
(requires the python-roman module to be installed, in order to work).</p>
</div>
<div class="section" id="other-changes">
<h3>Other changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h3>
<p>As usual many internal code refactorings, documentation updates, and
such. Among others:</p>
<blockquote>
<ul class="simple">
<li>Lots of improvements and cleanups to the experimental Remote API
(RAPI) client library.</li>
<li>A new unit test suite for the core daemon libraries.</li>
<li>A fix to creating missing directories makes sure the umask is not
applied anymore. This enforces the same directory permissions
everywhere.</li>
<li>Better handling terminating daemons with ctrl+c (used when running
them in debugging mode).</li>
<li>Fix a race condition in live migrating a KVM instance, when stat()
on the old proc status file returned EINVAL, which is an unexpected
value.</li>
<li>Fixed manpage checking with newer man and utf-8 charachters. But now
you need the en_US.UTF-8 locale enabled to build Ganeti from git.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="version-2-1-2-1">
<h2>Version 2.1.2.1<a class="headerlink" href="#version-2-1-2-1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 7 May 2010)</em></p>
<p>Fix a bug which prevented untagged KVM instances from starting.</p>
</div>
<div class="section" id="version-2-1-2">
<h2>Version 2.1.2<a class="headerlink" href="#version-2-1-2" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 7 May 2010)</em></p>
<p>Another release with a long development cycle, during which many
different features were added.</p>
<div class="section" id="id1">
<h3>Significant features<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The KVM hypervisor now can run the individual instances as non-root, to
reduce the impact of a VM being hijacked due to bugs in the
hypervisor. It is possible to run all instances as a single (non-root)
user, to manually specify a user for each instance, or to dynamically
allocate a user out of a cluster-wide pool to each instance, with the
guarantee that no two instances will run under the same user ID on any
given node.</p>
<p>An experimental RAPI client library, that can be used standalone
(without the other Ganeti libraries), is provided in the source tree as
<tt class="docutils literal"><span class="pre">lib/rapi/client.py</span></tt>. Note this client might change its interface in
the future, as we iterate on its capabilities.</p>
<p>A new command, <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">renew-crypto</span></tt> has been added to easily
replace the cluster&#8217;s certificates and crypto keys. This might help in
case they have been compromised, or have simply expired.</p>
<p>A new disk option for instance creation has been added that allows one
to &#8220;adopt&#8221; currently existing logical volumes, with data
preservation. This should allow easier migration to Ganeti from
unmanaged (or managed via other software) instances.</p>
<p>Another disk improvement is the possibility to convert between redundant
(DRBD) and plain (LVM) disk configuration for an instance. This should
allow better scalability (starting with one node and growing the
cluster, or shrinking a two-node cluster to one node).</p>
<p>A new feature that could help with automated node failovers has been
implemented: if a node sees itself as offline (by querying the master
candidates), it will try to shutdown (hard) all instances and any active
DRBD devices. This reduces the risk of duplicate instances if an
external script automatically failovers the instances on such nodes. To
enable this, the cluster parameter <tt class="docutils literal"><span class="pre">maintain_node_health</span></tt> should be
enabled; in the future this option (per the name) will enable other
automatic maintenance features.</p>
<p>Instance export/import now will reuse the original instance
specifications for all parameters; that means exporting an instance,
deleting it and the importing it back should give an almost identical
instance. Note that the default import behaviour has changed from
before, where it created only one NIC; now it recreates the original
number of NICs.</p>
<p>Cluster verify has added a few new checks: SSL certificates validity,
/etc/hosts consistency across the cluster, etc.</p>
</div>
<div class="section" id="id2">
<h3>Other changes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>As usual, many internal changes were done, documentation fixes,
etc. Among others:</p>
<ul class="simple">
<li>Fixed cluster initialization with disabled cluster storage (regression
introduced in 2.1.1)</li>
<li>File-based storage supports growing the disks</li>
<li>Fixed behaviour of node role changes</li>
<li>Fixed cluster verify for some corner cases, plus a general rewrite of
cluster verify to allow future extension with more checks</li>
<li>Fixed log spamming by watcher and node daemon (regression introduced
in 2.1.1)</li>
<li>Fixed possible validation issues when changing the list of enabled
hypervisors</li>
<li>Fixed cleanup of /etc/hosts during node removal</li>
<li>Fixed RAPI response for invalid methods</li>
<li>Fixed bug with hashed passwords in <tt class="docutils literal"><span class="pre">ganeti-rapi</span></tt> daemon</li>
<li>Multiple small improvements to the KVM hypervisor (VNC usage, booting
from ide disks, etc.)</li>
<li>Allow OS changes without re-installation (to record a changed OS
outside of Ganeti, or to allow OS renames)</li>
<li>Allow instance creation without OS installation (useful for example if
the OS will be installed manually, or restored from a backup not in
Ganeti format)</li>
<li>Implemented option to make cluster <tt class="docutils literal"><span class="pre">copyfile</span></tt> use the replication
network</li>
<li>Added list of enabled hypervisors to ssconf (possibly useful for
external scripts)</li>
<li>Added a new tool (<tt class="docutils literal"><span class="pre">tools/cfgupgrade12</span></tt>) that allows upgrading from
1.2 clusters</li>
<li>A partial form of node re-IP is possible via node readd, which now
allows changed node primary IP</li>
<li>Command line utilities now show an informational message if the job is
waiting for a lock</li>
<li>The logs of the master daemon now show the PID/UID/GID of the
connected client</li>
</ul>
</div>
</div>
<div class="section" id="version-2-1-1">
<h2>Version 2.1.1<a class="headerlink" href="#version-2-1-1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 12 Mar 2010)</em></p>
<p>During the 2.1.0 long release candidate cycle, a lot of improvements and
changes have accumulated with were released later as 2.1.1.</p>
<div class="section" id="major-changes">
<h3>Major changes<a class="headerlink" href="#major-changes" title="Permalink to this headline">¶</a></h3>
<p>The node evacuate command (<tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">evacuate</span></tt>) was significantly
rewritten, and as such the IAllocator protocol was changed - a new
request type has been added. This unfortunate change during a stable
series is designed to improve performance of node evacuations; on
clusters with more than about five nodes and which are well-balanced,
evacuation should proceed in parallel for all instances of the node
being evacuated. As such, any existing IAllocator scripts need to be
updated, otherwise the above command will fail due to the unknown
request. The provided &#8220;dumb&#8221; allocator has not been updated; but the
ganeti-htools package supports the new protocol since version 0.2.4.</p>
<p>Another important change is increased validation of node and instance
names. This might create problems in special cases, if invalid host
names are being used.</p>
<p>Also, a new layer of hypervisor parameters has been added, that sits at
OS level between the cluster defaults and the instance ones. This allows
customisation of virtualization parameters depending on the installed
OS. For example instances with OS &#8216;X&#8217; may have a different KVM kernel
(or any other parameter) than the cluster defaults. This is intended to
help managing a multiple OSes on the same cluster, without manual
modification of each instance&#8217;s parameters.</p>
<p>A tool for merging clusters, <tt class="docutils literal"><span class="pre">cluster-merge</span></tt>, has been added in the
tools sub-directory.</p>
</div>
<div class="section" id="bug-fixes">
<h3>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved the int/float conversions that should make the code more
robust in face of errors from the node daemons</li>
<li>Fixed the remove node code in case of internal configuration errors</li>
<li>Fixed the node daemon behaviour in face of inconsistent queue
directory (e.g. read-only file-system where we can&#8217;t open the files
read-write, etc.)</li>
<li>Fixed the behaviour of gnt-node modify for master candidate demotion;
now it either aborts cleanly or, if given the new “auto_promote”
parameter, will automatically promote other nodes as needed</li>
<li>Fixed compatibility with (unreleased yet) Python 2.6.5 that would
completely prevent Ganeti from working</li>
<li>Fixed bug for instance export when not all disks were successfully
exported</li>
<li>Fixed behaviour of node add when the new node is slow in starting up
the node daemon</li>
<li>Fixed handling of signals in the LUXI client, which should improve
behaviour of command-line scripts</li>
<li>Added checks for invalid node/instance names in the configuration (now
flagged during cluster verify)</li>
<li>Fixed watcher behaviour for disk activation errors</li>
<li>Fixed two potentially endless loops in http library, which led to the
RAPI daemon hanging and consuming 100% CPU in some cases</li>
<li>Fixed bug in RAPI daemon related to hashed passwords</li>
<li>Fixed bug for unintended qemu-level bridging of multi-NIC KVM
instances</li>
<li>Enhanced compatibility with non-Debian OSes, but not using absolute
path in some commands and allowing customisation of the ssh
configuration directory</li>
<li>Fixed possible future issue with new Python versions by abiding to the
proper use of <tt class="docutils literal"><span class="pre">__slots__</span></tt> attribute on classes</li>
<li>Added checks that should prevent directory traversal attacks</li>
<li>Many documentation fixes based on feedback from users</li>
</ul>
</div>
<div class="section" id="new-features">
<h3>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added an “early_release” more for instance replace disks and node
evacuate, where we release locks earlier and thus allow higher
parallelism within the cluster</li>
<li>Added watcher hooks, intended to allow the watcher to restart other
daemons (e.g. from the ganeti-nbma project), but they can be used of
course for any other purpose</li>
<li>Added a compile-time disable for DRBD barriers, to increase
performance if the administrator trusts the power supply or the
storage system to not lose writes</li>
<li>Added the option of using syslog for logging instead of, or in
addition to, Ganeti&#8217;s own log files</li>
<li>Removed boot restriction for paravirtual NICs for KVM, recent versions
can indeed boot from a paravirtual NIC</li>
<li>Added a generic debug level for many operations; while this is not
used widely yet, it allows one to pass the debug value all the way to
the OS scripts</li>
<li>Enhanced the hooks environment for instance moves (failovers,
migrations) where the primary/secondary nodes changed during the
operation, by adding {NEW,OLD}_{PRIMARY,SECONDARY} vars</li>
<li>Enhanced data validations for many user-supplied values; one important
item is the restrictions imposed on instance and node names, which
might reject some (invalid) host names</li>
<li>Add a configure-time option to disable file-based storage, if it&#8217;s not
needed; this allows greater security separation between the master
node and the other nodes from the point of view of the inter-node RPC
protocol</li>
<li>Added user notification in interactive tools if job is waiting in the
job queue or trying to acquire locks</li>
<li>Added log messages when a job is waiting for locks</li>
<li>Added filtering by node tags in instance operations which admit
multiple instances (start, stop, reboot, reinstall)</li>
<li>Added a new tool for cluster mergers, <tt class="docutils literal"><span class="pre">cluster-merge</span></tt></li>
<li>Parameters from command line which are of the form <tt class="docutils literal"><span class="pre">a=b,c=d</span></tt> can now
use backslash escapes to pass in values which contain commas,
e.g. <tt class="docutils literal"><span class="pre">a=b\\c,d=e</span></tt> where the &#8216;a&#8217; parameter would get the value
<tt class="docutils literal"><span class="pre">b,c</span></tt></li>
<li>For KVM, the instance name is the first parameter passed to KVM, so
that it&#8217;s more visible in the process list</li>
</ul>
</div>
</div>
<div class="section" id="version-2-1-0">
<h2>Version 2.1.0<a class="headerlink" href="#version-2-1-0" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 2 Mar 2010)</em></p>
<p>Ganeti 2.1 brings many improvements with it. Major changes:</p>
<ul class="simple">
<li>Added infrastructure to ease automated disk repairs</li>
<li>Added new daemon to export configuration data in a cheaper way than
using the remote API</li>
<li>Instance NICs can now be routed instead of being associated with a
networking bridge</li>
<li>Improved job locking logic to reduce impact of jobs acquiring multiple
locks waiting for other long-running jobs</li>
</ul>
<p>In-depth implementation details can be found in the Ganeti 2.1 design
document.</p>
<div class="section" id="details">
<h3>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added chroot hypervisor</li>
<li>Added more options to xen-hvm hypervisor (<tt class="docutils literal"><span class="pre">kernel_path</span></tt> and
<tt class="docutils literal"><span class="pre">device_model</span></tt>)</li>
<li>Added more options to xen-pvm hypervisor (<tt class="docutils literal"><span class="pre">use_bootloader</span></tt>,
<tt class="docutils literal"><span class="pre">bootloader_path</span></tt> and <tt class="docutils literal"><span class="pre">bootloader_args</span></tt>)</li>
<li>Added the <tt class="docutils literal"><span class="pre">use_localtime</span></tt> option for the xen-hvm and kvm
hypervisors, and the default value for this has changed to false (in
2.0 xen-hvm always enabled it)</li>
<li>Added luxi call to submit multiple jobs in one go</li>
<li>Added cluster initialization option to not modify <tt class="docutils literal"><span class="pre">/etc/hosts</span></tt>
file on nodes</li>
<li>Added network interface parameters</li>
<li>Added dry run mode to some LUs</li>
<li>Added RAPI resources:<ul>
<li><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/info</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/2/instances/[instance_name]/replace-disks</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/evacuate</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/migrate</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/role</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/modify</span></tt></li>
<li><tt class="docutils literal"><span class="pre">/2/nodes/[node_name]/storage/repair</span></tt></li>
</ul>
</li>
<li>Added OpCodes to evacuate or migrate all instances on a node</li>
<li>Added new command to list storage elements on nodes (<tt class="docutils literal"><span class="pre">gnt-node</span>
<span class="pre">list-storage</span></tt>) and modify them (<tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">modify-storage</span></tt>)</li>
<li>Added new ssconf files with master candidate IP address
(<tt class="docutils literal"><span class="pre">ssconf_master_candidates_ips</span></tt>), node primary IP address
(<tt class="docutils literal"><span class="pre">ssconf_node_primary_ips</span></tt>) and node secondary IP address
(<tt class="docutils literal"><span class="pre">ssconf_node_secondary_ips</span></tt>)</li>
<li>Added <tt class="docutils literal"><span class="pre">ganeti-confd</span></tt> and a client library to query the Ganeti
configuration via UDP</li>
<li>Added ability to run hooks after cluster initialization and before
cluster destruction</li>
<li>Added automatic mode for disk replace (<tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">replace-disks</span>
<span class="pre">--auto</span></tt>)</li>
<li>Added <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">recreate-disks</span></tt> to re-create (empty) disks
after catastrophic data-loss</li>
<li>Added <tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">repair-storage</span></tt> command to repair damaged LVM volume
groups</li>
<li>Added <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">move</span></tt> command to move instances</li>
<li>Added <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">watcher</span></tt> command to control watcher</li>
<li>Added <tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">powercycle</span></tt> command to powercycle nodes</li>
<li>Added new job status field <tt class="docutils literal"><span class="pre">lock_status</span></tt></li>
<li>Added parseable error codes to cluster verification (<tt class="docutils literal"><span class="pre">gnt-cluster</span>
<span class="pre">verify</span> <span class="pre">--error-codes</span></tt>) and made output less verbose (use
<tt class="docutils literal"><span class="pre">--verbose</span></tt> to restore previous behaviour)</li>
<li>Added UUIDs to the main config entities (cluster, nodes, instances)</li>
<li>Added support for OS variants</li>
<li>Added support for hashed passwords in the Ganeti remote API users file
(<tt class="docutils literal"><span class="pre">rapi_users</span></tt>)</li>
<li>Added option to specify maximum timeout on instance shutdown</li>
<li>Added <tt class="docutils literal"><span class="pre">--no-ssh-init</span></tt> option to <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">init</span></tt></li>
<li>Added new helper script to start and stop Ganeti daemons
(<tt class="docutils literal"><span class="pre">daemon-util</span></tt>), with the intent to reduce the work necessary to
adjust Ganeti for non-Debian distributions and to start/stop daemons
from one place</li>
<li>Added more unittests</li>
<li>Fixed critical bug in ganeti-masterd startup</li>
<li>Removed the configure-time <tt class="docutils literal"><span class="pre">kvm-migration-port</span></tt> parameter, this is
now customisable at the cluster level for both the KVM and Xen
hypervisors using the new <tt class="docutils literal"><span class="pre">migration_port</span></tt> parameter</li>
<li>Pass <tt class="docutils literal"><span class="pre">INSTANCE_REINSTALL</span></tt> variable to OS installation script when
reinstalling an instance</li>
<li>Allowed <tt class="docutils literal"><span class="pre">&#64;</span></tt> in tag names</li>
<li>Migrated to Sphinx (<a class="reference external" href="http://sphinx.pocoo.org/">http://sphinx.pocoo.org/</a>) for documentation</li>
<li>Many documentation updates</li>
<li>Distribute hypervisor files on <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">redist-conf</span></tt></li>
<li><tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">reinstall</span></tt> can now reinstall multiple instances</li>
<li>Updated many command line parameters</li>
<li>Introduced new OS API version 15</li>
<li>No longer support a default hypervisor</li>
<li>Treat virtual LVs as inexistent</li>
<li>Improved job locking logic to reduce lock contention</li>
<li>Match instance and node names case insensitively</li>
<li>Reimplemented bash completion script to be more complete</li>
<li>Improved burnin</li>
</ul>
</div>
</div>
<div class="section" id="version-2-0-6">
<h2>Version 2.0.6<a class="headerlink" href="#version-2-0-6" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Thu, 4 Feb 2010)</em></p>
<ul class="simple">
<li>Fix cleaner behaviour on nodes not in a cluster (Debian bug 568105)</li>
<li>Fix a string formatting bug</li>
<li>Improve safety of the code in some error paths</li>
<li>Improve data validation in the master of values returned from nodes</li>
</ul>
</div>
<div class="section" id="version-2-0-5">
<h2>Version 2.0.5<a class="headerlink" href="#version-2-0-5" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Thu, 17 Dec 2009)</em></p>
<ul class="simple">
<li>Fix security issue due to missing validation of iallocator names; this
allows local and remote execution of arbitrary executables</li>
<li>Fix failure of gnt-node list during instance removal</li>
<li>Ship the RAPI documentation in the archive</li>
</ul>
</div>
<div class="section" id="version-2-0-4">
<h2>Version 2.0.4<a class="headerlink" href="#version-2-0-4" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 30 Sep 2009)</em></p>
<ul class="simple">
<li>Fixed many wrong messages</li>
<li>Fixed a few bugs related to the locking library</li>
<li>Fixed MAC checking at instance creation time</li>
<li>Fixed a DRBD parsing bug related to gaps in /proc/drbd</li>
<li>Fixed a few issues related to signal handling in both daemons and
scripts</li>
<li>Fixed the example startup script provided</li>
<li>Fixed insserv dependencies in the example startup script (patch from
Debian)</li>
<li>Fixed handling of drained nodes in the iallocator framework</li>
<li>Fixed handling of KERNEL_PATH parameter for xen-hvm (Debian bug
#528618)</li>
<li>Fixed error related to invalid job IDs in job polling</li>
<li>Fixed job/opcode persistence on unclean master shutdown</li>
<li>Fixed handling of partial job processing after unclean master
shutdown</li>
<li>Fixed error reporting from LUs, previously all errors were converted
into execution errors</li>
<li>Fixed error reporting from burnin</li>
<li>Decreased significantly the memory usage of the job queue</li>
<li>Optimised slightly multi-job submission</li>
<li>Optimised slightly opcode loading</li>
<li>Backported the multi-job submit framework from the development
branch; multi-instance start and stop should be faster</li>
<li>Added script to clean archived jobs after 21 days; this will reduce
the size of the queue directory</li>
<li>Added some extra checks in disk size tracking</li>
<li>Added an example ethers hook script</li>
<li>Added a cluster parameter that prevents Ganeti from modifying of
/etc/hosts</li>
<li>Added more node information to RAPI responses</li>
<li>Added a <tt class="docutils literal"><span class="pre">gnt-job</span> <span class="pre">watch</span></tt> command that allows following the ouput of a
job</li>
<li>Added a bind-address option to ganeti-rapi</li>
<li>Added more checks to the configuration verify</li>
<li>Enhanced the burnin script such that some operations can be retried
automatically</li>
<li>Converted instance reinstall to multi-instance model</li>
</ul>
</div>
<div class="section" id="version-2-0-3">
<h2>Version 2.0.3<a class="headerlink" href="#version-2-0-3" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 7 Aug 2009)</em></p>
<ul class="simple">
<li>Added <tt class="docutils literal"><span class="pre">--ignore-size</span></tt> to the <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">activate-disks</span></tt> command
to allow using the pre-2.0.2 behaviour in activation, if any existing
instances have mismatched disk sizes in the configuration</li>
<li>Added <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">repair-disk-sizes</span></tt> command to check and update
any configuration mismatches for disk sizes</li>
<li>Added <tt class="docutils literal"><span class="pre">gnt-master</span> <span class="pre">cluste-failover</span> <span class="pre">--no-voting</span></tt> to allow master
failover to work on two-node clusters</li>
<li>Fixed the <tt class="docutils literal"><span class="pre">--net</span></tt> option of <tt class="docutils literal"><span class="pre">gnt-backup</span> <span class="pre">import</span></tt>, which was
unusable</li>
<li>Fixed detection of OS script errors in <tt class="docutils literal"><span class="pre">gnt-backup</span> <span class="pre">export</span></tt></li>
<li>Fixed exit code of <tt class="docutils literal"><span class="pre">gnt-backup</span> <span class="pre">export</span></tt></li>
</ul>
</div>
<div class="section" id="version-2-0-2">
<h2>Version 2.0.2<a class="headerlink" href="#version-2-0-2" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 17 Jul 2009)</em></p>
<ul class="simple">
<li>Added experimental support for stripped logical volumes; this should
enhance performance but comes with a higher complexity in the block
device handling; stripping is only enabled when passing
<tt class="docutils literal"><span class="pre">--with-lvm-stripecount=N</span></tt> to <tt class="docutils literal"><span class="pre">configure</span></tt>, but codepaths are
affected even in the non-stripped mode</li>
<li>Improved resiliency against transient failures at the end of DRBD
resyncs, and in general of DRBD resync checks</li>
<li>Fixed a couple of issues with exports and snapshot errors</li>
<li>Fixed a couple of issues in instance listing</li>
<li>Added display of the disk size in <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">info</span></tt></li>
<li>Fixed checking for valid OSes in instance creation</li>
<li>Fixed handling of the &#8220;vcpus&#8221; parameter in instance listing and in
general of invalid parameters</li>
<li>Fixed http server library, and thus RAPI, to handle invalid
username/password combinations correctly; this means that now they
report unauthorized for queries too, not only for modifications,
allowing earlier detect of configuration problems</li>
<li>Added a new &#8220;role&#8221; node list field, equivalent to the master/master
candidate/drained/offline flags combinations</li>
<li>Fixed cluster modify and changes of candidate pool size</li>
<li>Fixed cluster verify error messages for wrong files on regular nodes</li>
<li>Fixed a couple of issues with node demotion from master candidate role</li>
<li>Fixed node readd issues</li>
<li>Added non-interactive mode for <tt class="docutils literal"><span class="pre">ganeti-masterd</span> <span class="pre">--no-voting</span></tt> startup</li>
<li>Added a new <tt class="docutils literal"><span class="pre">--no-voting</span></tt> option for masterfailover to fix failover
on two-nodes clusters when the former master node is unreachable</li>
<li>Added instance reinstall over RAPI</li>
</ul>
</div>
<div class="section" id="version-2-0-1">
<h2>Version 2.0.1<a class="headerlink" href="#version-2-0-1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 16 Jun 2009)</em></p>
<ul class="simple">
<li>added <tt class="docutils literal"><span class="pre">-H</span></tt>/<tt class="docutils literal"><span class="pre">-B</span></tt> startup parameters to <tt class="docutils literal"><span class="pre">gnt-instance</span></tt>, which will
allow re-adding the start in single-user option (regression from 1.2)</li>
<li>the watcher writes the instance status to a file, to allow monitoring
to report the instance status (from the master) based on cached
results of the watcher&#8217;s queries; while this can get stale if the
watcher is being locked due to other work on the cluster, this is
still an improvement</li>
<li>the watcher now also restarts the node daemon and the rapi daemon if
they died</li>
<li>fixed the watcher to handle full and drained queue cases</li>
<li>hooks export more instance data in the environment, which helps if
hook scripts need to take action based on the instance&#8217;s properties
(no longer need to query back into ganeti)</li>
<li>instance failovers when the instance is stopped do not check for free
RAM, so that failing over a stopped instance is possible in low memory
situations</li>
<li>rapi uses queries for tags instead of jobs (for less job traffic), and
for cluster tags it won&#8217;t talk to masterd at all but read them from
ssconf</li>
<li>a couple of error handling fixes in RAPI</li>
<li>drbd handling: improved the error handling of inconsistent disks after
resync to reduce the frequency of &#8220;there are some degraded disks for
this instance&#8221; messages</li>
<li>fixed a bug in live migration when DRBD doesn&#8217;t want to reconnect (the
error handling path called a wrong function name)</li>
</ul>
</div>
<div class="section" id="version-2-0-0-final">
<h2>Version 2.0.0 final<a class="headerlink" href="#version-2-0-0-final" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 27 May 2009)</em></p>
<ul class="simple">
<li>no changes from rc5</li>
</ul>
</div>
<div class="section" id="version-2-0-release-candidate-5">
<h2>Version 2.0 release candidate 5<a class="headerlink" href="#version-2-0-release-candidate-5" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 20 May 2009)</em></p>
<ul class="simple">
<li>fix a couple of bugs (validation, argument checks)</li>
<li>fix <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">getmaster</span></tt> on non-master nodes (regression)</li>
<li>some small improvements to RAPI and IAllocator</li>
<li>make watcher automatically start the master daemon if down</li>
</ul>
</div>
<div class="section" id="version-2-0-release-candidate-4">
<h2>Version 2.0 release candidate 4<a class="headerlink" href="#version-2-0-release-candidate-4" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Mon, 27 Apr 2009)</em></p>
<ul class="simple">
<li>change the OS list to not require locks; this helps with big clusters</li>
<li>fix <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt> and <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify-disks</span></tt> when the
volume group is broken</li>
<li><tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">info</span></tt>, without any arguments, doesn&#8217;t run for all
instances anymore; either pass <tt class="docutils literal"><span class="pre">--all</span></tt> or pass the desired
instances; this helps against mistakes on big clusters where listing
the information for all instances takes a long time</li>
<li>miscellaneous doc and man pages fixes</li>
</ul>
</div>
<div class="section" id="version-2-0-release-candidate-3">
<h2>Version 2.0 release candidate 3<a class="headerlink" href="#version-2-0-release-candidate-3" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 8 Apr 2009)</em></p>
<ul class="simple">
<li>Change the internal locking model of some <tt class="docutils literal"><span class="pre">gnt-node</span></tt> commands, in
order to reduce contention (and blocking of master daemon) when
batching many creation/reinstall jobs</li>
<li>Fixes to Xen soft reboot</li>
<li>No longer build documentation at build time, instead distribute it in
the archive, in order to reduce the need for the whole docbook/rst
toolchains</li>
</ul>
</div>
<div class="section" id="version-2-0-release-candidate-2">
<h2>Version 2.0 release candidate 2<a class="headerlink" href="#version-2-0-release-candidate-2" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 27 Mar 2009)</em></p>
<ul class="simple">
<li>Now the cfgupgrade scripts works and can upgrade 1.2.7 clusters to 2.0</li>
<li>Fix watcher startup sequence, improves the behaviour of busy clusters</li>
<li>Some other fixes in <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt>, <tt class="docutils literal"><span class="pre">gnt-instance</span>
<span class="pre">replace-disks</span></tt>, <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">add</span></tt>, <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">queue</span></tt>, KVM VNC
bind address and other places</li>
<li>Some documentation fixes and updates</li>
</ul>
</div>
<div class="section" id="version-2-0-release-candidate-1">
<h2>Version 2.0 release candidate 1<a class="headerlink" href="#version-2-0-release-candidate-1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Mon, 2 Mar 2009)</em></p>
<ul class="simple">
<li>More documentation updates, now all docs should be more-or-less
up-to-date</li>
<li>A couple of small fixes (mixed hypervisor clusters, offline nodes,
etc.)</li>
<li>Added a customizable HV_KERNEL_ARGS hypervisor parameter (for Xen PVM
and KVM)</li>
<li>Fix an issue related to $libdir/run/ganeti and cluster creation</li>
</ul>
</div>
<div class="section" id="version-2-0-beta-2">
<h2>Version 2.0 beta 2<a class="headerlink" href="#version-2-0-beta-2" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Thu, 19 Feb 2009)</em></p>
<ul class="simple">
<li>Xen PVM and KVM have switched the default value for the instance root
disk to the first partition on the first drive, instead of the whole
drive; this means that the OS installation scripts must be changed
accordingly</li>
<li>Man pages have been updated</li>
<li>RAPI has been switched by default to HTTPS, and the exported functions
should all work correctly</li>
<li>RAPI v1 has been removed</li>
<li>Many improvements to the KVM hypervisor</li>
<li>Block device errors are now better reported</li>
<li>Many other bugfixes and small improvements</li>
</ul>
</div>
<div class="section" id="version-2-0-beta-1">
<h2>Version 2.0 beta 1<a class="headerlink" href="#version-2-0-beta-1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Mon, 26 Jan 2009)</em></p>
<ul class="simple">
<li>Version 2 is a general rewrite of the code and therefore the
differences are too many to list, see the design document for 2.0 in
the <tt class="docutils literal"><span class="pre">doc/</span></tt> subdirectory for more details</li>
<li>In this beta version there is not yet a migration path from 1.2 (there
will be one in the final 2.0 release)</li>
<li>A few significant changes are:<ul>
<li>all commands are executed by a daemon (<tt class="docutils literal"><span class="pre">ganeti-masterd</span></tt>) and the
various <tt class="docutils literal"><span class="pre">gnt-*</span></tt> commands are just front-ends to it</li>
<li>all the commands are entered into, and executed from a job queue,
see the <tt class="docutils literal"><span class="pre">gnt-job(8)</span></tt> manpage</li>
<li>the RAPI daemon supports read-write operations, secured by basic
HTTP authentication on top of HTTPS</li>
<li>DRBD version 0.7 support has been removed, DRBD 8 is the only
supported version (when migrating from Ganeti 1.2 to 2.0, you need
to migrate to DRBD 8 first while still running Ganeti 1.2)</li>
<li>DRBD devices are using statically allocated minor numbers, which
will be assigned to existing instances during the migration process</li>
<li>there is support for both Xen PVM and Xen HVM instances running on
the same cluster</li>
<li>KVM virtualization is supported too</li>
<li>file-based storage has been implemented, which means that it is
possible to run the cluster without LVM and DRBD storage, for
example using a shared filesystem exported from shared storage (and
still have live migration)</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="version-1-2-7">
<h2>Version 1.2.7<a class="headerlink" href="#version-1-2-7" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 13 Jan 2009)</em></p>
<ul class="simple">
<li>Change the default reboot type in <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">reboot</span></tt> to &#8220;hard&#8221;</li>
<li>Reuse the old instance mac address by default on instance import, if
the instance name is the same.</li>
<li>Handle situations in which the node info rpc returns incomplete
results (issue 46)</li>
<li>Add checks for tcp/udp ports collisions in <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt></li>
<li>Improved version of batcher:<ul>
<li>state file support</li>
<li>instance mac address support</li>
<li>support for HVM clusters/instances</li>
</ul>
</li>
<li>Add an option to show the number of cpu sockets and nodes in
<tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">list</span></tt></li>
<li>Support OSes that handle more than one version of the OS api (but do
not change the current API in any other way)</li>
<li>Fix <tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">migrate</span></tt></li>
<li><tt class="docutils literal"><span class="pre">gnt-debug</span></tt> man page</li>
<li>Fixes various more typos and small issues</li>
<li>Increase disk resync maximum speed to 60MB/s (from 30MB/s)</li>
</ul>
</div>
<div class="section" id="version-1-2-6">
<h2>Version 1.2.6<a class="headerlink" href="#version-1-2-6" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 24 Sep 2008)</em></p>
<ul class="simple">
<li>new <tt class="docutils literal"><span class="pre">--hvm-nic-type</span></tt> and <tt class="docutils literal"><span class="pre">--hvm-disk-type</span></tt> flags to control the
type of disk exported to fully virtualized instances.</li>
<li>provide access to the serial console of HVM instances</li>
<li>instance auto_balance flag, set by default. If turned off it will
avoid warnings on cluster verify if there is not enough memory to fail
over an instance. in the future it will prevent automatically failing
it over when we will support that.</li>
<li>batcher tool for instance creation, see <tt class="docutils literal"><span class="pre">tools/README.batcher</span></tt></li>
<li><tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">reinstall</span> <span class="pre">--select-os</span></tt> to interactively select a new
operating system when reinstalling an instance.</li>
<li>when changing the memory amount on instance modify a check has been
added that the instance will be able to start. also warnings are
emitted if the instance will not be able to fail over, if auto_balance
is true.</li>
<li>documentation fixes</li>
<li>sync fields between <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">list/modify/add/import</span></tt></li>
<li>fix a race condition in drbd when the sync speed was set after giving
the device a remote peer.</li>
</ul>
</div>
<div class="section" id="version-1-2-5">
<h2>Version 1.2.5<a class="headerlink" href="#version-1-2-5" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 22 Jul 2008)</em></p>
<ul class="simple">
<li>note: the allowed size and number of tags per object were reduced</li>
<li>fix a bug in <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt> with inconsistent volume groups</li>
<li>fixed twisted 8.x compatibility</li>
<li>fixed <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">replace-disks</span></tt> with iallocator</li>
<li>add TCP keepalives on twisted connections to detect restarted nodes</li>
<li>disk increase support, see <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">grow-disk</span></tt></li>
<li>implement bulk node/instance query for RAPI</li>
<li>add tags in node/instance listing (optional)</li>
<li>experimental migration (and live migration) support, read the man page
for <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">migrate</span></tt></li>
<li>the <tt class="docutils literal"><span class="pre">ganeti-watcher</span></tt> logs are now timestamped, and the watcher also
has some small improvements in handling its state file</li>
</ul>
</div>
<div class="section" id="version-1-2-4">
<h2>Version 1.2.4<a class="headerlink" href="#version-1-2-4" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Fri, 13 Jun 2008)</em></p>
<ul class="simple">
<li>Experimental readonly, REST-based remote API implementation;
automatically started on master node, TCP port 5080, if enabled by
<tt class="docutils literal"><span class="pre">--enable-rapi</span></tt> parameter to configure script.</li>
<li>Instance allocator support. Add and import instance accept a
<tt class="docutils literal"><span class="pre">--iallocator</span></tt> parameter, and call that instance allocator to decide
which node to use for the instance. The iallocator document describes
what&#8217;s expected from an allocator script.</li>
<li><tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt> N+1 memory redundancy checks: Unless passed the
<tt class="docutils literal"><span class="pre">--no-nplus1-mem</span></tt> option <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt> now checks that if a
node is lost there is still enough memory to fail over the instances
that reside on it.</li>
<li><tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt> hooks: it is now possible to add post-hooks to
<tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt>, to check for site-specific compliance. All the
hooks will run, and their output, if any, will be displayed. Any
failing hook will make the verification return an error value.</li>
<li><tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify</span></tt> now checks that its peers are reachable on the
primary and secondary interfaces</li>
<li><tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">add</span></tt> now supports the <tt class="docutils literal"><span class="pre">--readd</span></tt> option, to readd a node
that is still declared as part of the cluster and has failed.</li>
<li><tt class="docutils literal"><span class="pre">gnt-*</span> <span class="pre">list</span></tt> commands now accept a new <tt class="docutils literal"><span class="pre">-o</span> <span class="pre">+field</span></tt> way of
specifying output fields, that just adds the chosen fields to the
default ones.</li>
<li><tt class="docutils literal"><span class="pre">gnt-backup</span></tt> now has a new <tt class="docutils literal"><span class="pre">remove</span></tt> command to delete an existing
export from the filesystem.</li>
<li>New per-instance parameters hvm_acpi, hvm_pae and hvm_cdrom_image_path
have been added. Using them you can enable/disable acpi and pae
support, and specify a path for a cd image to be exported to the
instance. These parameters as the name suggest only work on HVM
clusters.</li>
<li>When upgrading an HVM cluster to Ganeti 1.2.4, the values for ACPI and
PAE support will be set to the previously hardcoded values, but the
(previously hardcoded) path to the CDROM ISO image will be unset and
if required, needs to be set manually with <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">modify</span></tt>
after the upgrade.</li>
<li>The address to which an instance&#8217;s VNC console is bound is now
selectable per-instance, rather than being cluster wide. Of course
this only applies to instances controlled via VNC, so currently just
applies to HVM clusters.</li>
</ul>
</div>
<div class="section" id="version-1-2-3">
<h2>Version 1.2.3<a class="headerlink" href="#version-1-2-3" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Mon, 18 Feb 2008)</em></p>
<ul class="simple">
<li>more tweaks to the disk activation code (especially helpful for DRBD)</li>
<li>change the default <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">list</span></tt> output format, now there is
one combined status field (see the manpage for the exact values this
field will have)</li>
<li>some more fixes for the mac export to hooks change</li>
<li>make Ganeti not break with DRBD 8.2.x (which changed the version
format in <tt class="docutils literal"><span class="pre">/proc/drbd</span></tt>) (issue 24)</li>
<li>add an upgrade tool from &#8220;remote_raid1&#8221; disk template to &#8220;drbd&#8221; disk
template, allowing migration from DRBD0.7+MD to DRBD8</li>
</ul>
</div>
<div class="section" id="version-1-2-2">
<h2>Version 1.2.2<a class="headerlink" href="#version-1-2-2" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 30 Jan 2008)</em></p>
<ul class="simple">
<li>fix <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">modify</span></tt> breakage introduced in 1.2.1 with the HVM
support (issue 23)</li>
<li>add command aliases infrastructure and a few aliases</li>
<li>allow listing of VCPUs in the <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">list</span></tt> and improve the
man pages and the <tt class="docutils literal"><span class="pre">--help</span></tt> option of <tt class="docutils literal"><span class="pre">gnt-node</span>
<span class="pre">list</span></tt>/<tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">list</span></tt></li>
<li>fix <tt class="docutils literal"><span class="pre">gnt-backup</span> <span class="pre">list</span></tt> with down nodes (issue 21)</li>
<li>change the tools location (move from $pkgdatadir to $pkglibdir/tools)</li>
<li>fix the dist archive and add a check for including svn/git files in
the future</li>
<li>some developer-related changes: improve the burnin and the QA suite,
add an upload script for testing during development</li>
</ul>
</div>
<div class="section" id="version-1-2-1">
<h2>Version 1.2.1<a class="headerlink" href="#version-1-2-1" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 16 Jan 2008)</em></p>
<ul class="simple">
<li>experimental HVM support, read the install document, section
&#8220;Initializing the cluster&#8221;</li>
<li>allow for the PVM hypervisor per-instance kernel and initrd paths</li>
<li>add a new command <tt class="docutils literal"><span class="pre">gnt-cluster</span> <span class="pre">verify-disks</span></tt> which uses a new
algorithm to improve the reconnection of the DRBD pairs if the device
on the secondary node has gone away</li>
<li>make logical volume code auto-activate LVs at disk activation time</li>
<li>slightly improve the speed of activating disks</li>
<li>allow specification of the MAC address at instance creation time, and
changing it later via <tt class="docutils literal"><span class="pre">gnt-instance</span> <span class="pre">modify</span></tt></li>
<li>fix handling of external commands that generate lots of output on
stderr</li>
<li>update documentation with regard to minimum version of DRBD8 supported</li>
</ul>
</div>
<div class="section" id="version-1-2-0">
<h2>Version 1.2.0<a class="headerlink" href="#version-1-2-0" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 4 Dec 2007)</em></p>
<ul class="simple">
<li>Log the <tt class="docutils literal"><span class="pre">xm</span> <span class="pre">create</span></tt> output to the node daemon log on failure (to
help diagnosing the error)</li>
<li>In debug mode, log all external commands output if failed to the logs</li>
<li>Change parsing of lvm commands to ignore stderr</li>
</ul>
</div>
<div class="section" id="version-1-2b3">
<h2>Version 1.2b3<a class="headerlink" href="#version-1-2b3" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Wed, 28 Nov 2007)</em></p>
<ul class="simple">
<li>Another round of updates to the DRBD 8 code to deal with more failures
in the replace secondary node operation</li>
<li>Some more logging of failures in disk operations (lvm, drbd)</li>
<li>A few documentation updates</li>
<li>QA updates</li>
</ul>
</div>
<div class="section" id="version-1-2b2">
<h2>Version 1.2b2<a class="headerlink" href="#version-1-2b2" title="Permalink to this headline">¶</a></h2>
<p><em>(Released Tue, 13 Nov 2007)</em></p>
<ul class="simple">
<li>Change configuration file format from Python&#8217;s Pickle to JSON.
Upgrading is possible using the cfgupgrade utility.</li>
<li>Add support for DRBD 8.0 (new disk template <tt class="docutils literal"><span class="pre">drbd</span></tt>) which allows for
faster replace disks and is more stable (DRBD 8 has many improvements
compared to DRBD 0.7)</li>
<li>Added command line tags support (see man pages for <tt class="docutils literal"><span class="pre">gnt-instance</span></tt>,
<tt class="docutils literal"><span class="pre">gnt-node</span></tt>, <tt class="docutils literal"><span class="pre">gnt-cluster</span></tt>)</li>
<li>Added instance rename support</li>
<li>Added multi-instance startup/shutdown</li>
<li>Added cluster rename support</li>
<li>Added <tt class="docutils literal"><span class="pre">gnt-node</span> <span class="pre">evacuate</span></tt> to simplify some node operations</li>
<li>Added instance reboot operation that can speedup reboot as compared to
stop and start</li>
<li>Soften the requirement that hostnames are in FQDN format</li>
<li>The <tt class="docutils literal"><span class="pre">ganeti-watcher</span></tt> now activates drbd pairs after secondary node
reboots</li>
<li>Removed dependency on debian&#8217;s patched fping that uses the
non-standard <tt class="docutils literal"><span class="pre">-S</span></tt> option</li>
<li>Now the OS definitions are searched for in multiple, configurable
paths (easier for distros to package)</li>
<li>Some changes to the hooks infrastructure (especially the new
post-configuration update hook)</li>
<li>Other small bugfixes</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">News</a><ul>
<li><a class="reference external" href="#version-2-3-1">Version 2.3.1</a></li>
<li><a class="reference external" href="#version-2-3-1-rc1">Version 2.3.1 rc1</a></li>
<li><a class="reference external" href="#version-2-3-0">Version 2.3.0</a></li>
<li><a class="reference external" href="#version-2-3-0-rc1">Version 2.3.0 rc1</a></li>
<li><a class="reference external" href="#version-2-3-0-rc0">Version 2.3.0 rc0</a></li>
<li><a class="reference external" href="#version-2-2-2">Version 2.2.2</a></li>
<li><a class="reference external" href="#version-2-2-1">Version 2.2.1</a></li>
<li><a class="reference external" href="#version-2-2-1-rc1">Version 2.2.1 rc1</a></li>
<li><a class="reference external" href="#version-2-2-1-rc0">Version 2.2.1 rc0</a></li>
<li><a class="reference external" href="#version-2-2-0-1">Version 2.2.0.1</a></li>
<li><a class="reference external" href="#version-2-2-0">Version 2.2.0</a></li>
<li><a class="reference external" href="#version-2-2-0-rc2">Version 2.2.0 rc2</a></li>
<li><a class="reference external" href="#version-2-2-0-rc1">Version 2.2.0 rc1</a></li>
<li><a class="reference external" href="#version-2-2-0-rc0">Version 2.2.0 rc0</a></li>
<li><a class="reference external" href="#version-2-2-0-beta-0">Version 2.2.0 beta 0</a></li>
<li><a class="reference external" href="#version-2-1-8">Version 2.1.8</a></li>
<li><a class="reference external" href="#version-2-1-7">Version 2.1.7</a></li>
<li><a class="reference external" href="#version-2-1-6">Version 2.1.6</a></li>
<li><a class="reference external" href="#version-2-1-5">Version 2.1.5</a></li>
<li><a class="reference external" href="#version-2-1-4">Version 2.1.4</a></li>
<li><a class="reference external" href="#version-2-1-3">Version 2.1.3</a><ul>
<li><a class="reference external" href="#significant-features">Significant features</a></li>
<li><a class="reference external" href="#other-changes">Other changes</a></li>
</ul>
</li>
<li><a class="reference external" href="#version-2-1-2-1">Version 2.1.2.1</a></li>
<li><a class="reference external" href="#version-2-1-2">Version 2.1.2</a><ul>
<li><a class="reference external" href="#id1">Significant features</a></li>
<li><a class="reference external" href="#id2">Other changes</a></li>
</ul>
</li>
<li><a class="reference external" href="#version-2-1-1">Version 2.1.1</a><ul>
<li><a class="reference external" href="#major-changes">Major changes</a></li>
<li><a class="reference external" href="#bug-fixes">Bug fixes</a></li>
<li><a class="reference external" href="#new-features">New features</a></li>
</ul>
</li>
<li><a class="reference external" href="#version-2-1-0">Version 2.1.0</a><ul>
<li><a class="reference external" href="#details">Details</a></li>
</ul>
</li>
<li><a class="reference external" href="#version-2-0-6">Version 2.0.6</a></li>
<li><a class="reference external" href="#version-2-0-5">Version 2.0.5</a></li>
<li><a class="reference external" href="#version-2-0-4">Version 2.0.4</a></li>
<li><a class="reference external" href="#version-2-0-3">Version 2.0.3</a></li>
<li><a class="reference external" href="#version-2-0-2">Version 2.0.2</a></li>
<li><a class="reference external" href="#version-2-0-1">Version 2.0.1</a></li>
<li><a class="reference external" href="#version-2-0-0-final">Version 2.0.0 final</a></li>
<li><a class="reference external" href="#version-2-0-release-candidate-5">Version 2.0 release candidate 5</a></li>
<li><a class="reference external" href="#version-2-0-release-candidate-4">Version 2.0 release candidate 4</a></li>
<li><a class="reference external" href="#version-2-0-release-candidate-3">Version 2.0 release candidate 3</a></li>
<li><a class="reference external" href="#version-2-0-release-candidate-2">Version 2.0 release candidate 2</a></li>
<li><a class="reference external" href="#version-2-0-release-candidate-1">Version 2.0 release candidate 1</a></li>
<li><a class="reference external" href="#version-2-0-beta-2">Version 2.0 beta 2</a></li>
<li><a class="reference external" href="#version-2-0-beta-1">Version 2.0 beta 1</a></li>
<li><a class="reference external" href="#version-1-2-7">Version 1.2.7</a></li>
<li><a class="reference external" href="#version-1-2-6">Version 1.2.6</a></li>
<li><a class="reference external" href="#version-1-2-5">Version 1.2.5</a></li>
<li><a class="reference external" href="#version-1-2-4">Version 1.2.4</a></li>
<li><a class="reference external" href="#version-1-2-3">Version 1.2.3</a></li>
<li><a class="reference external" href="#version-1-2-2">Version 1.2.2</a></li>
<li><a class="reference external" href="#version-1-2-1">Version 1.2.1</a></li>
<li><a class="reference external" href="#version-1-2-0">Version 1.2.0</a></li>
<li><a class="reference external" href="#version-1-2b3">Version 1.2b3</a></li>
<li><a class="reference external" href="#version-1-2b2">Version 1.2b2</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="devnotes.html"
                                  title="previous chapter">Developer notes</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="glossary.html"
                                  title="next chapter">Glossary</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/news.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="glossary.html" title="Glossary"
             >next</a></li>
        <li class="right" >
          <a href="devnotes.html" title="Developer notes"
             >previous</a> |</li>
        <li><a href="index.html">Ganeti v2.3.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2006, 2007, 2008, 2009, 2010, Google Inc..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.7.
    </div>
  </body>
</html>