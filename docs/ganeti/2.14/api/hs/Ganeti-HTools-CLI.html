<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.HTools.CLI</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ganeti-HTools-CLI.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/HTools/CLI.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">Ganeti.HTools.CLI</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Data types
</a></li><li><a href="#g:2">Helper functions
</a></li><li><a href="#g:3">Command line options
</a></li><li><a href="#g:4">Functions
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Implementation of command-line functions.
</p><p>This module holds the common command-line related functions for the
binaries, separated into this module since <a href="Ganeti-Utils.html">Ganeti.Utils</a> is
used in many other places and this is more IO oriented.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Options">Options</a>  = <a href="#v:Options">Options</a> {<ul class="subs"><li><a href="#v:optDataFile">optDataFile</a> :: Maybe FilePath</li><li><a href="#v:optDiskMoves">optDiskMoves</a> :: Bool</li><li><a href="#v:optInstMoves">optInstMoves</a> :: Bool</li><li><a href="#v:optDiskTemplate">optDiskTemplate</a> :: Maybe <a href="Ganeti-Types.html#t:DiskTemplate">DiskTemplate</a></li><li><a href="#v:optSpindleUse">optSpindleUse</a> :: Maybe Int</li><li><a href="#v:optDynuFile">optDynuFile</a> :: Maybe FilePath</li><li><a href="#v:optIgnoreDynu">optIgnoreDynu</a> :: Bool</li><li><a href="#v:optIgnoreSoftErrors">optIgnoreSoftErrors</a> :: Bool</li><li><a href="#v:optIndependentGroups">optIndependentGroups</a> :: Bool</li><li><a href="#v:optAcceptExisting">optAcceptExisting</a> :: Bool</li><li><a href="#v:optMonD">optMonD</a> :: Bool</li><li><a href="#v:optMonDFile">optMonDFile</a> :: Maybe FilePath</li><li><a href="#v:optEvacMode">optEvacMode</a> :: Bool</li><li><a href="#v:optRestrictedMigrate">optRestrictedMigrate</a> :: Bool</li><li><a href="#v:optExInst">optExInst</a> :: [String]</li><li><a href="#v:optExTags">optExTags</a> :: Maybe [String]</li><li><a href="#v:optExecJobs">optExecJobs</a> :: Bool</li><li><a href="#v:optForce">optForce</a> :: Bool</li><li><a href="#v:optFullEvacuation">optFullEvacuation</a> :: Bool</li><li><a href="#v:optGroup">optGroup</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:GroupID">GroupID</a></li><li><a href="#v:optIAllocSrc">optIAllocSrc</a> :: Maybe FilePath</li><li><a href="#v:optIgnoreNonRedundant">optIgnoreNonRedundant</a> :: Bool</li><li><a href="#v:optSelInst">optSelInst</a> :: [String]</li><li><a href="#v:optLuxi">optLuxi</a> :: Maybe FilePath</li><li><a href="#v:optJobDelay">optJobDelay</a> :: Double</li><li><a href="#v:optMachineReadable">optMachineReadable</a> :: Bool</li><li><a href="#v:optMaster">optMaster</a> :: String</li><li><a href="#v:optMaxLength">optMaxLength</a> :: Int</li><li><a href="#v:optMcpu">optMcpu</a> :: Maybe Double</li><li><a href="#v:optMdsk">optMdsk</a> :: Double</li><li><a href="#v:optMinGain">optMinGain</a> :: <a href="Ganeti-HTools-Types.html#t:Score">Score</a></li><li><a href="#v:optMinGainLim">optMinGainLim</a> :: <a href="Ganeti-HTools-Types.html#t:Score">Score</a></li><li><a href="#v:optMinResources">optMinResources</a> :: Double</li><li><a href="#v:optMinScore">optMinScore</a> :: <a href="Ganeti-HTools-Types.html#t:Score">Score</a></li><li><a href="#v:optNoHeaders">optNoHeaders</a> :: Bool</li><li><a href="#v:optNoSimulation">optNoSimulation</a> :: Bool</li><li><a href="#v:optNodeSim">optNodeSim</a> :: [String]</li><li><a href="#v:optNodeTags">optNodeTags</a> :: Maybe [String]</li><li><a href="#v:optOffline">optOffline</a> :: [String]</li><li><a href="#v:optOfflineMaintenance">optOfflineMaintenance</a> :: Bool</li><li><a href="#v:optOneStepOnly">optOneStepOnly</a> :: Bool</li><li><a href="#v:optOutPath">optOutPath</a> :: FilePath</li><li><a href="#v:optPrintMoves">optPrintMoves</a> :: Bool</li><li><a href="#v:optSaveCluster">optSaveCluster</a> :: Maybe FilePath</li><li><a href="#v:optShowCmds">optShowCmds</a> :: Maybe FilePath</li><li><a href="#v:optShowHelp">optShowHelp</a> :: Bool</li><li><a href="#v:optShowComp">optShowComp</a> :: Bool</li><li><a href="#v:optShowInsts">optShowInsts</a> :: Bool</li><li><a href="#v:optShowNodes">optShowNodes</a> :: Maybe [String]</li><li><a href="#v:optShowVer">optShowVer</a> :: Bool</li><li><a href="#v:optSkipNonRedundant">optSkipNonRedundant</a> :: Bool</li><li><a href="#v:optStdSpec">optStdSpec</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:RSpec">RSpec</a></li><li><a href="#v:optTargetResources">optTargetResources</a> :: Double</li><li><a href="#v:optTestCount">optTestCount</a> :: Maybe Int</li><li><a href="#v:optTieredSpec">optTieredSpec</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:RSpec">RSpec</a></li><li><a href="#v:optReplay">optReplay</a> :: Maybe String</li><li><a href="#v:optVerbose">optVerbose</a> :: Int</li><li><a href="#v:optPriority">optPriority</a> :: Maybe <a href="Ganeti-Types.html#t:OpSubmitPriority">OpSubmitPriority</a></li></ul>}</li><li class="src short"><a href="#v:defaultOptions">defaultOptions</a> :: <a href="Ganeti-HTools-CLI.html#t:Options">Options</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OptType">OptType</a> = <a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> <a href="Ganeti-HTools-CLI.html#t:Options">Options</a></li><li class="src short"><a href="#v:parseISpecString">parseISpecString</a> :: String -&gt; String -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> <a href="Ganeti-HTools-Types.html#t:RSpec">RSpec</a></li><li class="src short"><a href="#v:optComplDiskTemplate">optComplDiskTemplate</a> :: <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a></li><li class="src short"><a href="#v:oDataFile">oDataFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oDiskMoves">oDiskMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMonD">oMonD</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMonDDataFile">oMonDDataFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oDiskTemplate">oDiskTemplate</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oSpindleUse">oSpindleUse</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oSelInst">oSelInst</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oInstMoves">oInstMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oDynuFile">oDynuFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oIgnoreDyn">oIgnoreDyn</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oIgnoreSoftErrors">oIgnoreSoftErrors</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oIndependentGroups">oIndependentGroups</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oAcceptExisting">oAcceptExisting</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oEvacMode">oEvacMode</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oRestrictedMigrate">oRestrictedMigrate</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oExInst">oExInst</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oExTags">oExTags</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oExecJobs">oExecJobs</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oForce">oForce</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oFullEvacuation">oFullEvacuation</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oGroup">oGroup</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oIAllocSrc">oIAllocSrc</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oIgnoreNonRedundant">oIgnoreNonRedundant</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oJobDelay">oJobDelay</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:genOLuxiSocket">genOLuxiSocket</a> :: String -&gt; <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oLuxiSocket">oLuxiSocket</a> :: IO <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMachineReadable">oMachineReadable</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMaxCpu">oMaxCpu</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMaxSolLength">oMaxSolLength</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMinDisk">oMinDisk</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMinGain">oMinGain</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMinGainLim">oMinGainLim</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMinResources">oMinResources</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oMinScore">oMinScore</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oNoHeaders">oNoHeaders</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oNoSimulation">oNoSimulation</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oNodeSim">oNodeSim</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oNodeTags">oNodeTags</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oOfflineMaintenance">oOfflineMaintenance</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oOfflineNode">oOfflineNode</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oOneStepOnly">oOneStepOnly</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oOutputDir">oOutputDir</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oPrintCommands">oPrintCommands</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oPrintInsts">oPrintInsts</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oPrintMoves">oPrintMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oPrintNodes">oPrintNodes</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oQuiet">oQuiet</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oRapiMaster">oRapiMaster</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oSaveCluster">oSaveCluster</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oSkipNonRedundant">oSkipNonRedundant</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oStdSpec">oStdSpec</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oTargetResources">oTargetResources</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oTieredSpec">oTieredSpec</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oVerbose">oVerbose</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:oPriority">oPriority</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a></li><li class="src short"><a href="#v:genericOpts">genericOpts</a> :: [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> <a href="Ganeti-HTools-CLI.html#t:Options">Options</a>]</li><li class="src short"><a href="#v:parseOpts">parseOpts</a> :: [String] -&gt; String -&gt; [<a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a>] -&gt; [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>] -&gt; IO (<a href="Ganeti-HTools-CLI.html#t:Options">Options</a>, [String])</li><li class="src short"><a href="#v:shTemplate">shTemplate</a> :: String</li><li class="src short"><a href="#v:maybeSaveCommands">maybeSaveCommands</a> :: String -&gt; <a href="Ganeti-HTools-CLI.html#t:Options">Options</a> -&gt; String -&gt; IO ()</li><li class="src short"><a href="#v:maybePrintNodes">maybePrintNodes</a> :: Maybe [String] -&gt; String -&gt; ([String] -&gt; String) -&gt; IO ()</li><li class="src short"><a href="#v:maybePrintInsts">maybePrintInsts</a> :: Bool -&gt; String -&gt; String -&gt; IO ()</li><li class="src short"><a href="#v:maybeShowWarnings">maybeShowWarnings</a> :: [String] -&gt; IO ()</li><li class="src short"><a href="#v:printKeys">printKeys</a> :: String -&gt; [(String, String)] -&gt; IO ()</li><li class="src short"><a href="#v:printFinal">printFinal</a> :: String -&gt; Bool -&gt; IO ()</li><li class="src short"><a href="#v:setNodeOffline">setNodeOffline</a> :: [<a href="Ganeti-HTools-Types.html#t:Ndx">Ndx</a>] -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a></li><li class="src short"><a href="#v:setNodeStatus">setNodeStatus</a> :: <a href="Ganeti-HTools-CLI.html#t:Options">Options</a> -&gt; <a href="Ganeti-HTools-Node.html#t:List">List</a> -&gt; IO <a href="Ganeti-HTools-Node.html#t:List">List</a></li></ul></div><div id="interface"><h1 id="g:1">Data types
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Options" class="def">Options</a>  <a href="Ganeti/HTools/CLI.html#Options" class="link">Source</a></p><div class="doc"><p>Command line options structure.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Options" class="def">Options</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:optDataFile" class="def">optDataFile</a> :: Maybe FilePath</dt><dd class="doc"><p>Path to the cluster data file
</p></dd><dt class="src"><a name="v:optDiskMoves" class="def">optDiskMoves</a> :: Bool</dt><dd class="doc"><p>Allow disk moves
</p></dd><dt class="src"><a name="v:optInstMoves" class="def">optInstMoves</a> :: Bool</dt><dd class="doc"><p>Allow instance moves
</p></dd><dt class="src"><a name="v:optDiskTemplate" class="def">optDiskTemplate</a> :: Maybe <a href="Ganeti-Types.html#t:DiskTemplate">DiskTemplate</a></dt><dd class="doc"><p>Override for the disk template
</p></dd><dt class="src"><a name="v:optSpindleUse" class="def">optSpindleUse</a> :: Maybe Int</dt><dd class="doc"><p>Override for the spindle usage
</p></dd><dt class="src"><a name="v:optDynuFile" class="def">optDynuFile</a> :: Maybe FilePath</dt><dd class="doc"><p>Optional file with dynamic use data
</p></dd><dt class="src"><a name="v:optIgnoreDynu" class="def">optIgnoreDynu</a> :: Bool</dt><dd class="doc"><p>Do not use dynamic use data
</p></dd><dt class="src"><a name="v:optIgnoreSoftErrors" class="def">optIgnoreSoftErrors</a> :: Bool</dt><dd class="doc"><p>Ignore soft errors in balancing moves
</p></dd><dt class="src"><a name="v:optIndependentGroups" class="def">optIndependentGroups</a> :: Bool</dt><dd class="doc"><p>consider groups independently
</p></dd><dt class="src"><a name="v:optAcceptExisting" class="def">optAcceptExisting</a> :: Bool</dt><dd class="doc"><p>accept existing N+1 violations
</p></dd><dt class="src"><a name="v:optMonD" class="def">optMonD</a> :: Bool</dt><dd class="doc"><p>Query MonDs
</p></dd><dt class="src"><a name="v:optMonDFile" class="def">optMonDFile</a> :: Maybe FilePath</dt><dd class="doc"><p>Optional file with data provided
 by MonDs
</p></dd><dt class="src"><a name="v:optEvacMode" class="def">optEvacMode</a> :: Bool</dt><dd class="doc"><p>Enable evacuation mode
</p></dd><dt class="src"><a name="v:optRestrictedMigrate" class="def">optRestrictedMigrate</a> :: Bool</dt><dd class="doc"><p>Disallow replace-primary moves
</p></dd><dt class="src"><a name="v:optExInst" class="def">optExInst</a> :: [String]</dt><dd class="doc"><p>Instances to be excluded
</p></dd><dt class="src"><a name="v:optExTags" class="def">optExTags</a> :: Maybe [String]</dt><dd class="doc"><p>Tags to use for exclusion
</p></dd><dt class="src"><a name="v:optExecJobs" class="def">optExecJobs</a> :: Bool</dt><dd class="doc"><p>Execute the commands via Luxi
</p></dd><dt class="src"><a name="v:optForce" class="def">optForce</a> :: Bool</dt><dd class="doc"><p>Force the execution
</p></dd><dt class="src"><a name="v:optFullEvacuation" class="def">optFullEvacuation</a> :: Bool</dt><dd class="doc"><p>Fully evacuate nodes to be rebooted
</p></dd><dt class="src"><a name="v:optGroup" class="def">optGroup</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:GroupID">GroupID</a></dt><dd class="doc"><p>The UUID of the group to process
</p></dd><dt class="src"><a name="v:optIAllocSrc" class="def">optIAllocSrc</a> :: Maybe FilePath</dt><dd class="doc"><p>The iallocation spec
</p></dd><dt class="src"><a name="v:optIgnoreNonRedundant" class="def">optIgnoreNonRedundant</a> :: Bool</dt><dd class="doc"><p>Ignore non-redundant instances
</p></dd><dt class="src"><a name="v:optSelInst" class="def">optSelInst</a> :: [String]</dt><dd class="doc"><p>Instances to be excluded
</p></dd><dt class="src"><a name="v:optLuxi" class="def">optLuxi</a> :: Maybe FilePath</dt><dd class="doc"><p>Collect data from Luxi
</p></dd><dt class="src"><a name="v:optJobDelay" class="def">optJobDelay</a> :: Double</dt><dd class="doc"><p>Delay before executing first job
</p></dd><dt class="src"><a name="v:optMachineReadable" class="def">optMachineReadable</a> :: Bool</dt><dd class="doc"><p>Output machine-readable format
</p></dd><dt class="src"><a name="v:optMaster" class="def">optMaster</a> :: String</dt><dd class="doc"><p>Collect data from RAPI
</p></dd><dt class="src"><a name="v:optMaxLength" class="def">optMaxLength</a> :: Int</dt><dd class="doc"><p>Stop after this many steps
</p></dd><dt class="src"><a name="v:optMcpu" class="def">optMcpu</a> :: Maybe Double</dt><dd class="doc"><p>Override max cpu ratio for nodes
</p></dd><dt class="src"><a name="v:optMdsk" class="def">optMdsk</a> :: Double</dt><dd class="doc"><p>Max disk usage ratio for nodes
</p></dd><dt class="src"><a name="v:optMinGain" class="def">optMinGain</a> :: <a href="Ganeti-HTools-Types.html#t:Score">Score</a></dt><dd class="doc"><p>Min gain we aim for in a step
</p></dd><dt class="src"><a name="v:optMinGainLim" class="def">optMinGainLim</a> :: <a href="Ganeti-HTools-Types.html#t:Score">Score</a></dt><dd class="doc"><p>Limit below which we apply mingain
</p></dd><dt class="src"><a name="v:optMinResources" class="def">optMinResources</a> :: Double</dt><dd class="doc"><p>Minimal resources for hsqueeze
</p></dd><dt class="src"><a name="v:optMinScore" class="def">optMinScore</a> :: <a href="Ganeti-HTools-Types.html#t:Score">Score</a></dt><dd class="doc"><p>The minimum score we aim for
</p></dd><dt class="src"><a name="v:optNoHeaders" class="def">optNoHeaders</a> :: Bool</dt><dd class="doc"><p>Do not show a header line
</p></dd><dt class="src"><a name="v:optNoSimulation" class="def">optNoSimulation</a> :: Bool</dt><dd class="doc"><p>Skip the rebalancing dry-run
</p></dd><dt class="src"><a name="v:optNodeSim" class="def">optNodeSim</a> :: [String]</dt><dd class="doc"><p>Cluster simulation mode
</p></dd><dt class="src"><a name="v:optNodeTags" class="def">optNodeTags</a> :: Maybe [String]</dt><dd class="doc"><p>List of node tags to restrict to 
</p></dd><dt class="src"><a name="v:optOffline" class="def">optOffline</a> :: [String]</dt><dd class="doc"><p>Names of offline nodes
</p></dd><dt class="src"><a name="v:optOfflineMaintenance" class="def">optOfflineMaintenance</a> :: Bool</dt><dd class="doc"><p>Pretend all instances are offline
</p></dd><dt class="src"><a name="v:optOneStepOnly" class="def">optOneStepOnly</a> :: Bool</dt><dd class="doc"><p>Only do the first step
</p></dd><dt class="src"><a name="v:optOutPath" class="def">optOutPath</a> :: FilePath</dt><dd class="doc"><p>Path to the output directory
</p></dd><dt class="src"><a name="v:optPrintMoves" class="def">optPrintMoves</a> :: Bool</dt><dd class="doc"><p>Whether to show the instance moves
</p></dd><dt class="src"><a name="v:optSaveCluster" class="def">optSaveCluster</a> :: Maybe FilePath</dt><dd class="doc"><p>Save cluster state to this file
</p></dd><dt class="src"><a name="v:optShowCmds" class="def">optShowCmds</a> :: Maybe FilePath</dt><dd class="doc"><p>Whether to show the command list
</p></dd><dt class="src"><a name="v:optShowHelp" class="def">optShowHelp</a> :: Bool</dt><dd class="doc"><p>Just show the help
</p></dd><dt class="src"><a name="v:optShowComp" class="def">optShowComp</a> :: Bool</dt><dd class="doc"><p>Just show the completion info
</p></dd><dt class="src"><a name="v:optShowInsts" class="def">optShowInsts</a> :: Bool</dt><dd class="doc"><p>Whether to show the instance map
</p></dd><dt class="src"><a name="v:optShowNodes" class="def">optShowNodes</a> :: Maybe [String]</dt><dd class="doc"><p>Whether to show node status
</p></dd><dt class="src"><a name="v:optShowVer" class="def">optShowVer</a> :: Bool</dt><dd class="doc"><p>Just show the program version
</p></dd><dt class="src"><a name="v:optSkipNonRedundant" class="def">optSkipNonRedundant</a> :: Bool</dt><dd class="doc"><p>Skip nodes with non-redundant instance
</p></dd><dt class="src"><a name="v:optStdSpec" class="def">optStdSpec</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:RSpec">RSpec</a></dt><dd class="doc"><p>Requested standard specs
</p></dd><dt class="src"><a name="v:optTargetResources" class="def">optTargetResources</a> :: Double</dt><dd class="doc"><p>Target resources for squeezing
</p></dd><dt class="src"><a name="v:optTestCount" class="def">optTestCount</a> :: Maybe Int</dt><dd class="doc"><p>Optional test count override
</p></dd><dt class="src"><a name="v:optTieredSpec" class="def">optTieredSpec</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:RSpec">RSpec</a></dt><dd class="doc"><p>Requested specs for tiered mode
</p></dd><dt class="src"><a name="v:optReplay" class="def">optReplay</a> :: Maybe String</dt><dd class="doc"><p>Unittests: RNG state
</p></dd><dt class="src"><a name="v:optVerbose" class="def">optVerbose</a> :: Int</dt><dd class="doc"><p>Verbosity level
</p></dd><dt class="src"><a name="v:optPriority" class="def">optPriority</a> :: Maybe <a href="Ganeti-Types.html#t:OpSubmitPriority">OpSubmitPriority</a></dt><dd class="doc"><p>OpCode submit priority
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Options" class="caption collapser" onclick="toggleSection('i:Options')">Instances</p><div id="section.i:Options" class="show"><table><tr><td class="src">Show <a href="Ganeti-HTools-CLI.html#t:Options">Options</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Common.html#t:StandardOptions">StandardOptions</a> <a href="Ganeti-HTools-CLI.html#t:Options">Options</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:defaultOptions" class="def">defaultOptions</a> :: <a href="Ganeti-HTools-CLI.html#t:Options">Options</a><a href="Ganeti/HTools/CLI.html#defaultOptions" class="link">Source</a></p><div class="doc"><p>Default values for the command line options.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:OptType" class="def">OptType</a> = <a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> <a href="Ganeti-HTools-CLI.html#t:Options">Options</a><a href="Ganeti/HTools/CLI.html#OptType" class="link">Source</a></p><div class="doc"><p>Abbreviation for the option type.
</p></div></div><h1 id="g:2">Helper functions
</h1><div class="top"><p class="src"><a name="v:parseISpecString" class="def">parseISpecString</a> :: String -&gt; String -&gt; <a href="Ganeti-BasicTypes.html#t:Result">Result</a> <a href="Ganeti-HTools-Types.html#t:RSpec">RSpec</a><a href="Ganeti/HTools/CLI.html#parseISpecString" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:optComplDiskTemplate" class="def">optComplDiskTemplate</a> :: <a href="Ganeti-Common.html#t:OptCompletion">OptCompletion</a><a href="Ganeti/HTools/CLI.html#optComplDiskTemplate" class="link">Source</a></p></div><h1 id="g:3">Command line options
</h1><div class="top"><p class="src"><a name="v:oDataFile" class="def">oDataFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oDataFile" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oDiskMoves" class="def">oDiskMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oDiskMoves" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMonD" class="def">oMonD</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMonD" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMonDDataFile" class="def">oMonDDataFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMonDDataFile" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oDiskTemplate" class="def">oDiskTemplate</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oDiskTemplate" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oSpindleUse" class="def">oSpindleUse</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oSpindleUse" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oSelInst" class="def">oSelInst</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oSelInst" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oInstMoves" class="def">oInstMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oInstMoves" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oDynuFile" class="def">oDynuFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oDynuFile" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oIgnoreDyn" class="def">oIgnoreDyn</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oIgnoreDyn" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oIgnoreSoftErrors" class="def">oIgnoreSoftErrors</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oIgnoreSoftErrors" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oIndependentGroups" class="def">oIndependentGroups</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oIndependentGroups" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oAcceptExisting" class="def">oAcceptExisting</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oAcceptExisting" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oEvacMode" class="def">oEvacMode</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oEvacMode" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oRestrictedMigrate" class="def">oRestrictedMigrate</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oRestrictedMigrate" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oExInst" class="def">oExInst</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oExInst" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oExTags" class="def">oExTags</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oExTags" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oExecJobs" class="def">oExecJobs</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oExecJobs" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oForce" class="def">oForce</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oForce" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oFullEvacuation" class="def">oFullEvacuation</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oFullEvacuation" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oGroup" class="def">oGroup</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oGroup" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oIAllocSrc" class="def">oIAllocSrc</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oIAllocSrc" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oIgnoreNonRedundant" class="def">oIgnoreNonRedundant</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oIgnoreNonRedundant" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oJobDelay" class="def">oJobDelay</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oJobDelay" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:genOLuxiSocket" class="def">genOLuxiSocket</a> :: String -&gt; <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#genOLuxiSocket" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oLuxiSocket" class="def">oLuxiSocket</a> :: IO <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oLuxiSocket" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMachineReadable" class="def">oMachineReadable</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMachineReadable" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMaxCpu" class="def">oMaxCpu</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMaxCpu" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMaxSolLength" class="def">oMaxSolLength</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMaxSolLength" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMinDisk" class="def">oMinDisk</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMinDisk" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMinGain" class="def">oMinGain</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMinGain" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMinGainLim" class="def">oMinGainLim</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMinGainLim" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMinResources" class="def">oMinResources</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMinResources" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oMinScore" class="def">oMinScore</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oMinScore" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oNoHeaders" class="def">oNoHeaders</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oNoHeaders" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oNoSimulation" class="def">oNoSimulation</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oNoSimulation" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oNodeSim" class="def">oNodeSim</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oNodeSim" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oNodeTags" class="def">oNodeTags</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oNodeTags" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oOfflineMaintenance" class="def">oOfflineMaintenance</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oOfflineMaintenance" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oOfflineNode" class="def">oOfflineNode</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oOfflineNode" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oOneStepOnly" class="def">oOneStepOnly</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oOneStepOnly" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oOutputDir" class="def">oOutputDir</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oOutputDir" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oPrintCommands" class="def">oPrintCommands</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oPrintCommands" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oPrintInsts" class="def">oPrintInsts</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oPrintInsts" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oPrintMoves" class="def">oPrintMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oPrintMoves" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oPrintNodes" class="def">oPrintNodes</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oPrintNodes" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oQuiet" class="def">oQuiet</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oQuiet" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oRapiMaster" class="def">oRapiMaster</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oRapiMaster" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oSaveCluster" class="def">oSaveCluster</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oSaveCluster" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oSkipNonRedundant" class="def">oSkipNonRedundant</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oSkipNonRedundant" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oStdSpec" class="def">oStdSpec</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oStdSpec" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oTargetResources" class="def">oTargetResources</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oTargetResources" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oTieredSpec" class="def">oTieredSpec</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oTieredSpec" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oVerbose" class="def">oVerbose</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oVerbose" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oPriority" class="def">oPriority</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a><a href="Ganeti/HTools/CLI.html#oPriority" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:genericOpts" class="def">genericOpts</a> :: [<a href="Ganeti-Common.html#t:GenericOptType">GenericOptType</a> <a href="Ganeti-HTools-CLI.html#t:Options">Options</a>]<a href="Ganeti/HTools/CLI.html#genericOpts" class="link">Source</a></p><div class="doc"><p>Generic options.
</p></div></div><h1 id="g:4">Functions
</h1><div class="top"><p class="src"><a name="v:parseOpts" class="def">parseOpts</a><a href="Ganeti/HTools/CLI.html#parseOpts" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>The command line arguments
</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>The program name
</p></td></tr><tr><td class="src">-&gt; [<a href="Ganeti-HTools-CLI.html#t:OptType">OptType</a>]</td><td class="doc"><p>The supported command line options
</p></td></tr><tr><td class="src">-&gt; [<a href="Ganeti-Common.html#t:ArgCompletion">ArgCompletion</a>]</td><td class="doc"><p>The supported command line arguments
</p></td></tr><tr><td class="src">-&gt; IO (<a href="Ganeti-HTools-CLI.html#t:Options">Options</a>, [String])</td><td class="doc"><p>The resulting options and leftover
 arguments
</p></td></tr></table></div><div class="doc"><p>Wrapper over <code><a href="Ganeti-Common.html#v:parseOpts">parseOpts</a></code> with our custom options.
</p></div></div><div class="top"><p class="src"><a name="v:shTemplate" class="def">shTemplate</a> :: String<a href="Ganeti/HTools/CLI.html#shTemplate" class="link">Source</a></p><div class="doc"><p>A shell script template for autogenerated scripts.
</p></div></div><div class="top"><p class="src"><a name="v:maybeSaveCommands" class="def">maybeSaveCommands</a><a href="Ganeti/HTools/CLI.html#maybeSaveCommands" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Informal description
</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-CLI.html#t:Options">Options</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>commands
</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Optionally show or save a list of commands
</p></div></div><div class="top"><p class="src"><a name="v:maybePrintNodes" class="def">maybePrintNodes</a><a href="Ganeti/HTools/CLI.html#maybePrintNodes" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Maybe [String]</td><td class="doc"><p>The field list
</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Informational message
</p></td></tr><tr><td class="src">-&gt; ([String] -&gt; String)</td><td class="doc"><p>Function to generate the listing
</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Optionally print the node list.
</p></div></div><div class="top"><p class="src"><a name="v:maybePrintInsts" class="def">maybePrintInsts</a><a href="Ganeti/HTools/CLI.html#maybePrintInsts" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Bool</td><td class="doc"><p>Whether to print the instance list
</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Type of the instance map (e.g. initial)
</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>The instance data
</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Optionally print the instance list.
</p></div></div><div class="top"><p class="src"><a name="v:maybeShowWarnings" class="def">maybeShowWarnings</a><a href="Ganeti/HTools/CLI.html#maybeShowWarnings" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>The warning messages
</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Function to display warning messages from parsing the cluster
 state.
</p></div></div><div class="top"><p class="src"><a name="v:printKeys" class="def">printKeys</a><a href="Ganeti/HTools/CLI.html#printKeys" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Prefix to printed variables
</p></td></tr><tr><td class="src">-&gt; [(String, String)]</td><td class="doc"><p>List of (key, value) pairs to be printed
</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Format a list of key, value as a shell fragment.
</p></div></div><div class="top"><p class="src"><a name="v:printFinal" class="def">printFinal</a><a href="Ganeti/HTools/CLI.html#printFinal" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Prefix to printed variable
</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Whether output should be machine readable;
 note: if not, there is nothing to print
</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Prints the final <code>OK</code> marker in machine readable output.
</p></div></div><div class="top"><p class="src"><a name="v:setNodeOffline" class="def">setNodeOffline</a> :: [<a href="Ganeti-HTools-Types.html#t:Ndx">Ndx</a>] -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a> -&gt; <a href="Ganeti-HTools-Node.html#t:Node">Node</a><a href="Ganeti/HTools/CLI.html#setNodeOffline" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:setNodeStatus" class="def">setNodeStatus</a> :: <a href="Ganeti-HTools-CLI.html#t:Options">Options</a> -&gt; <a href="Ganeti-HTools-Node.html#t:List">List</a> -&gt; IO <a href="Ganeti-HTools-Node.html#t:List">List</a><a href="Ganeti/HTools/CLI.html#setNodeStatus" class="link">Source</a></p><div class="doc"><p>Set node properties based on command line options.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>