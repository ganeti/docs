<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.hypervisor.hv_kvm.monitor.QmpConnection</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        <a href="ganeti.hypervisor-module.html">Package&nbsp;hypervisor</a> ::
        <a href="ganeti.hypervisor.hv_kvm-module.html">Package&nbsp;hv_kvm</a> ::
        <a href="ganeti.hypervisor.hv_kvm.monitor-module.html">Module&nbsp;monitor</a> ::
        Class&nbsp;QmpConnection
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class QmpConnection</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_ganeti_h_56" name="uml_class_diagram_for_ganeti_h_56">
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#ACTUAL_KEY" title="ganeti.hypervisor.hv_kvm.monitor.QmpConnection.ACTUAL_KEY" alt="" coords="17,127,499,145"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#__init__" title="Instantiates the MonitorSocket object." alt="" coords="17,148,499,167"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#__enter__" title="ganeti.hypervisor.hv_kvm.monitor.QmpConnection.__enter__" alt="" coords="17,167,499,185"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#__exit__" title="ganeti.hypervisor.hv_kvm.monitor.QmpConnection.__exit__" alt="" coords="17,185,499,204"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#connect" title="Connects to the QMP monitor." alt="" coords="17,204,499,223"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#Execute" title="Executes a QMP command and returns the response of the server." alt="" coords="17,223,499,241"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HotAddNic" title="Hot&#45;add a NIC" alt="" coords="17,241,499,260"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HotDelNic" title="Hot&#45;del a NIC" alt="" coords="17,260,499,279"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HotAddDisk" title="Hot&#45;add a disk" alt="" coords="17,279,499,297"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HotDelDisk" title="Hot&#45;del a Disk" alt="" coords="17,297,499,316"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HasPCIDevice" title="Check if a specific device exists or not on a running instance." alt="" coords="17,316,499,335"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#GetFreePCISlot" title="Get the first available PCI slot of a running instance." alt="" coords="17,335,499,353"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#CheckDiskHotAddSupport" title="Check if disk hotplug is possible" alt="" coords="17,353,499,372"/>
<area shape="rect" id="node701" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#CheckNicHotAddSupport" title="Check if NIC hotplug is possible" alt="" coords="17,372,499,391"/>
<area shape="rect" id="node1" href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html" title="Connection to the QEMU Monitor using the QEMU Monitor Protocol (QMP)." alt="" coords="5,102,509,397"/>
<area shape="rect" id="node702" href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#is_connected" title="Return whether there is a connection to the socket or not." alt="" coords="196,39,320,57"/>
<area shape="rect" id="node702" href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#close" title="Closes the socket" alt="" coords="196,57,320,76"/>
<area shape="rect" id="node2" href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html" title="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket" alt="" coords="184,6,331,82"/>
</map>
  <img src="uml_class_diagram_for_ganeti_h_56.gif" alt='' usemap="#uml_class_diagram_for_ganeti_h_56" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>Connection to the QEMU Monitor using the QEMU Monitor Protocol 
  (QMP).</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">monitor_filename</span>)</span><br />
      Instantiates the MonitorSocket object.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__enter__"></a><span class="summary-sig-name">__enter__</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.__enter__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__exit__"></a><span class="summary-sig-name">__exit__</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">exc_type</span>,
        <span class="summary-sig-arg">exc_value</span>,
        <span class="summary-sig-arg">tb</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.__exit__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#connect" class="summary-sig-name">connect</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Connects to the QMP monitor.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.connect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#_ParseMessage" class="summary-sig-name" onclick="show_private();">_ParseMessage</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">buf</span>)</span><br />
      Extract and parse a QMP message from the given buffer.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._ParseMessage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">QmpMessage</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#_Recv" class="summary-sig-name" onclick="show_private();">_Recv</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Receives a message from QMP and decodes the received JSON object.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._Recv">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#_Send" class="summary-sig-name" onclick="show_private();">_Send</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">message</span>)</span><br />
      Encodes and sends a message to KVM using QMP.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._Send">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetSupportedCommands"></a><span class="summary-sig-name">_GetSupportedCommands</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Update the list of supported commands.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._GetSupportedCommands">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#Execute" class="summary-sig-name">Execute</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">command</span>,
        <span class="summary-sig-arg">arguments</span>=<span class="summary-sig-default">None</span>)</span><br />
      Executes a QMP command and returns the response of the server.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.Execute">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#_GetResponse" class="summary-sig-name" onclick="show_private();">_GetResponse</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">command</span>)</span><br />
      Parse the QMP response</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._GetResponse">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HotAddNic" class="summary-sig-name">HotAddNic</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">nic</span>,
        <span class="summary-sig-arg">devid</span>,
        <span class="summary-sig-arg">tapfds</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">vhostfds</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">features</span>=<span class="summary-sig-default">None</span>)</span><br />
      Hot-add a NIC</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HotAddNic">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HotDelNic" class="summary-sig-name">HotDelNic</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">devid</span>)</span><br />
      Hot-del a NIC</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HotDelNic">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HotAddDisk" class="summary-sig-name">HotAddDisk</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">devid</span>,
        <span class="summary-sig-arg">uri</span>)</span><br />
      Hot-add a disk</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HotAddDisk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HotDelDisk" class="summary-sig-name">HotDelDisk</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">devid</span>)</span><br />
      Hot-del a Disk</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HotDelDisk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetPCIDevices"></a><span class="summary-sig-name">_GetPCIDevices</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the devices of the first PCI bus of a running instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._GetPCIDevices">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#HasPCIDevice" class="summary-sig-name">HasPCIDevice</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">device</span>,
        <span class="summary-sig-arg">devid</span>)</span><br />
      Check if a specific device exists or not on a running instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HasPCIDevice">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#GetFreePCISlot" class="summary-sig-name">GetFreePCISlot</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the first available PCI slot of a running instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.GetFreePCISlot">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#CheckDiskHotAddSupport" class="summary-sig-name">CheckDiskHotAddSupport</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Check if disk hotplug is possible</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.CheckDiskHotAddSupport">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#CheckNicHotAddSupport" class="summary-sig-name">CheckNicHotAddSupport</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Check if NIC hotplug is possible</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.CheckNicHotAddSupport">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#_GetFd" class="summary-sig-name" onclick="show_private();">_GetFd</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fd</span>,
        <span class="summary-sig-arg">fdname</span>)</span><br />
      Wrapper around the getfd qmp command</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._GetFd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#_AddFd" class="summary-sig-name" onclick="show_private();">_AddFd</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fd</span>)</span><br />
      Wrapper around add-fd qmp command</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._AddFd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.hypervisor.hv_kvm.monitor.QmpConnection-class.html#_RemoveFdset" class="summary-sig-name" onclick="show_private();">_RemoveFdset</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fdset</span>)</span><br />
      Wrapper around remove-fd qmp command</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._RemoveFdset">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html">MonitorSocket</a></code></b>:
      <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#close">close</a></code>,
      <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#is_connected">is_connected</a></code>
      </p>
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html">MonitorSocket</a></code></b> (private):
      <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#_check_connection" onclick="show_private();">_check_connection</a></code>,
      <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#_check_socket" onclick="show_private();">_check_socket</a></code>,
      <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#_close" onclick="show_private();">_close</a></code>,
      <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#_connect" onclick="show_private();">_connect</a></code>
      </p></div>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_FIRST_MESSAGE_KEY"></a><span class="summary-name">_FIRST_MESSAGE_KEY</span> = <code title="&quot;QMP&quot;">&quot;QMP&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_EVENT_KEY"></a><span class="summary-name">_EVENT_KEY</span> = <code title="&quot;event&quot;">&quot;event&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_ERROR_KEY"></a><span class="summary-name">_ERROR_KEY</span> = <code title="&quot;error&quot;">&quot;error&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_RETURN_KEY"></a><span class="summary-name">_RETURN_KEY</span> = <code title="&quot;return&quot;">&quot;return&quot;</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="ACTUAL_KEY"></a><span class="summary-name">ACTUAL_KEY</span> = <code title="&quot;actual&quot;">&quot;actual&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_ACTUAL_KEY"></a><span class="summary-name">_ACTUAL_KEY</span> = <code title="&quot;actual&quot;">&quot;actual&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_ERROR_CLASS_KEY"></a><span class="summary-name">_ERROR_CLASS_KEY</span> = <code title="&quot;class&quot;">&quot;class&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_ERROR_DESC_KEY"></a><span class="summary-name">_ERROR_DESC_KEY</span> = <code title="&quot;desc&quot;">&quot;desc&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_EXECUTE_KEY"></a><span class="summary-name">_EXECUTE_KEY</span> = <code title="&quot;execute&quot;">&quot;execute&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_ARGUMENTS_KEY"></a><span class="summary-name">_ARGUMENTS_KEY</span> = <code title="&quot;arguments&quot;">&quot;arguments&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_VERSION_KEY"></a><span class="summary-name">_VERSION_KEY</span> = <code title="&quot;version&quot;">&quot;version&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_PACKAGE_KEY"></a><span class="summary-name">_PACKAGE_KEY</span> = <code title="&quot;package&quot;">&quot;package&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_QEMU_KEY"></a><span class="summary-name">_QEMU_KEY</span> = <code title="&quot;qemu&quot;">&quot;qemu&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_CAPABILITIES_COMMAND"></a><span class="summary-name">_CAPABILITIES_COMMAND</span> = <code title="&quot;qmp_capabilities&quot;">&quot;qmp_capabilities&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_QUERY_COMMANDS"></a><span class="summary-name">_QUERY_COMMANDS</span> = <code title="&quot;query-commands&quot;">&quot;query-commands&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_MESSAGE_END_TOKEN"></a><span class="summary-name">_MESSAGE_END_TOKEN</span> = <code title="&quot;\r\n&quot;">&quot;\r\n&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_QEMU_PCI_SLOTS"></a><span class="summary-name">_QEMU_PCI_SLOTS</span> = <code title="32">32</code>
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html">MonitorSocket</a></code></b> (private):
      <code><a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#_SOCKET_TIMEOUT" onclick="show_private();">_SOCKET_TIMEOUT</a></code>
      </p></div>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">monitor_filename</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Instantiates the MonitorSocket object.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>monitor_filename</code></strong> - the filename of the UNIX raw socket on which the monitor (QMP or 
          simple one) is listening</li>
    </ul></dd>
    <dt>Overrides:
        object.__init__
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="connect"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">connect</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.connect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Connects to the QMP monitor.</p>
  <p>Connects to the UNIX socket and makes sure that we can actually send 
  and receive data to the kvm instance via QMP.</p>
  <dl class="fields">
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.HypervisorError-class.html">errors.HypervisorError</a></strong></code> - when there are communication errors</li>
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - when there are data serialization errors</li>
    </ul></dd>
    <dt>Overrides:
        <a href="ganeti.hypervisor.hv_kvm.monitor.MonitorSocket-class.html#connect">MonitorSocket.connect</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="_ParseMessage"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_ParseMessage</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">buf</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._ParseMessage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Extract and parse a QMP message from the given buffer.</p>
  <p>Seeks for a QMP message in the given buf. If found, it parses it and 
  returns it together with the rest of the characters in the buf. If no 
  message is found, returns None and the whole buffer.</p>
  <dl class="fields">
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - when there are data serialization errors</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_Recv"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_Recv</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._Recv">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Receives a message from QMP and decodes the received JSON object.</p>
  <dl class="fields">
    <dt>Returns: QmpMessage</dt>
        <dd>the received message</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.HypervisorError-class.html">errors.HypervisorError</a></strong></code> - when there are communication errors</li>
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - when there are data serialization errors</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_Send"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_Send</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">message</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._Send">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Encodes and sends a message to KVM using QMP.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>message</code></strong> (QmpMessage) - message to send to KVM</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.HypervisorError-class.html">errors.HypervisorError</a></strong></code> - when there are communication errors</li>
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - when there are data serialization errors</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="Execute"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">Execute</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">command</span>,
        <span class="sig-arg">arguments</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.Execute">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Executes a QMP command and returns the response of the server.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>command</code></strong> (str) - the command to execute</li>
        <li><strong class="pname"><code>arguments</code></strong> (dict) - dictionary of arguments to be passed to the command</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary representing the received JSON object</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.HypervisorError-class.html">errors.HypervisorError</a></strong></code> - when there are communication errors</li>
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">errors.ProgrammerError</a></strong></code> - when there are data serialization errors</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetResponse"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetResponse</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">command</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._GetResponse">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Parse the QMP response</p>
  <p>If error key found in the response message raise HypervisorError. 
  Ignore any async event and thus return the response message related to 
  command.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="HotAddNic"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">HotAddNic</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">nic</span>,
        <span class="sig-arg">devid</span>,
        <span class="sig-arg">tapfds</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">vhostfds</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">features</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HotAddNic">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Hot-add a NIC</p>
  <p>First pass the tapfds, then netdev_add and then device_add</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@_ensure_connection</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="HotDelNic"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">HotDelNic</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">devid</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HotDelNic">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Hot-del a NIC</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@_ensure_connection</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="HotAddDisk"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">HotAddDisk</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">disk</span>,
        <span class="sig-arg">devid</span>,
        <span class="sig-arg">uri</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HotAddDisk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Hot-add a disk</p>
  <p>Try opening the device to obtain a fd and pass it with SCM_RIGHTS. 
  This will be omitted in case of userspace access mode (open will fail). 
  Then use blockdev-add and then device_add.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@_ensure_connection</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="HotDelDisk"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">HotDelDisk</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">devid</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HotDelDisk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Hot-del a Disk</p>
  <p>Note that drive_del is not supported yet in qmp and thus should be 
  invoked from HMP.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@_ensure_connection</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="HasPCIDevice"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">HasPCIDevice</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">device</span>,
        <span class="sig-arg">devid</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.HasPCIDevice">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if a specific device exists or not on a running instance.</p>
  <p>It will match the PCI slot of the device and the id currently obtained
  by _GenerateDeviceKVMId().</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@_ensure_connection</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetFreePCISlot"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetFreePCISlot</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.GetFreePCISlot">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the first available PCI slot of a running instance.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@_ensure_connection</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="CheckDiskHotAddSupport"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CheckDiskHotAddSupport</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.CheckDiskHotAddSupport">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if disk hotplug is possible</p>
  <p>Hotplug is *not* supported in case:</p>
  <ul>
    <li>
      fdsend module is missing
    </li>
    <li>
      add-fd and blockdev-add qmp commands are not supported
    </li>
  </ul>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@_ensure_connection</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="CheckNicHotAddSupport"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CheckNicHotAddSupport</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection.CheckNicHotAddSupport">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if NIC hotplug is possible</p>
  <p>Hotplug is *not* supported in case:</p>
  <ul>
    <li>
      fdsend module is missing
    </li>
    <li>
      getfd and netdev_add qmp commands are not supported
    </li>
  </ul>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@_ensure_connection</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetFd"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetFd</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">fd</span>,
        <span class="sig-arg">fdname</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._GetFd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wrapper around the getfd qmp command</p>
  <p>Use fdsend to send an fd to a running process via SCM_RIGHTS and then 
  use the getfd qmp command to name it properly so that it can be used 
  later by NIC hotplugging.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fd</code></strong> (int) - The file descriptor to pass</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.HypervisorError-class.html">errors.HypervisorError</a></strong></code> - If getfd fails for some reason</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_AddFd"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_AddFd</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">fd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._AddFd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wrapper around add-fd qmp command</p>
  <p>Use fdsend to send fd to a running process via SCM_RIGHTS and then 
  add-fd qmp command to add it to an fdset so that it can be used later by 
  disk hotplugging.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fd</code></strong> (int) - The file descriptor to pass</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>The fdset ID that the fd has been added to</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.HypervisorError-class.html">errors.HypervisorError</a></strong></code> - If add-fd fails for some reason</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_RemoveFdset"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RemoveFdset</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">fdset</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.hypervisor.hv_kvm.monitor-pysrc.html#QmpConnection._RemoveFdset">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wrapper around remove-fd qmp command</p>
  <p>Remove the file descriptor previously passed. After qemu has dup'd the
  fd (e.g. during disk hotplug), it can be safely removed.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Mon Aug 22 11:06:19 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
