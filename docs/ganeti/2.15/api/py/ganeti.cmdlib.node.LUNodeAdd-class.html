<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.cmdlib.node.LUNodeAdd</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        <a href="ganeti.cmdlib-module.html">Package&nbsp;cmdlib</a> ::
        <a href="ganeti.cmdlib.node-module.html">Module&nbsp;node</a> ::
        Class&nbsp;LUNodeAdd
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.cmdlib.node.LUNodeAdd-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class LUNodeAdd</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_ganeti_c_98" name="uml_class_diagram_for_ganeti_c_98">
<area shape="rect" id="node255" href="ganeti.cmdlib.node.LUNodeAdd-class.html#HPATH" title="hash(x)" alt="" coords="91,289,436,308"/>
<area shape="rect" id="node255" href="ganeti.cmdlib.node.LUNodeAdd-class.html#HTYPE" title="hash(x)" alt="" coords="91,308,436,327"/>
<area shape="rect" id="node255" href="ganeti.cmdlib.node.LUNodeAdd-class.html#CheckArguments" title="Check syntactic validity for the opcode arguments." alt="" coords="91,329,436,348"/>
<area shape="rect" id="node255" href="ganeti.cmdlib.node.LUNodeAdd-class.html#BuildHooksEnv" title="Build hooks env." alt="" coords="91,348,436,367"/>
<area shape="rect" id="node255" href="ganeti.cmdlib.node.LUNodeAdd-class.html#BuildHooksNodes" title="Build hooks nodes." alt="" coords="91,367,436,385"/>
<area shape="rect" id="node255" href="ganeti.cmdlib.node.LUNodeAdd-class.html#PreparePostHookNodes" title="Extend list of nodes to run the post LU hook." alt="" coords="91,385,436,404"/>
<area shape="rect" id="node255" href="ganeti.cmdlib.node.LUNodeAdd-class.html#CheckPrereq" title="Check prerequisites." alt="" coords="91,404,436,423"/>
<area shape="rect" id="node255" href="ganeti.cmdlib.node.LUNodeAdd-class.html#Exec" title="Adds the new node to the cluster." alt="" coords="91,423,436,441"/>
<area shape="rect" id="node1" href="ganeti.cmdlib.node.LUNodeAdd-class.html" title="Logical unit for adding node to the cluster." alt="" coords="79,265,447,447"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#REQ_BGL" title="ganeti.cmdlib.base.LogicalUnit.REQ_BGL" alt="" coords="17,31,511,49"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#dry_run_result" title="the value (if any) that will be returned to the caller in dry&#45;run mode &#160;(signalled by opcode dry_run parameter)" alt="" coords="17,49,511,68"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#__init__" title="Constructor for LogicalUnit." alt="" coords="17,71,511,89"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#WConfdClient" title="ganeti.cmdlib.base.LogicalUnit.WConfdClient" alt="" coords="17,89,511,108"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#owned_locks" title="Return the list of locks owned by the LU at a given level." alt="" coords="17,108,511,127"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#release_request" title="Return a request to release the specified locks of the given level." alt="" coords="17,127,511,145"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#ExpandNames" title="Expand names for this LU." alt="" coords="17,145,511,164"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#DeclareLocks" title="Declare LU locking needs for a level" alt="" coords="17,164,511,183"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#PrepareRetry" title="Prepare the LU to run again." alt="" coords="17,183,511,201"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#HooksCallBack" title="Notify the LU about the results of its hooks." alt="" coords="17,201,511,220"/>
<area shape="rect" id="node256" href="ganeti.cmdlib.base.LogicalUnit-class.html#AssertReleasedLocks" title="Raise AssertionError if the LU holds some locks of the given level." alt="" coords="17,220,511,239"/>
<area shape="rect" id="node2" href="ganeti.cmdlib.base.LogicalUnit-class.html" title="Logical Unit base class." alt="" coords="5,6,523,245"/>
</map>
  <img src="uml_class_diagram_for_ganeti_c_98.gif" alt='' usemap="#uml_class_diagram_for_ganeti_c_98" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>Logical unit for adding node to the cluster.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.node.LUNodeAdd-class.html#CheckArguments" class="summary-sig-name">CheckArguments</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Check syntactic validity for the opcode arguments.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.CheckArguments">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.node.LUNodeAdd-class.html#BuildHooksEnv" class="summary-sig-name">BuildHooksEnv</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Build hooks env.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.BuildHooksEnv">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple; (list, list)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.node.LUNodeAdd-class.html#BuildHooksNodes" class="summary-sig-name">BuildHooksNodes</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Build hooks nodes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.BuildHooksNodes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.node.LUNodeAdd-class.html#PreparePostHookNodes" class="summary-sig-name">PreparePostHookNodes</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">post_hook_node_uuids</span>)</span><br />
      Extend list of nodes to run the post LU hook.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.PreparePostHookNodes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.node.LUNodeAdd-class.html#CheckPrereq" class="summary-sig-name">CheckPrereq</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Check prerequisites.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.CheckPrereq">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_InitOpenVSwitch"></a><span class="summary-sig-name">_InitOpenVSwitch</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd._InitOpenVSwitch">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.node.LUNodeAdd-class.html#_SshUpdate" class="summary-sig-name" onclick="show_private();">_SshUpdate</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">new_node_uuid</span>,
        <span class="summary-sig-arg">new_node_name</span>,
        <span class="summary-sig-arg">is_master_candidate</span>,
        <span class="summary-sig-arg">is_potential_master_candidate</span>,
        <span class="summary-sig-arg">rpcrunner</span>,
        <span class="summary-sig-arg">readd</span>,
        <span class="summary-sig-arg">feedback_fn</span>)</span><br />
      Update the SSH setup of all nodes after adding a new node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd._SshUpdate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.cmdlib.node.LUNodeAdd-class.html#Exec" class="summary-sig-name">Exec</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">feedback_fn</span>)</span><br />
      Adds the new node to the cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.Exec">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html">base.LogicalUnit</a></code></b>:
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#AssertReleasedLocks">AssertReleasedLocks</a></code>,
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#DeclareLocks">DeclareLocks</a></code>,
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#ExpandNames">ExpandNames</a></code>,
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#HooksCallBack">HooksCallBack</a></code>,
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#PrepareRetry">PrepareRetry</a></code>,
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#WConfdClient">WConfdClient</a></code>,
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#__init__">__init__</a></code>,
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#owned_locks">owned_locks</a></code>,
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#release_request">release_request</a></code>
      </p>
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html">base.LogicalUnit</a></code></b> (private):
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#_ExpandAndLockInstance" onclick="show_private();">_ExpandAndLockInstance</a></code>,
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#_LockInstancesNodes" onclick="show_private();">_LockInstancesNodes</a></code>
      </p></div>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="HPATH"></a><span class="summary-name">HPATH</span> = <code title="&quot;node-add&quot;">&quot;node-add&quot;</code><br />
      hash(x)
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="HTYPE"></a><span class="summary-name">HTYPE</span> = <code title="constants.HTYPE_NODE">constants.HTYPE_NODE</code><br />
      hash(x)
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_NFLAGS"></a><span class="summary-name">_NFLAGS</span> = <code title="[&quot;master_capable&quot;, &quot;vm_capable&quot;]">[&quot;master_capable&quot;, &quot;vm_capable&quot;]</code>
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html">base.LogicalUnit</a></code></b>:
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#REQ_BGL">REQ_BGL</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE VARIABLES ==================== -->
<a name="section-InstanceVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html">base.LogicalUnit</a></code></b>:
      <code><a href="ganeti.cmdlib.base.LogicalUnit-class.html#dry_run_result">dry_run_result</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="CheckArguments"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CheckArguments</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.CheckArguments">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check syntactic validity for the opcode arguments.</p>
  <p>This method is for doing a simple syntactic check and ensure validity 
  of opcode parameters, without any cluster-related checks. While the same 
  can be accomplished in ExpandNames and/or CheckPrereq, doing these 
  separate is better because:</p>
  <ul>
    <li>
      ExpandNames is left as as purely a lock-related function
    </li>
    <li>
      CheckPrereq is run after we have acquired locks (and possible waited 
      for them)
    </li>
  </ul>
  <p>The function is allowed to change the self.op attribute so that later 
  methods can no longer worry about missing parameters.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="ganeti.cmdlib.base.LogicalUnit-class.html#CheckArguments">base.LogicalUnit.CheckArguments</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="BuildHooksEnv"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BuildHooksEnv</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.BuildHooksEnv">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Build hooks env.</p>
  <p>This will run on all nodes before, and on all nodes + the new node 
  after.</p>
  <dl class="fields">
    <dt>Returns: dict</dt>
        <dd>Dictionary containing the environment that will be used for 
          running the hooks for this LU. The keys of the dict must not be 
          prefixed with &quot;GANETI_&quot;--that'll be added by the hooks 
          runner. The hooks runner will extend the environment with 
          additional variables. If no environment should be defined, an 
          empty dictionary should be returned (not <code>None</code>).</dd>
    <dt>Overrides:
        <a href="ganeti.cmdlib.base.LogicalUnit-class.html#BuildHooksEnv">base.LogicalUnit.BuildHooksEnv</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="BuildHooksNodes"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BuildHooksNodes</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.BuildHooksNodes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Build hooks nodes.</p>
  <dl class="fields">
    <dt>Returns: tuple; (list, list)</dt>
        <dd>Tuple containing a list of node UUIDs on which the hook should 
          run before the execution and a list of node UUIDs on which the 
          hook should run after the execution. No nodes should be returned 
          as an empty list (and not None).</dd>
    <dt>Overrides:
        <a href="ganeti.cmdlib.base.LogicalUnit-class.html#BuildHooksNodes">base.LogicalUnit.BuildHooksNodes</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="PreparePostHookNodes"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">PreparePostHookNodes</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">post_hook_node_uuids</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.PreparePostHookNodes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Extend list of nodes to run the post LU hook.</p>
  <p>This method allows LUs to change the list of node UUIDs on which the 
  post hook should run after the LU has been executed but before the post 
  hook is run.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>post_hook_node_uuids</code></strong> - The initial list of node UUIDs to run the post hook on, as 
          returned by <a 
          href="ganeti.cmdlib.base.LogicalUnit-class.html#BuildHooksNodes" 
          class="link">BuildHooksNodes</a>.</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>list of node UUIDs on which the post hook should run. The default
          implementation returns the passed in 
          <code>post_hook_node_uuids</code>, but custom implementations can
          choose to alter the list.</dd>
    <dt>Overrides:
        <a href="ganeti.cmdlib.base.LogicalUnit-class.html#PreparePostHookNodes">base.LogicalUnit.PreparePostHookNodes</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="CheckPrereq"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CheckPrereq</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.CheckPrereq">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check prerequisites.</p>
  <p>This checks:</p>
  <ul>
    <li>
      the new node is not already in the config
    </li>
    <li>
      it is resolvable
    </li>
    <li>
      its parameters (single/dual homed) matches the cluster
    </li>
  </ul>
  <p>Any errors are signaled by raising errors.OpPrereqError.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="ganeti.cmdlib.base.LogicalUnit-class.html#CheckPrereq">base.LogicalUnit.CheckPrereq</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="_SshUpdate"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_SshUpdate</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">new_node_uuid</span>,
        <span class="sig-arg">new_node_name</span>,
        <span class="sig-arg">is_master_candidate</span>,
        <span class="sig-arg">is_potential_master_candidate</span>,
        <span class="sig-arg">rpcrunner</span>,
        <span class="sig-arg">readd</span>,
        <span class="sig-arg">feedback_fn</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd._SshUpdate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Update the SSH setup of all nodes after adding a new node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>readd</code></strong> (boolean) - whether or not this node is readded</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="Exec"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">Exec</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">feedback_fn</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.cmdlib.node-pysrc.html#LUNodeAdd.Exec">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Adds the new node to the cluster.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="ganeti.cmdlib.base.LogicalUnit-class.html#Exec">base.LogicalUnit.Exec</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Mon Aug 22 11:13:14 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
