<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>ganeti-rapi</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="AEN1"
></A
>ganeti-rapi</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN12"
></A
><H2
>Name</H2
>ganeti-rapi&nbsp;--&nbsp;ganeti remote API daemon</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN15"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>ganeti-rapi </B
>  [-d] [-f] [--no-ssl] [-K <TT
CLASS="REPLACEABLE"
><I
>SSL_KEY_FILE</I
></TT
>] [-C <TT
CLASS="REPLACEABLE"
><I
>SSL_CERT_FILE</I
></TT
>]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN25"
></A
><H2
>DESCRIPTION</H2
><P
>      <B
CLASS="COMMAND"
>ganeti-rapi</B
> is the daemon providing a remote
      API for Ganeti clusters.
    </P
><P
>      It is automatically started on the master node, and by default
      it uses SSL encryption. This can be disabled by passing the
      <CODE
CLASS="OPTION"
>--no-ssl</CODE
> option, or alternatively the
      certificate used can be changed via the <CODE
CLASS="OPTION"
>-C</CODE
>
      option and the key via the <CODE
CLASS="OPTION"
>-K</CODE
> option.
    </P
><P
>      The daemon will listen to the "ganeti-rapi" tcp port, as listed in the
      system services database, or to port 5080 by default.
    </P
><P
>      See the <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Ganeti remote API</I
></SPAN
> documentation for
      further information.
    </P
><P
>      Requests are logged to
      <TT
CLASS="FILENAME"
>/usr/local/var/log/ganeti/rapi-daemon.log</TT
>,
      in the same format as for the node and master daemon.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN38"
></A
><H2
>ACCESS CONTROLS</H2
><P
>      All query operations are allowed without authentication. Only
      the modification operations require authentication, in the form
      of basic authentication.
    </P
><P
>      The users and their rights are defined in a file named
      <TT
CLASS="FILENAME"
>rapi_users</TT
>, located in the <TT
CLASS="FILENAME"
>/usr/local/var/lib/ganeti</TT
>
      directory. The users should be listed one per line, in the
      following format:
    </P
><PRE
CLASS="SCREEN"
>username password options</PRE
><P
>      Currently the <TT
CLASS="REPLACEABLE"
><I
>options</I
></TT
> field should
      equal the string <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>write</I
></SPAN
> in order to actually
      give write permission for the given users. Example:
    </P
><PRE
CLASS="SCREEN"
>rclient   secret    write
guest   tespw</PRE
><P
>The first user (<KBD
CLASS="USERINPUT"
>rclient</KBD
>) will have
    read-write rights, whereas the second user does only have read
    (query) rights, and as such is no different than not using
    authentication at all.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN51"
></A
><H2
>REPORTING BUGS</H2
><P
>      Report bugs to <A
HREF="http://code.google.com/p/ganeti/"
TARGET="_top"
>http://code.google.com/p/ganeti/</A
> or contact the
      developers using the ganeti mailing list
      &lt;ganeti@googlegroups.com&gt;.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN55"
></A
><H2
>SEE ALSO</H2
><P
>      Ganeti overview and specifications:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti</SPAN
>(7)</SPAN
> (general overview),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-os-interface</SPAN
>(7)</SPAN
> (guest OS definitions).

    </P
><P
>Ganeti commands:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-cluster</SPAN
>(8)</SPAN
> (cluster-wide commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-job</SPAN
>(8)</SPAN
> (job-related commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-node</SPAN
>(8)</SPAN
> (node-related commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-instance</SPAN
>(8)</SPAN
> (instance commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-os</SPAN
>(8)</SPAN
> (guest OS commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-backup</SPAN
>(8)</SPAN
> (instance import/export commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-debug</SPAN
>(8)</SPAN
> (debug commands).
    </P
><P
>Ganeti daemons:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-watcher</SPAN
>(8)</SPAN
> (automatic instance restarter),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-cleaner</SPAN
>(8)</SPAN
> (job queue cleaner),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-noded</SPAN
>(8)</SPAN
> (node daemon),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-masterd</SPAN
>(8)</SPAN
> (master daemon),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-rapi</SPAN
>(8)</SPAN
> (remote API daemon).
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN102"
></A
><H2
>COPYRIGHT</H2
><P
>      Copyright (C) 2006, 2007, 2008, 2009 Google Inc. Permission is
      granted to copy, distribute and/or modify under the terms of the
      <ACRONYM
CLASS="ACRONYM"
>GNU</ACRONYM
> General Public License as published by the Free Software
      Foundation; either version 2 of the License, or (at your option)
      any later version.
    </P
><P
>      On Debian systems, the complete text of the GNU General Public
      License can be found in /usr/share/common-licenses/GPL.
    </P
></DIV
></BODY
></HTML
>