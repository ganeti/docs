<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>gnt-debug</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="AEN1"
></A
>gnt-debug</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN14"
></A
><H2
>Name</H2
>gnt-debug&nbsp;--&nbsp;debug commands</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN17"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>gnt-debug </B
>  {command} [arguments...]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN22"
></A
><H2
>DESCRIPTION</H2
><P
>      The <B
CLASS="COMMAND"
>gnt-debug</B
> is used for debugging the
      ganeti system.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN26"
></A
><H2
>COMMANDS</H2
><DIV
CLASS="REFSECT2"
><A
NAME="AEN28"
></A
><H3
>ALLOCATOR</H3
><P
><B
CLASS="COMMAND"
>allocator</B
>  [--debug] [--dir <TT
CLASS="REPLACEABLE"
><I
>DIRECTION</I
></TT
>] {--algorithm <TT
CLASS="REPLACEABLE"
><I
>ALLOCATOR</I
></TT
>
        } [--mode <TT
CLASS="REPLACEABLE"
><I
>MODE</I
></TT
>] [--mem <TT
CLASS="REPLACEABLE"
><I
>MEMORY</I
></TT
>] [--disks <TT
CLASS="REPLACEABLE"
><I
>DISKS</I
></TT
>] [--disk-template <TT
CLASS="REPLACEABLE"
><I
>TEMPLATE</I
></TT
>] [--nics <TT
CLASS="REPLACEABLE"
><I
>NICS</I
></TT
>] [--os-type <TT
CLASS="REPLACEABLE"
><I
>OS</I
></TT
>] [--vcpus <TT
CLASS="REPLACEABLE"
><I
>VCPUS</I
></TT
>] [--tags <TT
CLASS="REPLACEABLE"
><I
>TAGS</I
></TT
>] {<TT
CLASS="REPLACEABLE"
><I
>instance</I
></TT
>}</P
><P
>        Executes a test run of the <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>iallocator</I
></SPAN
> framework.
      </P
><P
>        The command will build input for a given iallocator script
        (named with the <CODE
CLASS="OPTION"
>--algorithm</CODE
> option), and
        either show this input data (if
        <TT
CLASS="REPLACEABLE"
><I
>DIRECTION</I
></TT
> is
        <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>in</I
></SPAN
>) or run the iallocator script and show
        its output (if <TT
CLASS="REPLACEABLE"
><I
>DIRECTION</I
></TT
> is
        <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>out</I
></SPAN
>).
      </P
><P
>        If the <TT
CLASS="REPLACEABLE"
><I
>MODE</I
></TT
> is
        <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>allocate</I
></SPAN
>, then an instance definition is
        built from the other arguments and sent to the script,
        otherwise (<TT
CLASS="REPLACEABLE"
><I
>MODE</I
></TT
> is
        <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>relocate</I
></SPAN
>) an existing instance name must
        be passed as the first argument.
      </P
><P
>        This build of ganeti will look for iallocator scripts in the
        following directories: <TT
CLASS="FILENAME"
>@CUSTOM_IALLOCATOR_SEARCH_PATH@</TT
>;
        for more details about this framework, see the HTML or PDF
        documentation.
      </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN70"
></A
><H3
>DELAY</H3
><P
><B
CLASS="COMMAND"
>delay</B
>  [--debug] [--no-master] [-n <TT
CLASS="REPLACEABLE"
><I
>NODE</I
></TT
>...] {<TT
CLASS="REPLACEABLE"
><I
>duration</I
></TT
>}</P
><P
>        Run a test opcode (a sleep) on the master (internally in the
        command) and on selected nodes (via an RPC call). This server
        no other purpose but to execute a test operation.
      </P
><P
>        The <CODE
CLASS="OPTION"
>-n</CODE
> option can be given multiple times to
        select the nodes for the RPC call. By default, the delay will
        also be executed on the master, unless the
        <CODE
CLASS="OPTION"
>--no-master</CODE
> option is passed.
      </P
><P
>        The <TT
CLASS="REPLACEABLE"
><I
>delay</I
></TT
> argument will be
        interpreted as a floating point number.
      </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN86"
></A
><H3
>SUBMIT-JOB</H3
><P
><B
CLASS="COMMAND"
>submit-job</B
>  [--verbose] [--timing-stats] [--job-repeat <CODE
CLASS="OPTION"
>N</CODE
>] [--op-repeat <CODE
CLASS="OPTION"
>N</CODE
>] {opcodes_file...}</P
><P
>        This command builds a list of opcodes from JSON-format files
        and submits for each file a job to the master daemon. It can
        be used to test some options that are not available via the
        command line.
      </P
><P
>        The <CODE
CLASS="OPTION"
>verbose</CODE
> option will job the job IDs of
        the submitted jobs and the progress in waiting for the jobs;
        the <CODE
CLASS="OPTION"
>timing-stats</CODE
> option will show some
        overall statistics with the number of total opcodes and jobs
        submitted, and time time for each stage (submit, exec, total).
      </P
><P
>        The <CODE
CLASS="OPTION"
>job-repeat</CODE
> and <CODE
CLASS="OPTION"
>op-repeat</CODE
>
        options allow to submit multiple copies of the passed
        arguments; the job repeat will cause N copies of each job
        (input file) to be submitted (equivalent to passing the
        arguments N times) while the op repeat will cause each job to
        contain multiple copies of the opcodes (equivalent to each
        file containing N copies of the opcodes).
      </P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN104"
></A
><H2
>REPORTING BUGS</H2
><P
>      Report bugs to <A
HREF="http://code.google.com/p/ganeti/"
TARGET="_top"
>http://code.google.com/p/ganeti/</A
> or contact the
      developers using the ganeti mailing list
      &lt;ganeti@googlegroups.com&gt;.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN108"
></A
><H2
>SEE ALSO</H2
><P
>      Ganeti overview and specifications:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti</SPAN
>(7)</SPAN
> (general overview),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-os-interface</SPAN
>(7)</SPAN
> (guest OS definitions).

    </P
><P
>Ganeti commands:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-cluster</SPAN
>(8)</SPAN
> (cluster-wide commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-job</SPAN
>(8)</SPAN
> (job-related commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-node</SPAN
>(8)</SPAN
> (node-related commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-instance</SPAN
>(8)</SPAN
> (instance commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-os</SPAN
>(8)</SPAN
> (guest OS commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-backup</SPAN
>(8)</SPAN
> (instance import/export commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-debug</SPAN
>(8)</SPAN
> (debug commands).
    </P
><P
>Ganeti daemons:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-watcher</SPAN
>(8)</SPAN
> (automatic instance restarter),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-cleaner</SPAN
>(8)</SPAN
> (job queue cleaner),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-noded</SPAN
>(8)</SPAN
> (node daemon),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-masterd</SPAN
>(8)</SPAN
> (master daemon),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-rapi</SPAN
>(8)</SPAN
> (remote API daemon).
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN155"
></A
><H2
>COPYRIGHT</H2
><P
>      Copyright (C) 2006, 2007, 2008, 2009 Google Inc. Permission is
      granted to copy, distribute and/or modify under the terms of the
      <ACRONYM
CLASS="ACRONYM"
>GNU</ACRONYM
> General Public License as published by the Free Software
      Foundation; either version 2 of the License, or (at your option)
      any later version.
    </P
><P
>      On Debian systems, the complete text of the GNU General Public
      License can be found in /usr/share/common-licenses/GPL.
    </P
></DIV
></BODY
></HTML
>