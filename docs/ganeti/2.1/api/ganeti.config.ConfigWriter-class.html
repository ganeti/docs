<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.config.ConfigWriter</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        <a href="ganeti.config-module.html">Module&nbsp;config</a> ::
        Class&nbsp;ConfigWriter
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.config.ConfigWriter-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class ConfigWriter</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter">source&nbsp;code</a></span></p>
<p>The interface to the cluster configuration.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__init__"></a><span class="summary-sig-name">__init__</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cfg_file</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">offline</span>=<span class="summary-sig-default">False</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GenerateOneMAC"></a><span class="summary-sig-name">_GenerateOneMAC</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Generate one mac address</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._GenerateOneMAC">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GenerateMAC" class="summary-sig-name">GenerateMAC</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Generate a MAC for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GenerateMAC">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#ReserveMAC" class="summary-sig-name">ReserveMAC</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">mac</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Reserve a MAC for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ReserveMAC">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#ReserveLV" class="summary-sig-name">ReserveLV</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">lv_name</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Reserve an VG/LV pair for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ReserveLV">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GenerateDRBDSecret" class="summary-sig-name">GenerateDRBDSecret</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Generate a DRBD secret.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GenerateDRBDSecret">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_AllLVs"></a><span class="summary-sig-name">_AllLVs</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Compute the list of all LVs.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._AllLVs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">set</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_AllIDs" class="summary-sig-name" onclick="show_private();">_AllIDs</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">include_temporary</span>)</span><br />
      Compute the list of all UUIDs and names we have.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._AllIDs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_GenerateUniqueID" class="summary-sig-name" onclick="show_private();">_GenerateUniqueID</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Generate an unique UUID.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._GenerateUniqueID">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GenerateUniqueID" class="summary-sig-name">GenerateUniqueID</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Generate an unique ID.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GenerateUniqueID">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_AllMACs" class="summary-sig-name" onclick="show_private();">_AllMACs</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return all MACs present in the config.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._AllMACs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_AllDRBDSecrets" class="summary-sig-name" onclick="show_private();">_AllDRBDSecrets</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return all DRBD secrets present in the config.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._AllDRBDSecrets">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_CheckDiskIDs" class="summary-sig-name" onclick="show_private();">_CheckDiskIDs</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">l_ids</span>,
        <span class="summary-sig-arg">p_ids</span>)</span><br />
      Compute duplicate disk IDs</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._CheckDiskIDs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedVerifyConfig" class="summary-sig-name" onclick="show_private();">_UnlockedVerifyConfig</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Verify function.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedVerifyConfig">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#VerifyConfig" class="summary-sig-name">VerifyConfig</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Verify function.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.VerifyConfig">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedSetDiskID" class="summary-sig-name" onclick="show_private();">_UnlockedSetDiskID</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">node_name</span>)</span><br />
      Convert the unique ID to the ID needed on the target nodes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedSetDiskID">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#SetDiskID" class="summary-sig-name">SetDiskID</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">node_name</span>)</span><br />
      Convert the unique ID to the ID needed on the target nodes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.SetDiskID">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#AddTcpUdpPort" class="summary-sig-name">AddTcpUdpPort</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">port</span>)</span><br />
      Adds a new port to the available port pool.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AddTcpUdpPort">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetPortList" class="summary-sig-name">GetPortList</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Returns a copy of the current port list.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetPortList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#AllocatePort" class="summary-sig-name">AllocatePort</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Allocate a port.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AllocatePort">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">(dict, list)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedComputeDRBDMap" class="summary-sig-name" onclick="show_private();">_UnlockedComputeDRBDMap</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Compute the used DRBD minor/nodes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedComputeDRBDMap">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#ComputeDRBDMap" class="summary-sig-name">ComputeDRBDMap</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Compute the used DRBD minor/nodes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ComputeDRBDMap">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#AllocateDRBDMinor" class="summary-sig-name">AllocateDRBDMinor</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">nodes</span>,
        <span class="summary-sig-arg">instance</span>)</span><br />
      Allocate a drbd minor.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AllocateDRBDMinor">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedReleaseDRBDMinors" class="summary-sig-name" onclick="show_private();">_UnlockedReleaseDRBDMinors</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">instance</span>)</span><br />
      Release temporary drbd minors allocated for a given instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedReleaseDRBDMinors">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#ReleaseDRBDMinors" class="summary-sig-name">ReleaseDRBDMinors</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">instance</span>)</span><br />
      Release temporary drbd minors allocated for a given instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ReleaseDRBDMinors">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetConfigVersion" class="summary-sig-name">GetConfigVersion</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the configuration version.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetConfigVersion">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetClusterName" class="summary-sig-name">GetClusterName</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get cluster name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetClusterName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetMasterNode" class="summary-sig-name">GetMasterNode</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the hostname of the master node for this cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMasterNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetMasterIP" class="summary-sig-name">GetMasterIP</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the IP of the master node for this cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMasterIP">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetMasterNetdev" class="summary-sig-name">GetMasterNetdev</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the master network device for this cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMasterNetdev">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetFileStorageDir" class="summary-sig-name">GetFileStorageDir</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the file storage dir for this cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetFileStorageDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetHypervisorType" class="summary-sig-name">GetHypervisorType</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the hypervisor type for this cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetHypervisorType">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetHostKey" class="summary-sig-name">GetHostKey</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return the rsa hostkey from the config.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetHostKey">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#AddInstance" class="summary-sig-name">AddInstance</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Add an instance to the config.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AddInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_EnsureUUID" class="summary-sig-name" onclick="show_private();">_EnsureUUID</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">item</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Ensures a given object has a valid UUID.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._EnsureUUID">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_SetInstanceStatus"></a><span class="summary-sig-name">_SetInstanceStatus</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">status</span>)</span><br />
      Set the instance's status to a given value.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._SetInstanceStatus">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#MarkInstanceUp" class="summary-sig-name">MarkInstanceUp</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">instance_name</span>)</span><br />
      Mark the instance status to up in the config.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.MarkInstanceUp">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#RemoveInstance" class="summary-sig-name">RemoveInstance</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">instance_name</span>)</span><br />
      Remove the instance from the configuration.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.RemoveInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#RenameInstance" class="summary-sig-name">RenameInstance</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">old_name</span>,
        <span class="summary-sig-arg">new_name</span>)</span><br />
      Rename an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.RenameInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#MarkInstanceDown" class="summary-sig-name">MarkInstanceDown</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">instance_name</span>)</span><br />
      Mark the status of an instance to down in the configuration.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.MarkInstanceDown">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedGetInstanceList" class="summary-sig-name" onclick="show_private();">_UnlockedGetInstanceList</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the list of instances.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetInstanceList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetInstanceList" class="summary-sig-name">GetInstanceList</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the list of instances.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetInstanceList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#ExpandInstanceName" class="summary-sig-name">ExpandInstanceName</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">short_name</span>)</span><br />
      Attempt to expand an incomplete instance name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ExpandInstanceName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedGetInstanceInfo" class="summary-sig-name" onclick="show_private();">_UnlockedGetInstanceInfo</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">instance_name</span>)</span><br />
      Returns information about an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetInstanceInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.objects.Instance-class.html" 
      class="link">objects.Instance</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetInstanceInfo" class="summary-sig-name">GetInstanceInfo</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">instance_name</span>)</span><br />
      Returns information about an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetInstanceInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetAllInstancesInfo" class="summary-sig-name">GetAllInstancesInfo</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the configuration of all instances.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetAllInstancesInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#AddNode" class="summary-sig-name">AddNode</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">node</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Add a node to the configuration.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AddNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#RemoveNode" class="summary-sig-name">RemoveNode</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">node_name</span>)</span><br />
      Remove a node from the configuration.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.RemoveNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#ExpandNodeName" class="summary-sig-name">ExpandNodeName</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">short_name</span>)</span><br />
      Attempt to expand an incomplete instance name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ExpandNodeName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.objects.Node-class.html" 
      class="link">objects.Node</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedGetNodeInfo" class="summary-sig-name" onclick="show_private();">_UnlockedGetNodeInfo</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">node_name</span>)</span><br />
      Get the configuration of a node, as stored in the config.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetNodeInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.objects.Node-class.html" 
      class="link">objects.Node</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetNodeInfo" class="summary-sig-name">GetNodeInfo</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">node_name</span>)</span><br />
      Get the configuration of a node, as stored in the config.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetNodeInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedGetNodeList" class="summary-sig-name" onclick="show_private();">_UnlockedGetNodeList</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return the list of nodes which are in the configuration.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetNodeList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetNodeList" class="summary-sig-name">GetNodeList</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return the list of nodes which are in the configuration.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetNodeList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_UnlockedGetOnlineNodeList"></a><span class="summary-sig-name">_UnlockedGetOnlineNodeList</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Return the list of nodes which are online.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetOnlineNodeList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetOnlineNodeList" class="summary-sig-name">GetOnlineNodeList</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return the list of nodes which are online.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetOnlineNodeList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetAllNodesInfo" class="summary-sig-name">GetAllNodesInfo</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get the configuration of all nodes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetAllNodesInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedGetMasterCandidateStats" class="summary-sig-name" onclick="show_private();">_UnlockedGetMasterCandidateStats</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">exceptions</span>=<span class="summary-sig-default">None</span>)</span><br />
      Get the number of current and maximum desired and possible 
      candidates.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetMasterCandidateStats">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetMasterCandidateStats" class="summary-sig-name">GetMasterCandidateStats</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">exceptions</span>=<span class="summary-sig-default">None</span>)</span><br />
      Get the number of current and maximum possible candidates.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMasterCandidateStats">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#MaintainCandidatePool" class="summary-sig-name">MaintainCandidatePool</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">exceptions</span>)</span><br />
      Try to grow the candidate pool to the desired size.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.MaintainCandidatePool">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_BumpSerialNo"></a><span class="summary-sig-name">_BumpSerialNo</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Bump up the serial number of the config.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._BumpSerialNo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_AllUUIDObjects"></a><span class="summary-sig-name">_AllUUIDObjects</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Returns all objects with uuid attributes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._AllUUIDObjects">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_OpenConfig"></a><span class="summary-sig-name">_OpenConfig</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Read the config data from disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._OpenConfig">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UpgradeConfig" class="summary-sig-name" onclick="show_private();">_UpgradeConfig</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Run upgrade steps that cannot be done purely in the objects.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UpgradeConfig">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_DistributeConfig" class="summary-sig-name" onclick="show_private();">_DistributeConfig</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">feedback_fn</span>)</span><br />
      Distribute the configuration to the other nodes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._DistributeConfig">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_WriteConfig"></a><span class="summary-sig-name">_WriteConfig</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">destination</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">feedback_fn</span>=<span class="summary-sig-default">None</span>)</span><br />
      Write the configuration data to persistent storage.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._WriteConfig">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#_UnlockedGetSsconfValues" class="summary-sig-name" onclick="show_private();">_UnlockedGetSsconfValues</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return the values needed by ssconf.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetSsconfValues">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetVGName" class="summary-sig-name">GetVGName</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return the volume group name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetVGName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#SetVGName" class="summary-sig-name">SetVGName</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">vg_name</span>)</span><br />
      Set the volume group name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.SetVGName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetMACPrefix" class="summary-sig-name">GetMACPrefix</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Return the mac prefix.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMACPrefix">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.objects.Cluster-class.html" 
      class="link">objects.Cluster</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#GetClusterInfo" class="summary-sig-name">GetClusterInfo</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Returns information about the cluster</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetClusterInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#Update" class="summary-sig-name">Update</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">target</span>,
        <span class="summary-sig-arg">feedback_fn</span>)</span><br />
      Notify function to be called after updates.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.Update">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.config.ConfigWriter-class.html#DropECReservations" class="summary-sig-name">DropECReservations</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ec_id</span>)</span><br />
      Drop per-execution-context reservations</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.DropECReservations">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== STATIC METHODS ==================== -->
<a name="section-StaticMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Static Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-StaticMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="IsCluster"></a><span class="summary-sig-name">IsCluster</span>()</span><br />
      Check if the cluster is configured.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.IsCluster">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE VARIABLES ==================== -->
<a name="section-InstanceVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_all_rms"></a><span class="summary-name">_all_rms</span><br />
      a list of all temporary reservation managers
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_temporary_lvs"></a><span class="summary-name">_temporary_lvs</span><br />
      reservation manager for temporary LVs
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="GenerateMAC"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenerateMAC</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GenerateMAC">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generate a MAC for an instance.</p>
  <p>This should check the current instances for duplicates.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ReserveMAC"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ReserveMAC</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">mac</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ReserveMAC">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Reserve a MAC for an instance.</p>
  <p>This only checks instances managed by this cluster, it does not check 
  for potential collisions elsewhere.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ReserveLV"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ReserveLV</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">lv_name</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ReserveLV">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Reserve an VG/LV pair for an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lv_name</code></strong> (string) - the logical volume name to reserve</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GenerateDRBDSecret"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenerateDRBDSecret</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GenerateDRBDSecret">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generate a DRBD secret.</p>
  <p>This checks the current disks for duplicates.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_AllIDs"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_AllIDs</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">include_temporary</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._AllIDs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute the list of all UUIDs and names we have.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>include_temporary</code></strong> (boolean) - whether to include the _temporary_ids set</li>
    </ul></dd>
    <dt>Returns: set</dt>
        <dd>a set of IDs</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GenerateUniqueID"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GenerateUniqueID</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._GenerateUniqueID">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generate an unique UUID.</p>
  <p>This checks the current node, instances and disk names for 
  duplicates.</p>
  <dl class="fields">
    <dt>Returns: string</dt>
        <dd>the unique id</dd>
  </dl>
</td></tr></table>
</div>
<a name="GenerateUniqueID"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenerateUniqueID</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GenerateUniqueID">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generate an unique ID.</p>
  <p>This is just a wrapper over the unlocked version.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>ec_id</code></strong> (string) - unique id for the job to reserve the id to</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_AllMACs"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_AllMACs</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._AllMACs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return all MACs present in the config.</p>
  <dl class="fields">
    <dt>Returns: list</dt>
        <dd>the list of all MACs</dd>
  </dl>
</td></tr></table>
</div>
<a name="_AllDRBDSecrets"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_AllDRBDSecrets</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._AllDRBDSecrets">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return all DRBD secrets present in the config.</p>
  <dl class="fields">
    <dt>Returns: list</dt>
        <dd>the list of all DRBD secrets</dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckDiskIDs"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckDiskIDs</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">disk</span>,
        <span class="sig-arg">l_ids</span>,
        <span class="sig-arg">p_ids</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._CheckDiskIDs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute duplicate disk IDs</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk at which to start searching</li>
        <li><strong class="pname"><code>l_ids</code></strong> (list) - list of current logical ids</li>
        <li><strong class="pname"><code>p_ids</code></strong> (list) - list of current physical ids</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>a list of error messages</dd>
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedVerifyConfig"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedVerifyConfig</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedVerifyConfig">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verify function.</p>
  <dl class="fields">
    <dt>Returns: list</dt>
        <dd>a list of error messages; a non-empty list signifies 
          configuration errors</dd>
  </dl>
</td></tr></table>
</div>
<a name="VerifyConfig"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">VerifyConfig</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.VerifyConfig">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verify function.</p>
  <p>This is just a wrapper over <a 
  href="ganeti.config.ConfigWriter-class.html#_UnlockedVerifyConfig" 
  class="link" onclick="show_private();">_UnlockedVerifyConfig</a>.</p>
  <dl class="fields">
    <dt>Returns: list</dt>
        <dd>a list of error messages; a non-empty list signifies 
          configuration errors</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedSetDiskID"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedSetDiskID</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">disk</span>,
        <span class="sig-arg">node_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedSetDiskID">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Convert the unique ID to the ID needed on the target nodes.</p>
  <p>This is used only for drbd, which needs ip/port configuration.</p>
  <p>The routine descends down and updates its children also, because this 
  helps when the only the top device is passed to the remote node.</p>
  <p>This function is for internal use, when the config lock is already 
  held.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="SetDiskID"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SetDiskID</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">disk</span>,
        <span class="sig-arg">node_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.SetDiskID">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Convert the unique ID to the ID needed on the target nodes.</p>
  <p>This is used only for drbd, which needs ip/port configuration.</p>
  <p>The routine descends down and updates its children also, because this 
  helps when the only the top device is passed to the remote node.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AddTcpUdpPort"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddTcpUdpPort</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">port</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AddTcpUdpPort">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Adds a new port to the available port pool.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetPortList"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetPortList</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetPortList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a copy of the current port list.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AllocatePort"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AllocatePort</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AllocatePort">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Allocate a port.</p>
  <p>The port will be taken from the available port pool or from the 
  default port range (and in this case we increase highest_used_port).</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedComputeDRBDMap"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedComputeDRBDMap</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedComputeDRBDMap">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute the used DRBD minor/nodes.</p>
  <dl class="fields">
    <dt>Returns: (dict, list)</dt>
        <dd>dictionary of node_name: dict of minor: instance_name; the 
          returned dict will have all the nodes in it (even if with an 
          empty list), and a list of duplicates; if the duplicates list is 
          not empty, the configuration is corrupted and its caller should 
          raise an exception</dd>
  </dl>
</td></tr></table>
</div>
<a name="ComputeDRBDMap"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ComputeDRBDMap</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ComputeDRBDMap">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute the used DRBD minor/nodes.</p>
  <p>This is just a wrapper over <a 
  href="ganeti.config.ConfigWriter-class.html#_UnlockedComputeDRBDMap" 
  class="link" onclick="show_private();">_UnlockedComputeDRBDMap</a>.</p>
  <dl class="fields">
    <dt>Returns:</dt>
        <dd>dictionary of node_name: dict of minor: instance_name; the 
          returned dict will have all the nodes in it (even if with an 
          empty list).</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AllocateDRBDMinor"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AllocateDRBDMinor</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">nodes</span>,
        <span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AllocateDRBDMinor">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Allocate a drbd minor.</p>
  <p>The free minor will be automatically computed from the existing 
  devices. A node can be given multiple times in order to allocate multiple
  minors. The result is the list of minors, in the same order as the passed
  nodes.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (string) - the instance for which we allocate minors</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedReleaseDRBDMinors"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedReleaseDRBDMinors</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedReleaseDRBDMinors">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Release temporary drbd minors allocated for a given instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (string) - the instance for which temporary minors should be released</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ReleaseDRBDMinors"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ReleaseDRBDMinors</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ReleaseDRBDMinors">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Release temporary drbd minors allocated for a given instance.</p>
  <p>This should be called on the error paths, on the success paths it's 
  automatically called by the ConfigWriter add and update functions.</p>
  <p>This function is just a wrapper over <a 
  href="ganeti.config.ConfigWriter-class.html#_UnlockedReleaseDRBDMinors" 
  class="link" 
  onclick="show_private();">_UnlockedReleaseDRBDMinors</a>.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (string) - the instance for which temporary minors should be released</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetConfigVersion"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetConfigVersion</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetConfigVersion">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the configuration version.</p>
  <dl class="fields">
    <dt>Returns:</dt>
        <dd>Config version</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetClusterName"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetClusterName</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetClusterName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get cluster name.</p>
  <dl class="fields">
    <dt>Returns:</dt>
        <dd>Cluster name</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetMasterNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetMasterNode</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMasterNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the hostname of the master node for this cluster.</p>
  <dl class="fields">
    <dt>Returns:</dt>
        <dd>Master hostname</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetMasterIP"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetMasterIP</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMasterIP">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the IP of the master node for this cluster.</p>
  <dl class="fields">
    <dt>Returns:</dt>
        <dd>Master IP</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetMasterNetdev"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetMasterNetdev</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMasterNetdev">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the master network device for this cluster.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetFileStorageDir"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetFileStorageDir</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetFileStorageDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the file storage dir for this cluster.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetHypervisorType"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetHypervisorType</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetHypervisorType">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the hypervisor type for this cluster.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetHostKey"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetHostKey</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetHostKey">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the rsa hostkey from the config.</p>
  <dl class="fields">
    <dt>Returns: string</dt>
        <dd>the rsa hostkey</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AddInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddInstance</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AddInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Add an instance to the config.</p>
  <p>This should be used after creating a new instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance object</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_EnsureUUID"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_EnsureUUID</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">item</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._EnsureUUID">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Ensures a given object has a valid UUID.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>item</code></strong> - the instance or node to be checked</li>
        <li><strong class="pname"><code>ec_id</code></strong> - the execution context id for the uuid reservation</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="MarkInstanceUp"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MarkInstanceUp</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">instance_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.MarkInstanceUp">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Mark the instance status to up in the config.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveInstance</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">instance_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.RemoveInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove the instance from the configuration.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RenameInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RenameInstance</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">old_name</span>,
        <span class="sig-arg">new_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.RenameInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Rename an instance.</p>
  <p>This needs to be done in ConfigWriter and not by RemoveInstance 
  combined with AddInstance as only we can guarantee an atomic rename.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="MarkInstanceDown"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MarkInstanceDown</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">instance_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.MarkInstanceDown">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Mark the status of an instance to down in the configuration.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedGetInstanceList"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedGetInstanceList</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetInstanceList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the list of instances.</p>
  <p>This function is for internal use, when the config lock is already 
  held.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceList"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceList</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetInstanceList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the list of instances.</p>
  <dl class="fields">
    <dt>Returns:</dt>
        <dd>array of instances, ex. ['instance2.example.com', 
          'instance1.example.com']</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ExpandInstanceName"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ExpandInstanceName</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">short_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ExpandInstanceName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Attempt to expand an incomplete instance name.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedGetInstanceInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedGetInstanceInfo</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">instance_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetInstanceInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns information about an instance.</p>
  <p>This function is for internal use, when the config lock is already 
  held.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceInfo</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">instance_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetInstanceInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns information about an instance.</p>
  <p>It takes the information from the configuration file. Other 
  information of an instance are taken from the live systems.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance_name</code></strong> - name of the instance, e.g. <i>instance1.example.com</i></li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.objects.Instance-class.html" 
      class="link">objects.Instance</a></dt>
        <dd>the instance object</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetAllInstancesInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetAllInstancesInfo</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetAllInstancesInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the configuration of all instances.</p>
  <dl class="fields">
    <dt>Returns: dict</dt>
        <dd>dict of (instance, instance_info), where instance_info is what 
          would GetInstanceInfo return for the node</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AddNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddNode</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">node</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.AddNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Add a node to the configuration.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node</code></strong> (<a href="ganeti.objects.Node-class.html" 
          class="link">objects.Node</a>) - a Node instance</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveNode</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">node_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.RemoveNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove a node from the configuration.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ExpandNodeName"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ExpandNodeName</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">short_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.ExpandNodeName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Attempt to expand an incomplete instance name.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedGetNodeInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedGetNodeInfo</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">node_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetNodeInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the configuration of a node, as stored in the config.</p>
  <p>This function is for internal use, when the config lock is already 
  held.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_name</code></strong> - the node name, e.g. <i>node1.example.com</i></li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.objects.Node-class.html" 
      class="link">objects.Node</a></dt>
        <dd>the node object</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetNodeInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetNodeInfo</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">node_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetNodeInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the configuration of a node, as stored in the config.</p>
  <p>This is just a locked wrapper over <a 
  href="ganeti.config.ConfigWriter-class.html#_UnlockedGetNodeInfo" 
  class="link" onclick="show_private();">_UnlockedGetNodeInfo</a>.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_name</code></strong> - the node name, e.g. <i>node1.example.com</i></li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.objects.Node-class.html" 
      class="link">objects.Node</a></dt>
        <dd>the node object</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedGetNodeList"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedGetNodeList</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetNodeList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the list of nodes which are in the configuration.</p>
  <p>This function is for internal use, when the config lock is already 
  held.</p>
  <dl class="fields">
    <dt>Returns: list</dt>
  </dl>
</td></tr></table>
</div>
<a name="GetNodeList"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetNodeList</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetNodeList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the list of nodes which are in the configuration.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetOnlineNodeList"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetOnlineNodeList</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetOnlineNodeList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the list of nodes which are online.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetAllNodesInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetAllNodesInfo</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetAllNodesInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the configuration of all nodes.</p>
  <dl class="fields">
    <dt>Returns: dict</dt>
        <dd>dict of (node, node_info), where node_info is what would 
          GetNodeInfo return for the node</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedGetMasterCandidateStats"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedGetMasterCandidateStats</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">exceptions</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetMasterCandidateStats">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the number of current and maximum desired and possible 
  candidates.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>exceptions</code></strong> (list) - if passed, list of nodes that should be ignored</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>tuple of (current, desired and possible, possible)</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetMasterCandidateStats"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetMasterCandidateStats</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">exceptions</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMasterCandidateStats">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the number of current and maximum possible candidates.</p>
  <p>This is just a wrapper over <a 
  href="ganeti.config.ConfigWriter-class.html#_UnlockedGetMasterCandidateStats"
  class="link" 
  onclick="show_private();">_UnlockedGetMasterCandidateStats</a>.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>exceptions</code></strong> (list) - if passed, list of nodes that should be ignored</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>tuple of (current, max)</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="MaintainCandidatePool"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MaintainCandidatePool</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">exceptions</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.MaintainCandidatePool">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Try to grow the candidate pool to the desired size.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>exceptions</code></strong> (list) - if passed, list of nodes that should be ignored</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>list with the adjusted nodes (<a 
          href="ganeti.objects.Node-class.html" 
          class="link">objects.Node</a> instances)</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_UpgradeConfig"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UpgradeConfig</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UpgradeConfig">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Run upgrade steps that cannot be done purely in the objects.</p>
  <p>This is because some data elements need uniqueness across the whole 
  configuration, etc.</p>
  <dl class="fields">
  </dl>
<div class="fields">      <p><strong>Warning:</strong>
        this function will call <a 
        href="ganeti.config.ConfigWriter-class.html#_WriteConfig" 
        class="link" onclick="show_private();">_WriteConfig()</a>, so it 
        needs to either be called with the lock held or from a safe place 
        (the constructor)
      </p>
</div></td></tr></table>
</div>
<a name="_DistributeConfig"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_DistributeConfig</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">feedback_fn</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._DistributeConfig">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Distribute the configuration to the other nodes.</p>
  <p>Currently, this only copies the configuration file. In the future, it 
  could be used to encapsulate the 2/3-phase update mechanism.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_UnlockedGetSsconfValues"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_UnlockedGetSsconfValues</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter._UnlockedGetSsconfValues">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the values needed by ssconf.</p>
  <dl class="fields">
    <dt>Returns: dict</dt>
        <dd>a dictionary with keys the ssconf names and values their 
          associated value</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetVGName"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetVGName</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetVGName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the volume group name.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="SetVGName"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SetVGName</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">vg_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.SetVGName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set the volume group name.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetMACPrefix"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetMACPrefix</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetMACPrefix">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the mac prefix.</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetClusterInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetClusterInfo</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.GetClusterInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns information about the cluster</p>
  <dl class="fields">
    <dt>Returns: <a href="ganeti.objects.Cluster-class.html" 
      class="link">objects.Cluster</a></dt>
        <dd>the cluster object</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock, shared= 1)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="Update"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">Update</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">target</span>,
        <span class="sig-arg">feedback_fn</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.Update">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Notify function to be called after updates.</p>
  <p>This function must be called when an object (as returned by 
  GetInstanceInfo, GetNodeInfo, GetCluster) has been updated and the caller
  wants the modifications saved to the backing store. Note that all 
  modified objects will be saved, but the target argument is the one the 
  caller wants to ensure that it's saved.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>target</code></strong> - an instance of either <a href="ganeti.objects.Cluster-class.html"
          class="link">objects.Cluster</a>, <a 
          href="ganeti.objects.Node-class.html" 
          class="link">objects.Node</a> or <a 
          href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a> which is existing in the 
          cluster</li>
        <li><strong class="pname"><code>feedback_fn</code></strong> - Callable feedback function</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="DropECReservations"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DropECReservations</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ec_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.config-pysrc.html#ConfigWriter.DropECReservations">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Drop per-execution-context reservations</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@locking.ssynchronized(_config_lock)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu Dec  9 16:11:53 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
