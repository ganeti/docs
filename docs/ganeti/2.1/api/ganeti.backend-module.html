<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.backend</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        Module&nbsp;backend
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.backend-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module backend</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.backend-pysrc.html">source&nbsp;code</a></span></p>
<p>Functions used by the node daemon</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend.RPCFail-class.html" class="summary-name">RPCFail</a><br />
      Class denoting RPC failure.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend.HooksRunner-class.html" class="summary-name">HooksRunner</a><br />
      Hook runner.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend.IAllocatorRunner-class.html" class="summary-name">IAllocatorRunner</a><br />
      IAllocator runner.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend.DevCacheManager-class.html" class="summary-name">DevCacheManager</a><br />
      Simple class for managing a cache of block device information.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_Fail" class="summary-sig-name" onclick="show_private();">_Fail</a>(<span class="summary-sig-arg">msg</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Log an error and the raise an RPCFail exception.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_Fail">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.ssconf.SimpleStore-class.html" 
      class="link">ssconf.SimpleStore</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetConfig" class="summary-sig-name" onclick="show_private();">_GetConfig</a>()</span><br />
      Simple wrapper to return a SimpleStore.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetConfig">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.ssh.SshRunner-class.html" 
      class="link">ssh.SshRunner</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetSshRunner" class="summary-sig-name" onclick="show_private();">_GetSshRunner</a>(<span class="summary-sig-arg">cluster_name</span>)</span><br />
      Simple wrapper to return an SshRunner.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetSshRunner">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_Decompress" class="summary-sig-name" onclick="show_private();">_Decompress</a>(<span class="summary-sig-arg">data</span>)</span><br />
      Unpacks data compressed by the RPC client.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_Decompress">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_CleanDirectory" class="summary-sig-name" onclick="show_private();">_CleanDirectory</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">exclude</span>=<span class="summary-sig-default">None</span>)</span><br />
      Removes all regular files in a directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CleanDirectory">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_BuildUploadFileList" class="summary-sig-name" onclick="show_private();">_BuildUploadFileList</a>()</span><br />
      Build the list of allowed upload files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_BuildUploadFileList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#JobQueuePurge" class="summary-sig-name">JobQueuePurge</a>()</span><br />
      Removes job queue files and archived jobs.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueuePurge">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetMasterInfo" class="summary-sig-name">GetMasterInfo</a>()</span><br />
      Returns master information.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetMasterInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#StartMaster" class="summary-sig-name">StartMaster</a>(<span class="summary-sig-arg">start_daemons</span>,
        <span class="summary-sig-arg">no_voting</span>)</span><br />
      Activate local node as master node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#StartMaster">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#StopMaster" class="summary-sig-name">StopMaster</a>(<span class="summary-sig-arg">stop_daemons</span>)</span><br />
      Deactivate this node as master.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#StopMaster">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#AddNode" class="summary-sig-name">AddNode</a>(<span class="summary-sig-arg">dsa</span>,
        <span class="summary-sig-arg">dsapub</span>,
        <span class="summary-sig-arg">rsa</span>,
        <span class="summary-sig-arg">rsapub</span>,
        <span class="summary-sig-arg">sshkey</span>,
        <span class="summary-sig-arg">sshpub</span>)</span><br />
      Joins this node to the cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#AddNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#LeaveCluster" class="summary-sig-name">LeaveCluster</a>(<span class="summary-sig-arg">modify_ssh_setup</span>)</span><br />
      Cleans up and remove the current node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#LeaveCluster">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code>dict</code></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetNodeInfo" class="summary-sig-name">GetNodeInfo</a>(<span class="summary-sig-arg">vgname</span>,
        <span class="summary-sig-arg">hypervisor_type</span>)</span><br />
      Gives back a hash with different information about the node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetNodeInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#VerifyNode" class="summary-sig-name">VerifyNode</a>(<span class="summary-sig-arg">what</span>,
        <span class="summary-sig-arg">cluster_name</span>)</span><br />
      Verify the status of the local node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#VerifyNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetVolumeList" class="summary-sig-name">GetVolumeList</a>(<span class="summary-sig-arg">vg_name</span>)</span><br />
      Compute list of logical volumes and their size.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetVolumeList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ListVolumeGroups" class="summary-sig-name">ListVolumeGroups</a>()</span><br />
      List the volume groups and their size.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ListVolumeGroups">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#NodeVolumes" class="summary-sig-name">NodeVolumes</a>()</span><br />
      List all volumes on this node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#NodeVolumes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BridgesExist" class="summary-sig-name">BridgesExist</a>(<span class="summary-sig-arg">bridges_list</span>)</span><br />
      Check if a list of bridges exist on the current node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BridgesExist">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetInstanceList" class="summary-sig-name">GetInstanceList</a>(<span class="summary-sig-arg">hypervisor_list</span>)</span><br />
      Provides a list of instances.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetInstanceInfo" class="summary-sig-name">GetInstanceInfo</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">hname</span>)</span><br />
      Gives back the information about an instance as a dictionary.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetInstanceMigratable" class="summary-sig-name">GetInstanceMigratable</a>(<span class="summary-sig-arg">instance</span>)</span><br />
      Gives whether an instance can be migrated.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceMigratable">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetAllInstancesInfo" class="summary-sig-name">GetAllInstancesInfo</a>(<span class="summary-sig-arg">hypervisor_list</span>)</span><br />
      Gather data about all instances.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetAllInstancesInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_InstanceLogName" class="summary-sig-name" onclick="show_private();">_InstanceLogName</a>(<span class="summary-sig-arg">kind</span>,
        <span class="summary-sig-arg">os_name</span>,
        <span class="summary-sig-arg">instance</span>)</span><br />
      Compute the OS log filename for a given instance and operation.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_InstanceLogName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#InstanceOsAdd" class="summary-sig-name">InstanceOsAdd</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">reinstall</span>,
        <span class="summary-sig-arg">debug</span>)</span><br />
      Add an OS to an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceOsAdd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RunRenameInstance" class="summary-sig-name">RunRenameInstance</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">old_name</span>,
        <span class="summary-sig-arg">debug</span>)</span><br />
      Run the OS rename script for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RunRenameInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetVGInfo" class="summary-sig-name" onclick="show_private();">_GetVGInfo</a>(<span class="summary-sig-arg">vg_name</span>)</span><br />
      Get information about the volume group.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetVGInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetBlockDevSymlinkPath"></a><span class="summary-sig-name">_GetBlockDevSymlinkPath</span>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">idx</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetBlockDevSymlinkPath">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_SymlinkBlockDev" class="summary-sig-name" onclick="show_private();">_SymlinkBlockDev</a>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">device_path</span>,
        <span class="summary-sig-arg">idx</span>)</span><br />
      Set up symlinks to a instance's block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_SymlinkBlockDev">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_RemoveBlockDevLinks"></a><span class="summary-sig-name">_RemoveBlockDevLinks</span>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">disks</span>)</span><br />
      Remove the block device symlinks belonging to the given instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_RemoveBlockDevLinks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GatherAndLinkBlockDevs" class="summary-sig-name" onclick="show_private();">_GatherAndLinkBlockDevs</a>(<span class="summary-sig-arg">instance</span>)</span><br />
      Set up an instance's block device(s).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GatherAndLinkBlockDevs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#StartInstance" class="summary-sig-name">StartInstance</a>(<span class="summary-sig-arg">instance</span>)</span><br />
      Start an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#StartInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#InstanceShutdown" class="summary-sig-name">InstanceShutdown</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">timeout</span>)</span><br />
      Shut an instance down.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceShutdown">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#InstanceReboot" class="summary-sig-name">InstanceReboot</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">reboot_type</span>,
        <span class="summary-sig-arg">shutdown_timeout</span>)</span><br />
      Reboot an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceReboot">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#MigrationInfo" class="summary-sig-name">MigrationInfo</a>(<span class="summary-sig-arg">instance</span>)</span><br />
      Gather information about an instance to be migrated.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#MigrationInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#AcceptInstance" class="summary-sig-name">AcceptInstance</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">info</span>,
        <span class="summary-sig-arg">target</span>)</span><br />
      Prepare the node to accept an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#AcceptInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#FinalizeMigration" class="summary-sig-name">FinalizeMigration</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">info</span>,
        <span class="summary-sig-arg">success</span>)</span><br />
      Finalize any preparation to accept an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeMigration">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#MigrateInstance" class="summary-sig-name">MigrateInstance</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">target</span>,
        <span class="summary-sig-arg">live</span>)</span><br />
      Migrates an instance to another node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#MigrateInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevCreate" class="summary-sig-name">BlockdevCreate</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">size</span>,
        <span class="summary-sig-arg">owner</span>,
        <span class="summary-sig-arg">on_primary</span>,
        <span class="summary-sig-arg">info</span>)</span><br />
      Creates a block device for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevCreate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevRemove" class="summary-sig-name">BlockdevRemove</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Remove a block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRemove">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_RecursiveAssembleBD" class="summary-sig-name" onclick="show_private();">_RecursiveAssembleBD</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">owner</span>,
        <span class="summary-sig-arg">as_primary</span>)</span><br />
      Activate a block device for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_RecursiveAssembleBD">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str or boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevAssemble" class="summary-sig-name">BlockdevAssemble</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">owner</span>,
        <span class="summary-sig-arg">as_primary</span>)</span><br />
      Activate a block device for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevAssemble">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevShutdown" class="summary-sig-name">BlockdevShutdown</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Shut down a block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevShutdown">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevAddchildren" class="summary-sig-name">BlockdevAddchildren</a>(<span class="summary-sig-arg">parent_cdev</span>,
        <span class="summary-sig-arg">new_cdevs</span>)</span><br />
      Extend a mirrored block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevAddchildren">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevRemovechildren" class="summary-sig-name">BlockdevRemovechildren</a>(<span class="summary-sig-arg">parent_cdev</span>,
        <span class="summary-sig-arg">new_cdevs</span>)</span><br />
      Shrink a mirrored block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRemovechildren">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">disk</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevGetmirrorstatus" class="summary-sig-name">BlockdevGetmirrorstatus</a>(<span class="summary-sig-arg">disks</span>)</span><br />
      Get the mirroring status of a list of devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetmirrorstatus">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_RecursiveFindBD" class="summary-sig-name" onclick="show_private();">_RecursiveFindBD</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Check if a device is activated.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_RecursiveFindBD">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_OpenRealBD" class="summary-sig-name" onclick="show_private();">_OpenRealBD</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Opens the underlying block device of a disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_OpenRealBD">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None or objects.BlockDevStatus</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevFind" class="summary-sig-name">BlockdevFind</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Check if a device is activated.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevFind">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevGetsize" class="summary-sig-name">BlockdevGetsize</a>(<span class="summary-sig-arg">disks</span>)</span><br />
      Computes the size of the given disks.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetsize">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevExport" class="summary-sig-name">BlockdevExport</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">dest_node</span>,
        <span class="summary-sig-arg">dest_path</span>,
        <span class="summary-sig-arg">cluster_name</span>)</span><br />
      Export a block device to a remote node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevExport">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#UploadFile" class="summary-sig-name">UploadFile</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">mode</span>,
        <span class="summary-sig-arg">uid</span>,
        <span class="summary-sig-arg">gid</span>,
        <span class="summary-sig-arg">atime</span>,
        <span class="summary-sig-arg">mtime</span>)</span><br />
      Write a file to the filesystem.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#UploadFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#WriteSsconfFiles" class="summary-sig-name">WriteSsconfFiles</a>(<span class="summary-sig-arg">values</span>)</span><br />
      Update all ssconf files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#WriteSsconfFiles">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_ErrnoOrStr" class="summary-sig-name" onclick="show_private();">_ErrnoOrStr</a>(<span class="summary-sig-arg">err</span>)</span><br />
      Format an EnvironmentError exception.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_ErrnoOrStr">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_OSOndiskAPIVersion" class="summary-sig-name" onclick="show_private();">_OSOndiskAPIVersion</a>(<span class="summary-sig-arg">os_dir</span>)</span><br />
      Compute and return the API version of a given OS.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_OSOndiskAPIVersion">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of <a href="ganeti.objects.OS-class.html" 
      class="link">objects.OS</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#DiagnoseOS" class="summary-sig-name">DiagnoseOS</a>(<span class="summary-sig-arg">top_dirs</span>=<span class="summary-sig-default">None</span>)</span><br />
      Compute the validity for all OSes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DiagnoseOS">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_TryOSFromDisk" class="summary-sig-name" onclick="show_private();">_TryOSFromDisk</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">base_dir</span>=<span class="summary-sig-default">None</span>)</span><br />
      Create an OS instance from disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_TryOSFromDisk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.objects.OS-class.html" class="link">objects.OS</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#OSFromDisk" class="summary-sig-name">OSFromDisk</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">base_dir</span>=<span class="summary-sig-default">None</span>)</span><br />
      Create an OS instance from disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#OSFromDisk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#OSEnvironment" class="summary-sig-name">OSEnvironment</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">inst_os</span>,
        <span class="summary-sig-arg">debug</span>=<span class="summary-sig-default">0</span>)</span><br />
      Calculate the environment for an os script.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#OSEnvironment">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">(status, result)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevGrow" class="summary-sig-name">BlockdevGrow</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">amount</span>)</span><br />
      Grow a stack of block devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGrow">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevSnapshot" class="summary-sig-name">BlockdevSnapshot</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Create a snapshot copy of a block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevSnapshot">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ExportSnapshot" class="summary-sig-name">ExportSnapshot</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">dest_node</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">cluster_name</span>,
        <span class="summary-sig-arg">idx</span>,
        <span class="summary-sig-arg">debug</span>)</span><br />
      Export a block device snapshot to a remote node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ExportSnapshot">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#FinalizeExport" class="summary-sig-name">FinalizeExport</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">snap_disks</span>)</span><br />
      Write out the export configuration information.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeExport">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.objects.SerializableConfigParser-class.html" 
      class="link" 
      onclick="show_private();">objects.SerializableConfigParser</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ExportInfo" class="summary-sig-name">ExportInfo</a>(<span class="summary-sig-arg">dest</span>)</span><br />
      Get export configuration information.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ExportInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ImportOSIntoInstance" class="summary-sig-name">ImportOSIntoInstance</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">src_node</span>,
        <span class="summary-sig-arg">src_images</span>,
        <span class="summary-sig-arg">cluster_name</span>,
        <span class="summary-sig-arg">debug</span>)</span><br />
      Import an os image into an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ImportOSIntoInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ListExports" class="summary-sig-name">ListExports</a>()</span><br />
      Return a list of exports currently available on this machine.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ListExports">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RemoveExport" class="summary-sig-name">RemoveExport</a>(<span class="summary-sig-arg">export</span>)</span><br />
      Remove an existing export from the node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveExport">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevRename" class="summary-sig-name">BlockdevRename</a>(<span class="summary-sig-arg">devlist</span>)</span><br />
      Rename a list of block devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRename">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_TransformFileStorageDir" class="summary-sig-name" onclick="show_private();">_TransformFileStorageDir</a>(<span class="summary-sig-arg">file_storage_dir</span>)</span><br />
      Checks whether given file_storage_dir is valid.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_TransformFileStorageDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#CreateFileStorageDir" class="summary-sig-name">CreateFileStorageDir</a>(<span class="summary-sig-arg">file_storage_dir</span>)</span><br />
      Create file storage directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#CreateFileStorageDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple (success,)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RemoveFileStorageDir" class="summary-sig-name">RemoveFileStorageDir</a>(<span class="summary-sig-arg">file_storage_dir</span>)</span><br />
      Remove file storage directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveFileStorageDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple (success,)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RenameFileStorageDir" class="summary-sig-name">RenameFileStorageDir</a>(<span class="summary-sig-arg">old_file_storage_dir</span>,
        <span class="summary-sig-arg">new_file_storage_dir</span>)</span><br />
      Rename the file storage directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RenameFileStorageDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_EnsureJobQueueFile" class="summary-sig-name" onclick="show_private();">_EnsureJobQueueFile</a>(<span class="summary-sig-arg">file_name</span>)</span><br />
      Checks whether the given filename is in the queue directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_EnsureJobQueueFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#JobQueueUpdate" class="summary-sig-name">JobQueueUpdate</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">content</span>)</span><br />
      Updates a file in the queue directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueUpdate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#JobQueueRename" class="summary-sig-name">JobQueueRename</a>(<span class="summary-sig-arg">old</span>,
        <span class="summary-sig-arg">new</span>)</span><br />
      Renames a job queue file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueRename">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">truple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#JobQueueSetDrainFlag" class="summary-sig-name">JobQueueSetDrainFlag</a>(<span class="summary-sig-arg">drain_flag</span>)</span><br />
      Set the drain flag for the queue.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueSetDrainFlag">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple (success, message)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevClose" class="summary-sig-name">BlockdevClose</a>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">disks</span>)</span><br />
      Closes the given block devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevClose">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ValidateHVParams" class="summary-sig-name">ValidateHVParams</a>(<span class="summary-sig-arg">hvname</span>,
        <span class="summary-sig-arg">hvparams</span>)</span><br />
      Validates the given hypervisor parameters.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ValidateHVParams">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DemoteFromMC"></a><span class="summary-sig-name">DemoteFromMC</span>()</span><br />
      Demotes the current node from master candidate role.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DemoteFromMC">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_FindDisks"></a><span class="summary-sig-name">_FindDisks</span>(<span class="summary-sig-arg">nodes_ip</span>,
        <span class="summary-sig-arg">disks</span>)</span><br />
      Sets the physical ID on disks and returns the block devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_FindDisks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DrbdDisconnectNet"></a><span class="summary-sig-name">DrbdDisconnectNet</span>(<span class="summary-sig-arg">nodes_ip</span>,
        <span class="summary-sig-arg">disks</span>)</span><br />
      Disconnects the network on a list of drbd devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DrbdDisconnectNet">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DrbdAttachNet"></a><span class="summary-sig-name">DrbdAttachNet</span>(<span class="summary-sig-arg">nodes_ip</span>,
        <span class="summary-sig-arg">disks</span>,
        <span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">multimaster</span>)</span><br />
      Attaches the network on a list of drbd devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DrbdAttachNet">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DrbdWaitSync"></a><span class="summary-sig-name">DrbdWaitSync</span>(<span class="summary-sig-arg">nodes_ip</span>,
        <span class="summary-sig-arg">disks</span>)</span><br />
      Wait until DRBDs have synchronized.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DrbdWaitSync">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#PowercycleNode" class="summary-sig-name">PowercycleNode</a>(<span class="summary-sig-arg">hypervisor_type</span>)</span><br />
      Hard-powercycle the node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#PowercycleNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_BOOT_ID_PATH"></a><span class="summary-name">_BOOT_ID_PATH</span> = <code title="&quot;/proc/sys/kernel/random/boot_id&quot;">&quot;/proc/sys/kernel/random/boot_id&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend-module.html#_ALLOWED_CLEAN_DIRS" class="summary-name" onclick="show_private();">_ALLOWED_CLEAN_DIRS</a> = <code title="frozenset([constants.DATA_DIR, constants.JOB_QUEUE_ARCHIVE_DIR, consta\
nts.QUEUE_DIR,])">frozenset([constants.DATA_DIR, constants<code class="variable-ellipsis">...</code></code><br />
      denotes which directories are accepted in the <a 
      href="ganeti.backend-module.html#_CleanDirectory" class="link" 
      onclick="show_private();">_CleanDirectory</a> function
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_ALLOWED_UPLOAD_FILES"></a><span class="summary-name">_ALLOWED_UPLOAD_FILES</span> = <code title="_BuildUploadFileList()">_BuildUploadFileList()</code><br />
      denotes which files are accepted in the <a 
      href="ganeti.backend-module.html#UploadFile" 
      class="link">UploadFile</a> function
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <span title="os">os</span>,
  <span title="shutil">shutil</span>,
  <span title="time">time</span>,
  <span title="stat">stat</span>,
  <span title="errno">errno</span>,
  <span title="re">re</span>,
  <span title="random">random</span>,
  <span title="logging">logging</span>,
  <span title="tempfile">tempfile</span>,
  <span title="zlib">zlib</span>,
  <span title="base64">base64</span>,
  <a href="ganeti.errors-module.html" title="ganeti.errors">errors</a>,
  <a href="ganeti.utils-module.html" title="ganeti.utils">utils</a>,
  <a href="ganeti.ssh-module.html" title="ganeti.ssh">ssh</a>,
  <a href="ganeti.hypervisor-module.html" title="ganeti.hypervisor">hypervisor</a>,
  <a href="ganeti.constants-module.html" title="ganeti.constants">constants</a>,
  <a href="ganeti.bdev-module.html" title="ganeti.bdev">bdev</a>,
  <a href="ganeti.objects-module.html" title="ganeti.objects">objects</a>,
  <a href="ganeti.ssconf-module.html" title="ganeti.ssconf">ssconf</a>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_Fail"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_Fail</span>(<span class="sig-arg">msg</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_Fail">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Log an error and the raise an RPCFail exception.</p>
  <p>This exception is then handled specially in the ganeti daemon and 
  turned into a 'failed' return type. As such, this function is a useful 
  shortcut for logging the error and returning it to the master daemon.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>msg</code></strong> (string) - the text of the exception @raise RPCFail</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetConfig"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetConfig</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetConfig">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Simple wrapper to return a SimpleStore.</p>
  <dl class="fields">
    <dt>Returns: <a href="ganeti.ssconf.SimpleStore-class.html" 
      class="link">ssconf.SimpleStore</a></dt>
        <dd>a SimpleStore instance</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetSshRunner"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetSshRunner</span>(<span class="sig-arg">cluster_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetSshRunner">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Simple wrapper to return an SshRunner.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cluster_name</code></strong> (str) - the cluster name, which is needed by the SshRunner constructor</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.ssh.SshRunner-class.html" 
      class="link">ssh.SshRunner</a></dt>
        <dd>an SshRunner instance</dd>
  </dl>
</td></tr></table>
</div>
<a name="_Decompress"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_Decompress</span>(<span class="sig-arg">data</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_Decompress">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Unpacks data compressed by the RPC client.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>data</code></strong> (list or tuple) - Data sent by RPC client</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>Decompressed data</dd>
  </dl>
</td></tr></table>
</div>
<a name="_CleanDirectory"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CleanDirectory</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">exclude</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_CleanDirectory">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes all regular files in a directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (str) - the directory to clean</li>
        <li><strong class="pname"><code>exclude</code></strong> (list) - list of files to be excluded, defaults to the empty list</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_BuildUploadFileList"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_BuildUploadFileList</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_BuildUploadFileList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Build the list of allowed upload files.</p>
  <p>This is abstracted so that it's built only once at module import 
  time.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="JobQueuePurge"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">JobQueuePurge</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueuePurge">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes job queue files and archived jobs.</p>
  <dl class="fields">
    <dt>Returns: tuple</dt>
        <dd>True, None</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetMasterInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetMasterInfo</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetMasterInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns master information.</p>
  <p>This is an utility function to compute master information, either for 
  consumption here or from the node daemon.</p>
  <dl class="fields">
    <dt>Returns: tuple</dt>
        <dd>master_netdev, master_ip, master_name</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case of errors</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="StartMaster"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">StartMaster</span>(<span class="sig-arg">start_daemons</span>,
        <span class="sig-arg">no_voting</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#StartMaster">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Activate local node as master node.</p>
  <p>The function will always try activate the IP address of the master 
  (unless someone else has it). It will also start the master daemons, 
  based on the start_daemons parameter.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>start_daemons</code></strong> (boolean) - whether to also start the master daemons (ganeti-masterd and 
          ganeti-rapi)</li>
        <li><strong class="pname"><code>no_voting</code></strong> (boolean) - whether to start ganeti-masterd without a node vote (if 
          start_daemons is True), but still non-interactively</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="StopMaster"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">StopMaster</span>(<span class="sig-arg">stop_daemons</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#StopMaster">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Deactivate this node as master.</p>
  <p>The function will always try to deactivate the IP address of the 
  master. It will also stop the master daemons depending on the 
  stop_daemons parameter.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>stop_daemons</code></strong> (boolean) - whether to also stop the master daemons (ganeti-masterd and 
          ganeti-rapi)</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="AddNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddNode</span>(<span class="sig-arg">dsa</span>,
        <span class="sig-arg">dsapub</span>,
        <span class="sig-arg">rsa</span>,
        <span class="sig-arg">rsapub</span>,
        <span class="sig-arg">sshkey</span>,
        <span class="sig-arg">sshpub</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#AddNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Joins this node to the cluster.</p>
  <p>This does the following:</p>
  <ul>
    <li>
      updates the hostkeys of the machine (rsa and dsa)
    </li>
    <li>
      adds the ssh private key to the user
    </li>
    <li>
      adds the ssh public key to the users' authorized_keys file
    </li>
  </ul>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dsa</code></strong> (str) - the DSA private key to write</li>
        <li><strong class="pname"><code>dsapub</code></strong> (str) - the DSA public key to write</li>
        <li><strong class="pname"><code>rsa</code></strong> (str) - the RSA private key to write</li>
        <li><strong class="pname"><code>rsapub</code></strong> (str) - the RSA public key to write</li>
        <li><strong class="pname"><code>sshkey</code></strong> (str) - the SSH private key to write</li>
        <li><strong class="pname"><code>sshpub</code></strong> (str) - the SSH public key to write</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>the success of the operation</dd>
  </dl>
</td></tr></table>
</div>
<a name="LeaveCluster"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">LeaveCluster</span>(<span class="sig-arg">modify_ssh_setup</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#LeaveCluster">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Cleans up and remove the current node.</p>
  <p>This function cleans up and prepares the current node to be removed 
  from the cluster.</p>
  <p>If processing is successful, then it raises an <a 
  href="ganeti.errors.QuitGanetiException-class.html" 
  class="link">errors.QuitGanetiException</a> which is used as a special 
  case to shutdown the node daemon.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>modify_ssh_setup</code></strong> - boolean</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetNodeInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetNodeInfo</span>(<span class="sig-arg">vgname</span>,
        <span class="sig-arg">hypervisor_type</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetNodeInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gives back a hash with different information about the node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>vgname</code></strong> (<code>string</code>) - the name of the volume group to ask for disk space information</li>
        <li><strong class="pname"><code>hypervisor_type</code></strong> (<code>str</code>) - the name of the hypervisor to ask for memory information</li>
    </ul></dd>
    <dt>Returns: <code>dict</code></dt>
        <dd>dictionary with the following keys:
          <ul>
            <li>
              vg_size is the size of the configured volume group in MiB
            </li>
            <li>
              vg_free is the free size of the volume group in MiB
            </li>
            <li>
              memory_dom0 is the memory allocated for domain0 in MiB
            </li>
            <li>
              memory_free is the currently available (free) ram in MiB
            </li>
            <li>
              memory_total is the total number of ram in MiB
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="VerifyNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">VerifyNode</span>(<span class="sig-arg">what</span>,
        <span class="sig-arg">cluster_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#VerifyNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verify the status of the local node.</p>
  <p>Based on the input <code class="link">what</code> parameter, various 
  checks are done on the local node.</p>
  <p>If the <i>filelist</i> key is present, this list of files is 
  checksummed and the file/checksum pairs are returned.</p>
  <p>If the <i>nodelist</i> key is present, we check that we have 
  connectivity via ssh with the target nodes (and check the hostname 
  report).</p>
  <p>If the <i>node-net-test</i> key is present, we check that we have 
  connectivity to the given nodes via both primary IP and, if applicable, 
  secondary IPs.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>what</code></strong> (<code>dict</code>) - a dictionary of things to check:
          <ul>
            <li>
              filelist: list of files for which to compute checksums
            </li>
            <li>
              nodelist: list of nodes we should check ssh communication 
              with
            </li>
            <li>
              node-net-test: list of nodes we should check node daemon port
              connectivity with
            </li>
            <li>
              hypervisor: list with hypervisors to run the verify for
            </li>
          </ul></li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>a dictionary with the same keys as the input dict, and values 
          representing the result of the checks</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetVolumeList"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetVolumeList</span>(<span class="sig-arg">vg_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetVolumeList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute list of logical volumes and their size.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>vg_name</code></strong> (str) - the volume group whose LVs we should list</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary of all partions (key) with value being a tuple of 
          their size (in MiB), inactive and online status:
<pre class="literalblock">
 {'test1': ('20.06', True, True)}
</pre>
          <p>in case of errors, a string is returned with the error 
          details.</p></dd>
  </dl>
</td></tr></table>
</div>
<a name="ListVolumeGroups"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ListVolumeGroups</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ListVolumeGroups">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>List the volume groups and their size.</p>
  <dl class="fields">
    <dt>Returns: dict</dt>
        <dd>dictionary with keys volume name and values the size of the 
          volume</dd>
  </dl>
</td></tr></table>
</div>
<a name="NodeVolumes"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">NodeVolumes</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#NodeVolumes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>List all volumes on this node.</p>
  <dl class="fields">
    <dt>Returns: list</dt>
        <dd>A list of dictionaries, each having four keys:
          <ul>
            <li>
              name: the logical volume name,
            </li>
            <li>
              size: the size of the logical volume
            </li>
            <li>
              dev: the physical device on which the LV lives
            </li>
            <li>
              vg: the volume group to which it belongs
            </li>
          </ul>
          <p>In case of errors, we return an empty list and log the 
          error.</p>
          <p>Note that since a logical volume can live on multiple physical
          volumes, the resulting list might include a logical volume 
          multiple times.</p></dd>
  </dl>
</td></tr></table>
</div>
<a name="BridgesExist"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BridgesExist</span>(<span class="sig-arg">bridges_list</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BridgesExist">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if a list of bridges exist on the current node.</p>
  <dl class="fields">
    <dt>Returns: boolean</dt>
        <dd><code>True</code> if all of them exist, <code>False</code> 
          otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceList"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceList</span>(<span class="sig-arg">hypervisor_list</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Provides a list of instances.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hypervisor_list</code></strong> (list) - the list of hypervisors to query information</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>a list of all running instances on the current node
          <ul>
            <li>
              instance1.example.com
            </li>
            <li>
              instance2.example.com
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceInfo</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">hname</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gives back the information about an instance as a dictionary.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (string) - the instance name</li>
        <li><strong class="pname"><code>hname</code></strong> (string) - the hypervisor type of the instance</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary with the following keys:
          <ul>
            <li>
              memory: memory size of instance (int)
            </li>
            <li>
              state: xen state of instance (string)
            </li>
            <li>
              time: cpu time of instance (float)
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceMigratable"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceMigratable</span>(<span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceMigratable">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gives whether an instance can be migrated.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - object representing the instance to be checked.</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>tuple of (result, description) where:
          <ul>
            <li>
              result: whether the instance can be migrated or not
            </li>
            <li>
              description: a description of the issue, if relevant
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetAllInstancesInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetAllInstancesInfo</span>(<span class="sig-arg">hypervisor_list</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetAllInstancesInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gather data about all instances.</p>
  <p>This is the equivalent of <a 
  href="ganeti.backend-module.html#GetInstanceInfo" 
  class="link">GetInstanceInfo</a>, except that it computes data for all 
  instances at once, thus being faster if one needs data about more than 
  one instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hypervisor_list</code></strong> (list) - list of hypervisors to query for instance data</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary of instance: data, with data having the following 
          keys:
          <ul>
            <li>
              memory: memory size of instance (int)
            </li>
            <li>
              state: xen state of instance (string)
            </li>
            <li>
              time: cpu time of instance (float)
            </li>
            <li>
              vcpus: the number of vcpus
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_InstanceLogName"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_InstanceLogName</span>(<span class="sig-arg">kind</span>,
        <span class="sig-arg">os_name</span>,
        <span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_InstanceLogName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute the OS log filename for a given instance and operation.</p>
  <p>The instance name and os name are passed in as strings since not all 
  operations have these as part of an instance object.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>kind</code></strong> (string) - the operation type (e.g. add, import, etc.)</li>
        <li><strong class="pname"><code>os_name</code></strong> (string) - the os name</li>
        <li><strong class="pname"><code>instance</code></strong> (string) - the name of the instance being imported/added/etc.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="InstanceOsAdd"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstanceOsAdd</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">reinstall</span>,
        <span class="sig-arg">debug</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceOsAdd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Add an OS to an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - Instance whose OS is to be installed</li>
        <li><strong class="pname"><code>reinstall</code></strong> (boolean) - whether this is an instance reinstall</li>
        <li><strong class="pname"><code>debug</code></strong> (integer) - debug level, passed to the OS scripts</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="RunRenameInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RunRenameInstance</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">old_name</span>,
        <span class="sig-arg">debug</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RunRenameInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Run the OS rename script for an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - Instance whose OS is to be installed</li>
        <li><strong class="pname"><code>old_name</code></strong> (string) - previous instance name</li>
        <li><strong class="pname"><code>debug</code></strong> (integer) - debug level, passed to the OS scripts</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>the success of the operation</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetVGInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetVGInfo</span>(<span class="sig-arg">vg_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetVGInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get information about the volume group.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>vg_name</code></strong> (str) - the volume group which we query</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>A dictionary with the following keys:
          <ul>
            <li>
              <code>vg_size</code> is the total size of the volume group in
              MiB
            </li>
            <li>
              <code>vg_free</code> is the free size of the volume group in 
              MiB
            </li>
            <li>
              <code>pv_count</code> are the number of physical disks in 
              that VG
            </li>
          </ul>
          <p>If an error occurs during gathering of data, we return the 
          same dict with keys all set to None.</p></dd>
  </dl>
</td></tr></table>
</div>
<a name="_SymlinkBlockDev"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_SymlinkBlockDev</span>(<span class="sig-arg">instance_name</span>,
        <span class="sig-arg">device_path</span>,
        <span class="sig-arg">idx</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_SymlinkBlockDev">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set up symlinks to a instance's block device.</p>
  <p>This is an auxiliary function run when an instance is start (on the 
  primary node) or when an instance is migrated (on the target node).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance_name</code></strong> - the name of the target instance</li>
        <li><strong class="pname"><code>device_path</code></strong> - path of the physical block device, on the node</li>
        <li><strong class="pname"><code>idx</code></strong> - the disk index</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>absolute path to the disk's symlink</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GatherAndLinkBlockDevs"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GatherAndLinkBlockDevs</span>(<span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GatherAndLinkBlockDevs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set up an instance's block device(s).</p>
  <p>This is run on the primary node at instance startup. The block devices
  must be already assembled.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance whose disks we shoul assemble</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>list of (disk_object, device_path)</dd>
  </dl>
</td></tr></table>
</div>
<a name="StartInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">StartInstance</span>(<span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#StartInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Start an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance object</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="InstanceShutdown"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstanceShutdown</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">timeout</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceShutdown">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Shut an instance down.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance object</li>
        <li><strong class="pname"><code>timeout</code></strong> (integer) - maximum timeout for soft shutdown</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        this functions uses polling with a hardcoded timeout.
      </p>
</div></td></tr></table>
</div>
<a name="InstanceReboot"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstanceReboot</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">reboot_type</span>,
        <span class="sig-arg">shutdown_timeout</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceReboot">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Reboot an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance object to reboot</li>
        <li><strong class="pname"><code>reboot_type</code></strong> (str) - the type of reboot, one the following constants:
          <ul>
            <li>
              <a href="ganeti.constants-module.html#INSTANCE_REBOOT_SOFT" 
              class="link">constants.INSTANCE_REBOOT_SOFT</a>: only reboot 
              the instance OS, do not recreate the VM
            </li>
            <li>
              <a href="ganeti.constants-module.html#INSTANCE_REBOOT_HARD" 
              class="link">constants.INSTANCE_REBOOT_HARD</a>: tear down 
              and restart the VM (at the hypervisor level)
            </li>
            <li>
              the other reboot type (<a 
              href="ganeti.constants-module.html#INSTANCE_REBOOT_FULL" 
              class="link">constants.INSTANCE_REBOOT_FULL</a>) is not 
              accepted here, since that mode is handled differently, in 
              cmdlib, and translates into full stop and start of the 
              instance (instead of a call_instance_reboot RPC)
            </li>
          </ul></li>
        <li><strong class="pname"><code>shutdown_timeout</code></strong> (integer) - maximum timeout for soft shutdown</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="MigrationInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MigrationInfo</span>(<span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#MigrationInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gather information about an instance to be migrated.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance definition</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AcceptInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AcceptInstance</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">info</span>,
        <span class="sig-arg">target</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#AcceptInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Prepare the node to accept an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance definition</li>
        <li><strong class="pname"><code>info</code></strong> (string/data (opaque)) - migration information, from the source node</li>
        <li><strong class="pname"><code>target</code></strong> (string) - target host (usually ip), on this node</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="FinalizeMigration"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FinalizeMigration</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">info</span>,
        <span class="sig-arg">success</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeMigration">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Finalize any preparation to accept an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance definition</li>
        <li><strong class="pname"><code>info</code></strong> (string/data (opaque)) - migration information, from the source node</li>
        <li><strong class="pname"><code>success</code></strong> (boolean) - whether the migration was a success or a failure</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="MigrateInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MigrateInstance</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">target</span>,
        <span class="sig-arg">live</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#MigrateInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Migrates an instance to another node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance definition</li>
        <li><strong class="pname"><code>target</code></strong> (string) - the target node name</li>
        <li><strong class="pname"><code>live</code></strong> (boolean) - whether the migration should be done live or not (the 
          interpretation of this parameter is left to the hypervisor)</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>a tuple of (success, msg) where:
          <ul>
            <li>
              succes is a boolean denoting the success/failure of the 
              operation
            </li>
            <li>
              msg is a string with details in case of failure
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevCreate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevCreate</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">size</span>,
        <span class="sig-arg">owner</span>,
        <span class="sig-arg">on_primary</span>,
        <span class="sig-arg">info</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevCreate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates a block device for an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the object describing the disk we should create</li>
        <li><strong class="pname"><code>size</code></strong> (int) - the size of the physical underlying device, in MiB</li>
        <li><strong class="pname"><code>owner</code></strong> (str) - the name of the instance for which disk is created, used for 
          device cache data</li>
        <li><strong class="pname"><code>on_primary</code></strong> (boolean) - indicates if it is the primary node or not</li>
        <li><strong class="pname"><code>info</code></strong> (string) - string that will be sent to the physical device creation, used 
          for example to set (LVM) tags on LVs</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>the new unique_id of the device (this can sometime be computed 
          only after creation), or None. On secondary nodes, it's not 
          required to return anything.</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevRemove"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevRemove</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRemove">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove a block device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we should remove</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>the success of the operation</dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        This is intended to be called recursively.
      </p>
</div></td></tr></table>
</div>
<a name="_RecursiveAssembleBD"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RecursiveAssembleBD</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">owner</span>,
        <span class="sig-arg">as_primary</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_RecursiveAssembleBD">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Activate a block device for an instance.</p>
  <p>This is run on the primary and secondary nodes for an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk we try to assemble</li>
        <li><strong class="pname"><code>owner</code></strong> (str) - the name of the instance which owns the disk</li>
        <li><strong class="pname"><code>as_primary</code></strong> (boolean) - if we should make the block device read/write</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>the assembled device or None (in case no device was assembled)</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.BlockDeviceError-class.html">errors.BlockDeviceError</a></strong></code> - in case there is an error during the activation of the children or 
        the device itself</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        this function is called recursively.
      </p>
</div></td></tr></table>
</div>
<a name="BlockdevAssemble"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevAssemble</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">owner</span>,
        <span class="sig-arg">as_primary</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevAssemble">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Activate a block device for an instance.</p>
  <p>This is a wrapper over _RecursiveAssembleBD.</p>
  <dl class="fields">
    <dt>Returns: str or boolean</dt>
        <dd>a <code>/dev/...</code> path for primary nodes, and 
          <code>True</code> for secondary nodes</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevShutdown"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevShutdown</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevShutdown">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Shut down a block device.</p>
  <p>First, if the device is assembled (Attach() is successful), then the 
  device is shutdown. Then the children of the device are shutdown.</p>
  <p>This function is called recursively. Note that we don't cache the 
  children or such, as oppossed to assemble, shutdown of different devices 
  doesn't require that the upper device was active.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the description of the disk we should shutdown</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevAddchildren"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevAddchildren</span>(<span class="sig-arg">parent_cdev</span>,
        <span class="sig-arg">new_cdevs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevAddchildren">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Extend a mirrored block device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>parent_cdev</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to which we should add children</li>
        <li><strong class="pname"><code>new_cdevs</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of children which we should add</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevRemovechildren"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevRemovechildren</span>(<span class="sig-arg">parent_cdev</span>,
        <span class="sig-arg">new_cdevs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRemovechildren">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Shrink a mirrored block device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>parent_cdev</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk from which we should remove children</li>
        <li><strong class="pname"><code>new_cdevs</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of children which we should remove</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevGetmirrorstatus"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevGetmirrorstatus</span>(<span class="sig-arg">disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetmirrorstatus">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the mirroring status of a list of devices.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of disks which we should query</li>
    </ul></dd>
    <dt>Returns: disk</dt>
        <dd>a list of (mirror_done, estimated_time) tuples, which are the 
          result of <a 
          href="ganeti.bdev.BlockDev-class.html#CombinedSyncStatus" 
          class="link">bdev.BlockDev.CombinedSyncStatus</a></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.BlockDeviceError-class.html">errors.BlockDeviceError</a></strong></code> - if any of the disks cannot be found</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_RecursiveFindBD"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RecursiveFindBD</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_RecursiveFindBD">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if a device is activated.</p>
  <p>If so, return information about the real device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we need to find</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>None if the device can't be found, otherwise the device instance</dd>
  </dl>
</td></tr></table>
</div>
<a name="_OpenRealBD"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_OpenRealBD</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_OpenRealBD">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Opens the underlying block device of a disk.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we want to open</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevFind"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevFind</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevFind">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if a device is activated.</p>
  <p>If it is, return information about the real device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to find</li>
    </ul></dd>
    <dt>Returns: None or objects.BlockDevStatus</dt>
        <dd>None if the disk cannot be found, otherwise a the current 
          information</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevGetsize"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevGetsize</span>(<span class="sig-arg">disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetsize">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Computes the size of the given disks.</p>
  <p>If a disk is not found, returns None instead.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of disk to compute the size for</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>list with elements None if the disk cannot be found, otherwise 
          the size</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevExport"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevExport</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">dest_node</span>,
        <span class="sig-arg">dest_path</span>,
        <span class="sig-arg">cluster_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevExport">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Export a block device to a remote node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the description of the disk to export</li>
        <li><strong class="pname"><code>dest_node</code></strong> (str) - the destination node to export to</li>
        <li><strong class="pname"><code>dest_path</code></strong> (str) - the destination path on the target node</li>
        <li><strong class="pname"><code>cluster_name</code></strong> (str) - the cluster name, needed for SSH hostalias</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="UploadFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">UploadFile</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">data</span>,
        <span class="sig-arg">mode</span>,
        <span class="sig-arg">uid</span>,
        <span class="sig-arg">gid</span>,
        <span class="sig-arg">atime</span>,
        <span class="sig-arg">mtime</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#UploadFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Write a file to the filesystem.</p>
  <p>This allows the master to overwrite(!) a file. It will only perform 
  the operation if the file belongs to a list of configuration files.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - the target file name</li>
        <li><strong class="pname"><code>data</code></strong> (str) - the new contents of the file</li>
        <li><strong class="pname"><code>mode</code></strong> (int) - the mode to give the file (can be None)</li>
        <li><strong class="pname"><code>uid</code></strong> (int) - the owner of the file (can be -1 for default)</li>
        <li><strong class="pname"><code>gid</code></strong> (int) - the group of the file (can be -1 for default)</li>
        <li><strong class="pname"><code>atime</code></strong> (float) - the atime to set on the file (can be None)</li>
        <li><strong class="pname"><code>mtime</code></strong> (float) - the mtime to set on the file (can be None)</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="WriteSsconfFiles"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">WriteSsconfFiles</span>(<span class="sig-arg">values</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#WriteSsconfFiles">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Update all ssconf files.</p>
  <p>Wrapper around the SimpleStore.WriteFiles.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_ErrnoOrStr"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_ErrnoOrStr</span>(<span class="sig-arg">err</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_ErrnoOrStr">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Format an EnvironmentError exception.</p>
  <p>If the <code class="link">err</code> argument has an errno attribute, 
  it will be looked up and converted into a textual <code>E...</code> 
  description. Otherwise the string representation of the error will be 
  returned.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>err</code></strong> (<code class="link">EnvironmentError</code>) - the exception to format</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_OSOndiskAPIVersion"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_OSOndiskAPIVersion</span>(<span class="sig-arg">os_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_OSOndiskAPIVersion">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute and return the API version of a given OS.</p>
  <p>This function will try to read the API version of the OS residing in 
  the 'os_dir' directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>os_dir</code></strong> (str) - the directory in which we should look for the OS</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>tuple (status, data) with status denoting the validity and data 
          holding either the vaid versions or an error message</dd>
  </dl>
</td></tr></table>
</div>
<a name="DiagnoseOS"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DiagnoseOS</span>(<span class="sig-arg">top_dirs</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#DiagnoseOS">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute the validity for all OSes.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>top_dirs</code></strong> (list) - the list of directories in which to search (if not given defaults
          to <a href="ganeti.constants-module.html#OS_SEARCH_PATH" 
          class="link">constants.OS_SEARCH_PATH</a>)</li>
    </ul></dd>
    <dt>Returns: list of <a href="ganeti.objects.OS-class.html" 
      class="link">objects.OS</a></dt>
        <dd>a list of tuples (name, path, status, diagnose, variants) for all
          (potential) OSes under all search paths, where:
          <ul>
            <li>
              name is the (potential) OS name
            </li>
            <li>
              path is the full path to the OS
            </li>
            <li>
              status True/False is the validity of the OS
            </li>
            <li>
              diagnose is the error message for an invalid OS, otherwise 
              empty
            </li>
            <li>
              variants is a list of supported OS variants, if any
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_TryOSFromDisk"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_TryOSFromDisk</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">base_dir</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_TryOSFromDisk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create an OS instance from disk.</p>
  <p>This function will return an OS instance if the given name is a valid 
  OS name.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>base_dir</code></strong> (string) - Base directory containing OS installations. Defaults to a search 
          in all the OS_SEARCH_PATH dirs.</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>success and either the OS instance if we find a valid one, or 
          error message</dd>
  </dl>
</td></tr></table>
</div>
<a name="OSFromDisk"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">OSFromDisk</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">base_dir</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#OSFromDisk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create an OS instance from disk.</p>
  <p>This function will return an OS instance if the given name is a valid 
  OS name. Otherwise, it will raise an appropriate <a 
  href="ganeti.backend.RPCFail-class.html" class="link">RPCFail</a> 
  exception, detailing why this is not a valid OS.</p>
  <p>This is just a wrapper over <a 
  href="ganeti.backend-module.html#_TryOSFromDisk" class="link" 
  onclick="show_private();">_TryOSFromDisk</a>, which doesn't raise an 
  exception but returns true/false status data.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>base_dir</code></strong> (string) - Base directory containing OS installations. Defaults to a search 
          in all the OS_SEARCH_PATH dirs.</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.objects.OS-class.html" class="link">objects.OS</a></dt>
        <dd>the OS instance if we find a valid one</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - if we don't find a valid OS</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="OSEnvironment"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">OSEnvironment</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">inst_os</span>,
        <span class="sig-arg">debug</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#OSEnvironment">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Calculate the environment for an os script.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - target instance for the os script run</li>
        <li><strong class="pname"><code>inst_os</code></strong> (<a href="ganeti.objects.OS-class.html" 
          class="link">objects.OS</a>) - operating system for which the environment is being built</li>
        <li><strong class="pname"><code>debug</code></strong> (integer) - debug level (0 or 1, for OS Api 10)</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dict of environment variables</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.BlockDeviceError-class.html">errors.BlockDeviceError</a></strong></code> - if the block device cannot be found</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevGrow"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevGrow</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">amount</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGrow">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Grow a stack of block devices.</p>
  <p>This function is called recursively, with the childrens being the 
  first ones to resize.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to be grown</li>
    </ul></dd>
    <dt>Returns: (status, result)</dt>
        <dd>a tuple with the status of the operation (True/False), and the 
          errors message if status is False</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevSnapshot"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevSnapshot</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevSnapshot">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create a snapshot copy of a block device.</p>
  <p>This function is called recursively, and the snapshot is actually 
  created just for the leaf lvm backend device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to be snapshotted</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>snapshot disk path</dd>
  </dl>
</td></tr></table>
</div>
<a name="ExportSnapshot"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ExportSnapshot</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">dest_node</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">cluster_name</span>,
        <span class="sig-arg">idx</span>,
        <span class="sig-arg">debug</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ExportSnapshot">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Export a block device snapshot to a remote node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the description of the disk to export</li>
        <li><strong class="pname"><code>dest_node</code></strong> (str) - the destination node to export to</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance object to whom the disk belongs</li>
        <li><strong class="pname"><code>cluster_name</code></strong> (str) - the cluster name, needed for SSH hostalias</li>
        <li><strong class="pname"><code>idx</code></strong> (int) - the index of the disk in the instance's disk list, used to export
          to the OS scripts environment</li>
        <li><strong class="pname"><code>debug</code></strong> (integer) - debug level, passed to the OS scripts</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="FinalizeExport"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FinalizeExport</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">snap_disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeExport">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Write out the export configuration information.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance which we export, used for saving configuration</li>
        <li><strong class="pname"><code>snap_disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - list of snapshot block devices, which will be used to get the 
          actual name of the dump file</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="ExportInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ExportInfo</span>(<span class="sig-arg">dest</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ExportInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get export configuration information.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dest</code></strong> (str) - directory containing the export</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.objects.SerializableConfigParser-class.html" 
      class="link" 
      onclick="show_private();">objects.SerializableConfigParser</a></dt>
        <dd>a serializable config file containing the export info</dd>
  </dl>
</td></tr></table>
</div>
<a name="ImportOSIntoInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ImportOSIntoInstance</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">src_node</span>,
        <span class="sig-arg">src_images</span>,
        <span class="sig-arg">cluster_name</span>,
        <span class="sig-arg">debug</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ImportOSIntoInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Import an os image into an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - instance to import the disks into</li>
        <li><strong class="pname"><code>src_node</code></strong> (string) - source node for the disk images</li>
        <li><strong class="pname"><code>src_images</code></strong> (list of string) - absolute paths of the disk images</li>
        <li><strong class="pname"><code>debug</code></strong> (integer) - debug level, passed to the OS scripts</li>
    </ul></dd>
    <dt>Returns: list of boolean</dt>
        <dd>each boolean represent the success of importing the n-th disk</dd>
  </dl>
</td></tr></table>
</div>
<a name="ListExports"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ListExports</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ListExports">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return a list of exports currently available on this machine.</p>
  <dl class="fields">
    <dt>Returns: list</dt>
        <dd>list of the exports</dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveExport"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveExport</span>(<span class="sig-arg">export</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveExport">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove an existing export from the node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>export</code></strong> (str) - the name of the export to remove</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevRename"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevRename</span>(<span class="sig-arg">devlist</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRename">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Rename a list of block devices.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>devlist</code></strong> (list of tuples) - list of tuples of the form  (disk, new_logical_id, 
          new_physical_id); disk is an <a 
          href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a> object describing the current disk,
          and new logical_id/physical_id is the name we rename it to</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>True if all renames succeeded, False otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="_TransformFileStorageDir"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_TransformFileStorageDir</span>(<span class="sig-arg">file_storage_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_TransformFileStorageDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks whether given file_storage_dir is valid.</p>
  <p>Checks wheter the given file_storage_dir is within the cluster-wide 
  default file_storage_dir stored in SimpleStore. Only paths under that 
  directory are allowed.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_storage_dir</code></strong> (str) - the path to check</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>the normalized path if valid, None otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="CreateFileStorageDir"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CreateFileStorageDir</span>(<span class="sig-arg">file_storage_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#CreateFileStorageDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create file storage directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_storage_dir</code></strong> (str) - directory to create</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>tuple with first element a boolean indicating wheter dir creation
          was successful or not</dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveFileStorageDir"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveFileStorageDir</span>(<span class="sig-arg">file_storage_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveFileStorageDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove file storage directory.</p>
  <p>Remove it only if it's empty. If not log an error and return.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_storage_dir</code></strong> (str) - the directory we should cleanup</li>
    </ul></dd>
    <dt>Returns: tuple (success,)</dt>
        <dd>tuple of one element, <code>success</code>, denoting whether the 
          operation was successful</dd>
  </dl>
</td></tr></table>
</div>
<a name="RenameFileStorageDir"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RenameFileStorageDir</span>(<span class="sig-arg">old_file_storage_dir</span>,
        <span class="sig-arg">new_file_storage_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RenameFileStorageDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Rename the file storage directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>old_file_storage_dir</code></strong> (str) - the current path</li>
        <li><strong class="pname"><code>new_file_storage_dir</code></strong> (str) - the name we should rename to</li>
    </ul></dd>
    <dt>Returns: tuple (success,)</dt>
        <dd>tuple of one element, <code>success</code>, denoting whether the 
          operation was successful</dd>
  </dl>
</td></tr></table>
</div>
<a name="_EnsureJobQueueFile"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_EnsureJobQueueFile</span>(<span class="sig-arg">file_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_EnsureJobQueueFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks whether the given filename is in the queue directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - the file name we should check</li>
    </ul></dd>
    <dt>Returns: None</dt>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - if the file is not valid</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="JobQueueUpdate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">JobQueueUpdate</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">content</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueUpdate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Updates a file in the queue directory.</p>
  <p>This is just a wrapper over <a 
  href="ganeti.utils-module.html#WriteFile" 
  class="link">utils.WriteFile</a>, with proper checking.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - the job file name</li>
        <li><strong class="pname"><code>content</code></strong> (str) - the new job contents</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>the success of the operation</dd>
  </dl>
</td></tr></table>
</div>
<a name="JobQueueRename"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">JobQueueRename</span>(<span class="sig-arg">old</span>,
        <span class="sig-arg">new</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueRename">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Renames a job queue file.</p>
  <p>This is just a wrapper over os.rename with proper checking.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>old</code></strong> (str) - the old (actual) file name</li>
        <li><strong class="pname"><code>new</code></strong> (str) - the desired file name</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>the success of the operation and payload</dd>
  </dl>
</td></tr></table>
</div>
<a name="JobQueueSetDrainFlag"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">JobQueueSetDrainFlag</span>(<span class="sig-arg">drain_flag</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueSetDrainFlag">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set the drain flag for the queue.</p>
  <p>This will set or unset the queue drain flag.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>drain_flag</code></strong> (boolean) - if True, will set the drain flag, otherwise reset it.</li>
    </ul></dd>
    <dt>Returns: truple</dt>
        <dd>always True, None</dd>
  </dl>
<div class="fields">      <p><strong>Warning:</strong>
        the function always returns True
      </p>
</div></td></tr></table>
</div>
<a name="BlockdevClose"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevClose</span>(<span class="sig-arg">instance_name</span>,
        <span class="sig-arg">disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevClose">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Closes the given block devices.</p>
  <p>This means they will be switched to secondary mode (in case of 
  DRBD).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance_name</code></strong> - if the argument is not empty, the symlinks of this instance will 
          be removed</li>
        <li><strong class="pname"><code>disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of disks to be closed</li>
    </ul></dd>
    <dt>Returns: tuple (success, message)</dt>
        <dd>a tuple of success and message, where success indicates the 
          succes of the operation, and message which will contain the error
          details in case we failed</dd>
  </dl>
</td></tr></table>
</div>
<a name="ValidateHVParams"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ValidateHVParams</span>(<span class="sig-arg">hvname</span>,
        <span class="sig-arg">hvparams</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ValidateHVParams">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Validates the given hypervisor parameters.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hvname</code></strong> (string) - the hypervisor name</li>
        <li><strong class="pname"><code>hvparams</code></strong> (dict) - the hypervisor parameters to be validated</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="PowercycleNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">PowercycleNode</span>(<span class="sig-arg">hypervisor_type</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#PowercycleNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Hard-powercycle the node.</p>
  <p>Because we need to return first, and schedule the powercycle in the 
  background, we won't be able to report failures nicely.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-VariablesDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_ALLOWED_CLEAN_DIRS"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">_ALLOWED_CLEAN_DIRS</h3>
  denotes which directories are accepted in the <a 
  href="ganeti.backend-module.html#_CleanDirectory" class="link" 
  onclick="show_private();">_CleanDirectory</a> function
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
frozenset([constants.DATA_DIR, constants.JOB_QUEUE_ARCHIVE_DIR, consta<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
nts.QUEUE_DIR,])
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu Dec  9 16:11:41 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
