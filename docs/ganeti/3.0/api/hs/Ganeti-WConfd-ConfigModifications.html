<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.WConfd.ConfigModifications</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/WConfd/ConfigModifications.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Ganeti.WConfd.ConfigModifications</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">accessor functions</a></li><li><a href="#g:2">getters</a></li><li><a href="#g:3">UUID config checks</a></li><li><a href="#g:4">RPC checks</a></li><li><a href="#g:5">Pure config modifications functions</a></li><li><a href="#g:6">Monadic config modification functions which can return errors</a></li><li><a href="#g:7">RPCs</a></li><li><a href="#g:8">The list of functions exported to RPC.</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The WConfd functions for direct configuration manipulation</p><p>This module contains the client functions exported by WConfD for
specific configuration manipulation.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:DiskUUID">DiskUUID</a> = String</li><li class="src short"><span class="keyword">type</span> <a href="#t:InstanceUUID">InstanceUUID</a> = String</li><li class="src short"><span class="keyword">type</span> <a href="#t:NodeUUID">NodeUUID</a> = String</li><li class="src short"><a href="#v:getInstanceByUUID">getInstanceByUUID</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a></li><li class="src short"><a href="#v:getAllLVs">getAllLVs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; Set String</li><li class="src short"><a href="#v:getAllIDs">getAllIDs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; Set String</li><li class="src short"><a href="#v:getAllMACs">getAllMACs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; Set String</li><li class="src short"><a href="#v:isIdentical">isIdentical</a> :: (Eq a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL" title="Ganeti.Objects.Lens">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL" title="Ganeti.Objects.Lens">TimeStampObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; a -&gt; Bool</li><li class="src short"><a href="#v:checkSerial">checkSerial</a> :: <a href="Ganeti-Types.html#t:SerialNoObject" title="Ganeti.Types">SerialNoObject</a> a =&gt; a -&gt; a -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> ()</li><li class="src short"><a href="#v:replaceIn">replaceIn</a> :: (<a href="Ganeti-Types.html#t:UuidObject" title="Ganeti.Types">UuidObject</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL" title="Ganeti.Objects.Lens">TimeStampObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL" title="Ganeti.Objects.Lens">SerialNoObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; <a href="Ganeti-JSON.html#t:Container" title="Ganeti.JSON">Container</a> a -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> (<a href="Ganeti-JSON.html#t:Container" title="Ganeti.JSON">Container</a> a)</li><li class="src short"><a href="#v:updateConfigIfNecessary">updateConfigIfNecessary</a> :: (Monad m, MonadError <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> m, Eq a, <a href="Ganeti-Types.html#t:UuidObject" title="Ganeti.Types">UuidObject</a> a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL" title="Ganeti.Objects.Lens">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL" title="Ganeti.Objects.Lens">TimeStampObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; (<a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-JSON.html#t:Container" title="Ganeti.JSON">Container</a> a) -&gt; (<a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; m ((Int, ClockTime), <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a>)) -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; m ((Int, ClockTime), <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a>)</li><li class="src short"><a href="#v:checkUUIDpresent">checkUUIDpresent</a> :: <a href="Ganeti-Types.html#t:UuidObject" title="Ganeti.Types">UuidObject</a> a =&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; a -&gt; Bool</li><li class="src short"><a href="#v:checkUniqueUUID">checkUniqueUUID</a> :: <a href="Ganeti-Types.html#t:UuidObject" title="Ganeti.Types">UuidObject</a> a =&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; a -&gt; Bool</li><li class="src short"><a href="#v:addInstanceChecks">addInstanceChecks</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> ()</li><li class="src short"><a href="#v:addDiskChecks">addDiskChecks</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk" title="Ganeti.Objects.Disk">Disk</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> ()</li><li class="src short"><a href="#v:attachInstanceDiskChecks">attachInstanceDiskChecks</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> ()</li><li class="src short"><a href="#v:attachInstanceDisk-39-">attachInstanceDisk'</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a></li><li class="src short"><a href="#v:detachInstanceDisk-39-">detachInstanceDisk'</a> :: MonadError <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> m =&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; m <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a></li><li class="src short"><a href="#v:removeInstanceDisk-39-">removeInstanceDisk'</a> :: MonadError <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> m =&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; m <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a></li><li class="src short"><a href="#v:addInstance">addInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:ClientId" title="Ganeti.Locking.Locks">ClientId</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:addInstanceDisk">addInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-Objects-Disk.html#t:Disk" title="Ganeti.Objects.Disk">Disk</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int -&gt; Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:attachInstanceDisk">attachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:detachInstanceDisk">detachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:removeInstanceDisk">removeInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:removeInstance">removeInstance</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:allocatePort">allocatePort</a> :: <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int)</li><li class="src short"><a href="#v:addTcpUdpPort">addTcpUdpPort</a> :: Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:setInstanceStatus">setInstanceStatus</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminState" title="Ganeti.Types">AdminState</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Bool -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminStateSource" title="Ganeti.Types">AdminStateSource</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a>)</li><li class="src short"><a href="#v:setInstancePrimaryNode">setInstancePrimaryNode</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:NodeUUID" title="Ganeti.WConfd.ConfigModifications">NodeUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool</li><li class="src short"><a href="#v:updateCluster">updateCluster</a> :: <a href="Ganeti-Objects.html#t:Cluster" title="Ganeti.Objects">Cluster</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateNode">updateNode</a> :: <a href="Ganeti-Objects.html#t:Node" title="Ganeti.Objects">Node</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateInstance">updateInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateNodeGroup">updateNodeGroup</a> :: <a href="Ganeti-Objects.html#t:NodeGroup" title="Ganeti.Objects">NodeGroup</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateNetwork">updateNetwork</a> :: <a href="Ganeti-Objects.html#t:Network" title="Ganeti.Objects">Network</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:updateDisk">updateDisk</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk" title="Ganeti.Objects.Disk">Disk</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>))</li><li class="src short"><a href="#v:exportedFunctions">exportedFunctions</a> :: [Name]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DiskUUID" class="def">DiskUUID</a> = String <a href="Ganeti/WConfd/ConfigModifications.html#DiskUUID" class="link">Source</a> <a href="#t:DiskUUID" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:InstanceUUID" class="def">InstanceUUID</a> = String <a href="Ganeti/WConfd/ConfigModifications.html#InstanceUUID" class="link">Source</a> <a href="#t:InstanceUUID" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:NodeUUID" class="def">NodeUUID</a> = String <a href="Ganeti/WConfd/ConfigModifications.html#NodeUUID" class="link">Source</a> <a href="#t:NodeUUID" class="selflink">#</a></p></div><a href="#g:1" id="g:1"><h1>accessor functions</h1></a><div class="top"><p class="src"><a id="v:getInstanceByUUID" class="def">getInstanceByUUID</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a> <a href="Ganeti/WConfd/ConfigModifications.html#getInstanceByUUID" class="link">Source</a> <a href="#v:getInstanceByUUID" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>getters</h1></a><div class="top"><p class="src"><a id="v:getAllLVs" class="def">getAllLVs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; Set String <a href="Ganeti/WConfd/ConfigModifications.html#getAllLVs" class="link">Source</a> <a href="#v:getAllLVs" class="selflink">#</a></p><div class="doc"><p>Gets all logical volumes in the cluster</p></div></div><div class="top"><p class="src"><a id="v:getAllIDs" class="def">getAllIDs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; Set String <a href="Ganeti/WConfd/ConfigModifications.html#getAllIDs" class="link">Source</a> <a href="#v:getAllIDs" class="selflink">#</a></p><div class="doc"><p>Gets the ids of nodes, instances, node groups,
   networks, disks, nics, and the cluster itself.</p></div></div><div class="top"><p class="src"><a id="v:getAllMACs" class="def">getAllMACs</a> :: <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; Set String <a href="Ganeti/WConfd/ConfigModifications.html#getAllMACs" class="link">Source</a> <a href="#v:getAllMACs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isIdentical" class="def">isIdentical</a> :: (Eq a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL" title="Ganeti.Objects.Lens">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL" title="Ganeti.Objects.Lens">TimeStampObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; a -&gt; Bool <a href="Ganeti/WConfd/ConfigModifications.html#isIdentical" class="link">Source</a> <a href="#v:isIdentical" class="selflink">#</a></p><div class="doc"><p>Checks if the two objects are equal,
 excluding timestamps. The serial number of
 current must be one greater than that of target.</p><p>If this is true, it implies that the update RPC
 updated the config, but did not successfully return.</p></div></div><div class="top"><p class="src"><a id="v:checkSerial" class="def">checkSerial</a> :: <a href="Ganeti-Types.html#t:SerialNoObject" title="Ganeti.Types">SerialNoObject</a> a =&gt; a -&gt; a -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> () <a href="Ganeti/WConfd/ConfigModifications.html#checkSerial" class="link">Source</a> <a href="#v:checkSerial" class="selflink">#</a></p><div class="doc"><p>Checks if the two objects given have the same serial number</p></div></div><div class="top"><p class="src"><a id="v:replaceIn" class="def">replaceIn</a> :: (<a href="Ganeti-Types.html#t:UuidObject" title="Ganeti.Types">UuidObject</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL" title="Ganeti.Objects.Lens">TimeStampObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL" title="Ganeti.Objects.Lens">SerialNoObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; <a href="Ganeti-JSON.html#t:Container" title="Ganeti.JSON">Container</a> a -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> (<a href="Ganeti-JSON.html#t:Container" title="Ganeti.JSON">Container</a> a) <a href="Ganeti/WConfd/ConfigModifications.html#replaceIn" class="link">Source</a> <a href="#v:replaceIn" class="selflink">#</a></p><div class="doc"><p>Updates an object present in a container.
 The presence of the object in the container
 is determined by the uuid of the object.</p><p>A check that serial number of the
 object is consistent with the serial number
 of the object in the container is performed.</p><p>If the check passes, the object's serial number
 is incremented, and modification time is updated,
 and then is inserted into the container.</p></div></div><div class="top"><p class="src"><a id="v:updateConfigIfNecessary" class="def">updateConfigIfNecessary</a> :: (Monad m, MonadError <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> m, Eq a, <a href="Ganeti-Types.html#t:UuidObject" title="Ganeti.Types">UuidObject</a> a, <a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL" title="Ganeti.Objects.Lens">SerialNoObjectL</a> a, <a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL" title="Ganeti.Objects.Lens">TimeStampObjectL</a> a) =&gt; ClockTime -&gt; a -&gt; (<a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-JSON.html#t:Container" title="Ganeti.JSON">Container</a> a) -&gt; (<a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; m ((Int, ClockTime), <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a>)) -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; m ((Int, ClockTime), <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a>) <a href="Ganeti/WConfd/ConfigModifications.html#updateConfigIfNecessary" class="link">Source</a> <a href="#v:updateConfigIfNecessary" class="selflink">#</a></p><div class="doc"><p>Utility fuction that combines the two
 possible actions that could be taken when
 given a target.</p><p>If the target is identical to the current
 value, we return the modification time of
 the current value, and not change the config.</p><p>If not, we update the config.</p></div></div><a href="#g:3" id="g:3"><h1>UUID config checks</h1></a><div class="top"><p class="src"><a id="v:checkUUIDpresent" class="def">checkUUIDpresent</a> :: <a href="Ganeti-Types.html#t:UuidObject" title="Ganeti.Types">UuidObject</a> a =&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; a -&gt; Bool <a href="Ganeti/WConfd/ConfigModifications.html#checkUUIDpresent" class="link">Source</a> <a href="#v:checkUUIDpresent" class="selflink">#</a></p><div class="doc"><p>Checks if the config has the given UUID</p></div></div><div class="top"><p class="src"><a id="v:checkUniqueUUID" class="def">checkUniqueUUID</a> :: <a href="Ganeti-Types.html#t:UuidObject" title="Ganeti.Types">UuidObject</a> a =&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; a -&gt; Bool <a href="Ganeti/WConfd/ConfigModifications.html#checkUniqueUUID" class="link">Source</a> <a href="#v:checkUniqueUUID" class="selflink">#</a></p><div class="doc"><p>Checks if the given UUID is new (i.e., no in the config)</p></div></div><a href="#g:4" id="g:4"><h1>RPC checks</h1></a><div class="top"><p class="src"><a id="v:addInstanceChecks" class="def">addInstanceChecks</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> () <a href="Ganeti/WConfd/ConfigModifications.html#addInstanceChecks" class="link">Source</a> <a href="#v:addInstanceChecks" class="selflink">#</a></p><div class="doc"><p>Verifications done before adding an instance.
 Currently confirms that the instance's macs are not
 in use, and that the instance's UUID being
 present (or not present) in the config based on
 weather the instance is being replaced (or not).</p><p>TODO: add more verifications to this call;
 the client should have a lock on the name of the instance.</p></div></div><div class="top"><p class="src"><a id="v:addDiskChecks" class="def">addDiskChecks</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk" title="Ganeti.Objects.Disk">Disk</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> () <a href="Ganeti/WConfd/ConfigModifications.html#addDiskChecks" class="link">Source</a> <a href="#v:addDiskChecks" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:attachInstanceDiskChecks" class="def">attachInstanceDiskChecks</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-BasicTypes.html#t:GenericResult" title="Ganeti.BasicTypes">GenericResult</a> <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> () <a href="Ganeti/WConfd/ConfigModifications.html#attachInstanceDiskChecks" class="link">Source</a> <a href="#v:attachInstanceDiskChecks" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>Pure config modifications functions</h1></a><div class="top"><p class="src"><a id="v:attachInstanceDisk-39-" class="def">attachInstanceDisk'</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> <a href="Ganeti/WConfd/ConfigModifications.html#attachInstanceDisk%27" class="link">Source</a> <a href="#v:attachInstanceDisk-39-" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h1>Monadic config modification functions which can return errors</h1></a><div class="top"><p class="src"><a id="v:detachInstanceDisk-39-" class="def">detachInstanceDisk'</a> :: MonadError <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> m =&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; m <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> <a href="Ganeti/WConfd/ConfigModifications.html#detachInstanceDisk%27" class="link">Source</a> <a href="#v:detachInstanceDisk-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:removeInstanceDisk-39-" class="def">removeInstanceDisk'</a> :: MonadError <a href="Ganeti-Errors.html#t:GanetiException" title="Ganeti.Errors">GanetiException</a> m =&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; ClockTime -&gt; <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> -&gt; m <a href="Ganeti-WConfd-ConfigState.html#t:ConfigState" title="Ganeti.WConfd.ConfigState">ConfigState</a> <a href="Ganeti/WConfd/ConfigModifications.html#removeInstanceDisk%27" class="link">Source</a> <a href="#v:removeInstanceDisk-39-" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>RPCs</h1></a><div class="top"><p class="src"><a id="v:addInstance" class="def">addInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a> -&gt; <a href="Ganeti-Locking-Locks.html#t:ClientId" title="Ganeti.Locking.Locks">ClientId</a> -&gt; Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool <a href="Ganeti/WConfd/ConfigModifications.html#addInstance" class="link">Source</a> <a href="#v:addInstance" class="selflink">#</a></p><div class="doc"><p>Add a new instance to the configuration, release DRBD minors,
 and commit temporary IPs, all while temporarily holding the config
 lock. Return True upon success and False if the config lock was not
 available and the client should retry.</p></div></div><div class="top"><p class="src"><a id="v:addInstanceDisk" class="def">addInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-Objects-Disk.html#t:Disk" title="Ganeti.Objects.Disk">Disk</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int -&gt; Bool -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool <a href="Ganeti/WConfd/ConfigModifications.html#addInstanceDisk" class="link">Source</a> <a href="#v:addInstanceDisk" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:attachInstanceDisk" class="def">attachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool <a href="Ganeti/WConfd/ConfigModifications.html#attachInstanceDisk" class="link">Source</a> <a href="#v:attachInstanceDisk" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:detachInstanceDisk" class="def">detachInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool <a href="Ganeti/WConfd/ConfigModifications.html#detachInstanceDisk" class="link">Source</a> <a href="#v:detachInstanceDisk" class="selflink">#</a></p><div class="doc"><p>Detach a disk from an instance.</p></div></div><div class="top"><p class="src"><a id="v:removeInstanceDisk" class="def">removeInstanceDisk</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:DiskUUID" title="Ganeti.WConfd.ConfigModifications">DiskUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool <a href="Ganeti/WConfd/ConfigModifications.html#removeInstanceDisk" class="link">Source</a> <a href="#v:removeInstanceDisk" class="selflink">#</a></p><div class="doc"><p>Detach a disk from an instance and
 remove it from the config.</p></div></div><div class="top"><p class="src"><a id="v:removeInstance" class="def">removeInstance</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool <a href="Ganeti/WConfd/ConfigModifications.html#removeInstance" class="link">Source</a> <a href="#v:removeInstance" class="selflink">#</a></p><div class="doc"><p>Remove the instance from the configuration.</p></div></div><div class="top"><p class="src"><a id="v:allocatePort" class="def">allocatePort</a> :: <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Int) <a href="Ganeti/WConfd/ConfigModifications.html#allocatePort" class="link">Source</a> <a href="#v:allocatePort" class="selflink">#</a></p><div class="doc"><p>Allocate a port.
 The port will be taken from the available port pool or from the
 default port range (and in this case we increase
 highest_used_port).</p></div></div><div class="top"><p class="src"><a id="v:addTcpUdpPort" class="def">addTcpUdpPort</a> :: Int -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool <a href="Ganeti/WConfd/ConfigModifications.html#addTcpUdpPort" class="link">Source</a> <a href="#v:addTcpUdpPort" class="selflink">#</a></p><div class="doc"><p>Adds a new port to the available port pool.</p></div></div><div class="top"><p class="src"><a id="v:setInstanceStatus" class="def">setInstanceStatus</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminState" title="Ganeti.Types">AdminState</a> -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> Bool -&gt; <a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> <a href="Ganeti-Types.html#t:AdminStateSource" title="Ganeti.Types">AdminStateSource</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a>) <a href="Ganeti/WConfd/ConfigModifications.html#setInstanceStatus" class="link">Source</a> <a href="#v:setInstanceStatus" class="selflink">#</a></p><div class="doc"><p>Set the instances' status to a given value.</p></div></div><div class="top"><p class="src"><a id="v:setInstancePrimaryNode" class="def">setInstancePrimaryNode</a> :: <a href="Ganeti-WConfd-ConfigModifications.html#t:InstanceUUID" title="Ganeti.WConfd.ConfigModifications">InstanceUUID</a> -&gt; <a href="Ganeti-WConfd-ConfigModifications.html#t:NodeUUID" title="Ganeti.WConfd.ConfigModifications">NodeUUID</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> Bool <a href="Ganeti/WConfd/ConfigModifications.html#setInstancePrimaryNode" class="link">Source</a> <a href="#v:setInstancePrimaryNode" class="selflink">#</a></p><div class="doc"><p>Sets the primary node of an existing instance</p></div></div><div class="top"><p class="src"><a id="v:updateCluster" class="def">updateCluster</a> :: <a href="Ganeti-Objects.html#t:Cluster" title="Ganeti.Objects">Cluster</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>)) <a href="Ganeti/WConfd/ConfigModifications.html#updateCluster" class="link">Source</a> <a href="#v:updateCluster" class="selflink">#</a></p><div class="doc"><p>The configuration is updated by the provided cluster</p></div></div><div class="top"><p class="src"><a id="v:updateNode" class="def">updateNode</a> :: <a href="Ganeti-Objects.html#t:Node" title="Ganeti.Objects">Node</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>)) <a href="Ganeti/WConfd/ConfigModifications.html#updateNode" class="link">Source</a> <a href="#v:updateNode" class="selflink">#</a></p><div class="doc"><p>The configuration is updated by the provided node</p></div></div><div class="top"><p class="src"><a id="v:updateInstance" class="def">updateInstance</a> :: <a href="Ganeti-Objects-Instance.html#t:Instance" title="Ganeti.Objects.Instance">Instance</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>)) <a href="Ganeti/WConfd/ConfigModifications.html#updateInstance" class="link">Source</a> <a href="#v:updateInstance" class="selflink">#</a></p><div class="doc"><p>The configuration is updated by the provided instance</p></div></div><div class="top"><p class="src"><a id="v:updateNodeGroup" class="def">updateNodeGroup</a> :: <a href="Ganeti-Objects.html#t:NodeGroup" title="Ganeti.Objects">NodeGroup</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>)) <a href="Ganeti/WConfd/ConfigModifications.html#updateNodeGroup" class="link">Source</a> <a href="#v:updateNodeGroup" class="selflink">#</a></p><div class="doc"><p>The configuration is updated by the provided nodegroup</p></div></div><div class="top"><p class="src"><a id="v:updateNetwork" class="def">updateNetwork</a> :: <a href="Ganeti-Objects.html#t:Network" title="Ganeti.Objects">Network</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>)) <a href="Ganeti/WConfd/ConfigModifications.html#updateNetwork" class="link">Source</a> <a href="#v:updateNetwork" class="selflink">#</a></p><div class="doc"><p>The configuration is updated by the provided network</p></div></div><div class="top"><p class="src"><a id="v:updateDisk" class="def">updateDisk</a> :: <a href="Ganeti-Objects-Disk.html#t:Disk" title="Ganeti.Objects.Disk">Disk</a> -&gt; <a href="Ganeti-WConfd-Monad.html#t:WConfdMonad" title="Ganeti.WConfd.Monad">WConfdMonad</a> (<a href="Ganeti-JSON.html#t:MaybeForJSON" title="Ganeti.JSON">MaybeForJSON</a> (Int, <a href="Ganeti-JSON.html#t:TimeAsDoubleJSON" title="Ganeti.JSON">TimeAsDoubleJSON</a>)) <a href="Ganeti/WConfd/ConfigModifications.html#updateDisk" class="link">Source</a> <a href="#v:updateDisk" class="selflink">#</a></p><div class="doc"><p>The configuration is updated by the provided disk</p></div></div><a href="#g:8" id="g:8"><h1>The list of functions exported to RPC.</h1></a><div class="top"><p class="src"><a id="v:exportedFunctions" class="def">exportedFunctions</a> :: [Name] <a href="Ganeti/WConfd/ConfigModifications.html#exportedFunctions" class="link">Source</a> <a href="#v:exportedFunctions" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>