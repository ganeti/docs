<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.Utils.Livelock</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/Utils/Livelock.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Ganeti.Utils.Livelock</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Utilities related to livelocks and death detection</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Livelock">Livelock</a> = FilePath</li><li class="src short"><a href="#v:mkLivelockFile">mkLivelockFile</a> :: (Error e, MonadError e m, MonadIO m) =&gt; FilePath -&gt; m (Fd, <a href="Ganeti-Utils-Livelock.html#t:Livelock" title="Ganeti.Utils.Livelock">Livelock</a>)</li><li class="src short"><a href="#v:listLiveLocks">listLiveLocks</a> :: IO [FilePath]</li><li class="src short"><a href="#v:isDead">isDead</a> :: <a href="Ganeti-Utils-Livelock.html#t:Livelock" title="Ganeti.Utils.Livelock">Livelock</a> -&gt; IO Bool</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Livelock" class="def">Livelock</a> = FilePath <a href="Ganeti/Utils/Livelock.html#Livelock" class="link">Source</a> <a href="#t:Livelock" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkLivelockFile" class="def">mkLivelockFile</a> :: (Error e, MonadError e m, MonadIO m) =&gt; FilePath -&gt; m (Fd, <a href="Ganeti-Utils-Livelock.html#t:Livelock" title="Ganeti.Utils.Livelock">Livelock</a>) <a href="Ganeti/Utils/Livelock.html#mkLivelockFile" class="link">Source</a> <a href="#v:mkLivelockFile" class="selflink">#</a></p><div class="doc"><p>Appends the current time to the given prefix, creates
 the lockfile in the appropriate directory, and locks it.
 Returns its full path and the file's file descriptor.</p></div></div><div class="top"><p class="src"><a id="v:listLiveLocks" class="def">listLiveLocks</a> :: IO [FilePath] <a href="Ganeti/Utils/Livelock.html#listLiveLocks" class="link">Source</a> <a href="#v:listLiveLocks" class="selflink">#</a></p><div class="doc"><p>List currently existing livelocks. Underapproximate if
 some error occurs.</p></div></div><div class="top"><p class="src"><a id="v:isDead" class="def">isDead</a> :: <a href="Ganeti-Utils-Livelock.html#t:Livelock" title="Ganeti.Utils.Livelock">Livelock</a> -&gt; IO Bool <a href="Ganeti/Utils/Livelock.html#isDead" class="link">Source</a> <a href="#v:isDead" class="selflink">#</a></p><div class="doc"><p>Detect whether a the process identified by the given path
 does not exist any more. This function never fails and only
 returns True if it has positive knowledge that the process
 does not exist any more (i.e., if it managed successfully
 obtain a shared lock on the file).</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>