<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.HTools.CLI</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/HTools/CLI.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Ganeti.HTools.CLI</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Data types</a></li><li><a href="#g:2">Helper functions</a></li><li><a href="#g:3">Command line options</a></li><li><a href="#g:4">Functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Implementation of command-line functions.</p><p>This module holds the common command-line related functions for the
binaries, separated into this module since <a href="Ganeti-Utils.html">Ganeti.Utils</a> is
used in many other places and this is more IO oriented.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Options">Options</a> = <a href="#v:Options">Options</a> {<ul class="subs"><li><a href="#v:optDataFile">optDataFile</a> :: Maybe FilePath</li><li><a href="#v:optDiskMoves">optDiskMoves</a> :: Bool</li><li><a href="#v:optInstMoves">optInstMoves</a> :: Bool</li><li><a href="#v:optDiskTemplate">optDiskTemplate</a> :: Maybe <a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a></li><li><a href="#v:optSpindleUse">optSpindleUse</a> :: Maybe Int</li><li><a href="#v:optDynuFile">optDynuFile</a> :: Maybe FilePath</li><li><a href="#v:optIgnoreDynu">optIgnoreDynu</a> :: Bool</li><li><a href="#v:optIgnoreSoftErrors">optIgnoreSoftErrors</a> :: Bool</li><li><a href="#v:optIndependentGroups">optIndependentGroups</a> :: Bool</li><li><a href="#v:optAcceptExisting">optAcceptExisting</a> :: Bool</li><li><a href="#v:optMonD">optMonD</a> :: Bool</li><li><a href="#v:optMonDFile">optMonDFile</a> :: Maybe FilePath</li><li><a href="#v:optMonDXen">optMonDXen</a> :: Bool</li><li><a href="#v:optMonDExitMissing">optMonDExitMissing</a> :: Bool</li><li><a href="#v:optEvacMode">optEvacMode</a> :: Bool</li><li><a href="#v:optRestrictedMigrate">optRestrictedMigrate</a> :: Bool</li><li><a href="#v:optExInst">optExInst</a> :: [String]</li><li><a href="#v:optExTags">optExTags</a> :: Maybe [String]</li><li><a href="#v:optExecJobs">optExecJobs</a> :: Bool</li><li><a href="#v:optDryRun">optDryRun</a> :: Bool</li><li><a href="#v:optFirstJobGroup">optFirstJobGroup</a> :: Bool</li><li><a href="#v:optForce">optForce</a> :: Bool</li><li><a href="#v:optFullEvacuation">optFullEvacuation</a> :: Bool</li><li><a href="#v:optGroup">optGroup</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:GroupID" title="Ganeti.HTools.Types">GroupID</a></li><li><a href="#v:optIAllocSrc">optIAllocSrc</a> :: Maybe FilePath</li><li><a href="#v:optIgnoreNonRedundant">optIgnoreNonRedundant</a> :: Bool</li><li><a href="#v:optSelInst">optSelInst</a> :: [String]</li><li><a href="#v:optLuxi">optLuxi</a> :: Maybe FilePath</li><li><a href="#v:optJobDelay">optJobDelay</a> :: Double</li><li><a href="#v:optMachineReadable">optMachineReadable</a> :: Bool</li><li><a href="#v:optMaster">optMaster</a> :: String</li><li><a href="#v:optMaxLength">optMaxLength</a> :: Int</li><li><a href="#v:optMcpu">optMcpu</a> :: Maybe Double</li><li><a href="#v:optMdsk">optMdsk</a> :: Double</li><li><a href="#v:optMinGain">optMinGain</a> :: <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a></li><li><a href="#v:optMinGainLim">optMinGainLim</a> :: <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a></li><li><a href="#v:optMinResources">optMinResources</a> :: Double</li><li><a href="#v:optMinScore">optMinScore</a> :: <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a></li><li><a href="#v:optNoHeaders">optNoHeaders</a> :: Bool</li><li><a href="#v:optNoSimulation">optNoSimulation</a> :: Bool</li><li><a href="#v:optNodeSim">optNodeSim</a> :: [String]</li><li><a href="#v:optNodeTags">optNodeTags</a> :: Maybe [String]</li><li><a href="#v:optOffline">optOffline</a> :: [String]</li><li><a href="#v:optRestrictToNodes">optRestrictToNodes</a> :: Maybe [String]</li><li><a href="#v:optOfflineMaintenance">optOfflineMaintenance</a> :: Bool</li><li><a href="#v:optOneStepOnly">optOneStepOnly</a> :: Bool</li><li><a href="#v:optOutPath">optOutPath</a> :: FilePath</li><li><a href="#v:optPrintMoves">optPrintMoves</a> :: Bool</li><li><a href="#v:optReason">optReason</a> :: Maybe String</li><li><a href="#v:optSaveCluster">optSaveCluster</a> :: Maybe FilePath</li><li><a href="#v:optShowCmds">optShowCmds</a> :: Maybe FilePath</li><li><a href="#v:optShowHelp">optShowHelp</a> :: Bool</li><li><a href="#v:optShowComp">optShowComp</a> :: Bool</li><li><a href="#v:optShowInsts">optShowInsts</a> :: Bool</li><li><a href="#v:optShowNodes">optShowNodes</a> :: Maybe [String]</li><li><a href="#v:optShowVer">optShowVer</a> :: Bool</li><li><a href="#v:optSkipNonRedundant">optSkipNonRedundant</a> :: Bool</li><li><a href="#v:optStaticKvmNodeMemory">optStaticKvmNodeMemory</a> :: Int</li><li><a href="#v:optStdSpec">optStdSpec</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:RSpec" title="Ganeti.HTools.Types">RSpec</a></li><li><a href="#v:optTargetResources">optTargetResources</a> :: Double</li><li><a href="#v:optTestCount">optTestCount</a> :: Maybe Int</li><li><a href="#v:optTieredSpec">optTieredSpec</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:RSpec" title="Ganeti.HTools.Types">RSpec</a></li><li><a href="#v:optReplay">optReplay</a> :: Maybe String</li><li><a href="#v:optVerbose">optVerbose</a> :: Int</li><li><a href="#v:optPriority">optPriority</a> :: Maybe <a href="Ganeti-Types.html#t:OpSubmitPriority" title="Ganeti.Types">OpSubmitPriority</a></li><li><a href="#v:optCapacity">optCapacity</a> :: Bool</li></ul>}</li><li class="src short"><a href="#v:defaultOptions">defaultOptions</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:OptType">OptType</a> = <a href="Ganeti-Common.html#t:GenericOptType" title="Ganeti.Common">GenericOptType</a> <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a></li><li class="src short"><a href="#v:parseISpecString">parseISpecString</a> :: String -&gt; String -&gt; <a href="Ganeti-BasicTypes.html#t:Result" title="Ganeti.BasicTypes">Result</a> <a href="Ganeti-HTools-Types.html#t:RSpec" title="Ganeti.HTools.Types">RSpec</a></li><li class="src short"><a href="#v:oDataFile">oDataFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oDiskMoves">oDiskMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMonD">oMonD</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMonDDataFile">oMonDDataFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMonDXen">oMonDXen</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMonDExitMissing">oMonDExitMissing</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oDiskTemplate">oDiskTemplate</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oSpindleUse">oSpindleUse</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oSelInst">oSelInst</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oInstMoves">oInstMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oDynuFile">oDynuFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oIgnoreDyn">oIgnoreDyn</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oIgnoreSoftErrors">oIgnoreSoftErrors</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oIndependentGroups">oIndependentGroups</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oAcceptExisting">oAcceptExisting</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oEvacMode">oEvacMode</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oRestrictedMigrate">oRestrictedMigrate</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oExInst">oExInst</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oExTags">oExTags</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oExecJobs">oExecJobs</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oDryRun">oDryRun</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oReason">oReason</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oFirstJobGroup">oFirstJobGroup</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oForce">oForce</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oFullEvacuation">oFullEvacuation</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oGroup">oGroup</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oIAllocSrc">oIAllocSrc</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oIgnoreNonRedundant">oIgnoreNonRedundant</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oJobDelay">oJobDelay</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:genOLuxiSocket">genOLuxiSocket</a> :: String -&gt; <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oLuxiSocket">oLuxiSocket</a> :: IO <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMachineReadable">oMachineReadable</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMaxCpu">oMaxCpu</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMaxSolLength">oMaxSolLength</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMinDisk">oMinDisk</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMinGain">oMinGain</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMinGainLim">oMinGainLim</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMinResources">oMinResources</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oMinScore">oMinScore</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oNoHeaders">oNoHeaders</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oNoSimulation">oNoSimulation</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oNodeSim">oNodeSim</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oNodeTags">oNodeTags</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oOfflineMaintenance">oOfflineMaintenance</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oOfflineNode">oOfflineNode</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oRestrictToNodes">oRestrictToNodes</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oOneStepOnly">oOneStepOnly</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oOutputDir">oOutputDir</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oPrintCommands">oPrintCommands</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oPrintInsts">oPrintInsts</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oPrintMoves">oPrintMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oPrintNodes">oPrintNodes</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oQuiet">oQuiet</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oRapiMaster">oRapiMaster</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oSaveCluster">oSaveCluster</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oSkipNonRedundant">oSkipNonRedundant</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oStaticKvmNodeMemory">oStaticKvmNodeMemory</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oStdSpec">oStdSpec</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oTargetResources">oTargetResources</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oTieredSpec">oTieredSpec</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oVerbose">oVerbose</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oPriority">oPriority</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:oNoCapacityChecks">oNoCapacityChecks</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a></li><li class="src short"><a href="#v:genericOpts">genericOpts</a> :: [<a href="Ganeti-Common.html#t:GenericOptType" title="Ganeti.Common">GenericOptType</a> <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a>]</li><li class="src short"><a href="#v:parseOpts">parseOpts</a> :: [String] -&gt; String -&gt; [<a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a>] -&gt; [<a href="Ganeti-Common.html#t:ArgCompletion" title="Ganeti.Common">ArgCompletion</a>] -&gt; IO (<a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a>, [String])</li><li class="src short"><a href="#v:shTemplate">shTemplate</a> :: String</li><li class="src short"><a href="#v:maybeSaveCommands">maybeSaveCommands</a> :: String -&gt; <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; String -&gt; IO ()</li><li class="src short"><a href="#v:maybePrintNodes">maybePrintNodes</a> :: Maybe [String] -&gt; String -&gt; ([String] -&gt; String) -&gt; IO ()</li><li class="src short"><a href="#v:maybePrintInsts">maybePrintInsts</a> :: Bool -&gt; String -&gt; String -&gt; IO ()</li><li class="src short"><a href="#v:maybeShowWarnings">maybeShowWarnings</a> :: [String] -&gt; IO ()</li><li class="src short"><a href="#v:printKeys">printKeys</a> :: String -&gt; [(String, String)] -&gt; IO ()</li><li class="src short"><a href="#v:printFinal">printFinal</a> :: String -&gt; Bool -&gt; IO ()</li><li class="src short"><a href="#v:setNodeStatus">setNodeStatus</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; <a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a> -&gt; IO <a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Data types</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Options" class="def">Options</a> <a href="Ganeti/HTools/CLI.html#Options" class="link">Source</a> <a href="#t:Options" class="selflink">#</a></p><div class="doc"><p>Command line options structure.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Options" class="def">Options</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:optDataFile" class="def">optDataFile</a> :: Maybe FilePath</dfn><div class="doc"><p>Path to the cluster data file</p></div></li><li><dfn class="src"><a id="v:optDiskMoves" class="def">optDiskMoves</a> :: Bool</dfn><div class="doc"><p>Allow disk moves</p></div></li><li><dfn class="src"><a id="v:optInstMoves" class="def">optInstMoves</a> :: Bool</dfn><div class="doc"><p>Allow instance moves</p></div></li><li><dfn class="src"><a id="v:optDiskTemplate" class="def">optDiskTemplate</a> :: Maybe <a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a></dfn><div class="doc"><p>Override for the disk template</p></div></li><li><dfn class="src"><a id="v:optSpindleUse" class="def">optSpindleUse</a> :: Maybe Int</dfn><div class="doc"><p>Override for the spindle usage</p></div></li><li><dfn class="src"><a id="v:optDynuFile" class="def">optDynuFile</a> :: Maybe FilePath</dfn><div class="doc"><p>Optional file with dynamic use data</p></div></li><li><dfn class="src"><a id="v:optIgnoreDynu" class="def">optIgnoreDynu</a> :: Bool</dfn><div class="doc"><p>Do not use dynamic use data</p></div></li><li><dfn class="src"><a id="v:optIgnoreSoftErrors" class="def">optIgnoreSoftErrors</a> :: Bool</dfn><div class="doc"><p>Ignore soft errors in balancing moves</p></div></li><li><dfn class="src"><a id="v:optIndependentGroups" class="def">optIndependentGroups</a> :: Bool</dfn><div class="doc"><p>consider groups independently</p></div></li><li><dfn class="src"><a id="v:optAcceptExisting" class="def">optAcceptExisting</a> :: Bool</dfn><div class="doc"><p>accept existing N+1 violations</p></div></li><li><dfn class="src"><a id="v:optMonD" class="def">optMonD</a> :: Bool</dfn><div class="doc"><p>Query MonDs</p></div></li><li><dfn class="src"><a id="v:optMonDFile" class="def">optMonDFile</a> :: Maybe FilePath</dfn><div class="doc"><p>Optional file with data provided
 by MonDs</p></div></li><li><dfn class="src"><a id="v:optMonDXen" class="def">optMonDXen</a> :: Bool</dfn><div class="doc"><p>Should Xen-specific collectors be
 considered (only if MonD is queried)</p></div></li><li><dfn class="src"><a id="v:optMonDExitMissing" class="def">optMonDExitMissing</a> :: Bool</dfn><div class="doc"><p>If the program should exit on missing
 MonD data</p></div></li><li><dfn class="src"><a id="v:optEvacMode" class="def">optEvacMode</a> :: Bool</dfn><div class="doc"><p>Enable evacuation mode</p></div></li><li><dfn class="src"><a id="v:optRestrictedMigrate" class="def">optRestrictedMigrate</a> :: Bool</dfn><div class="doc"><p>Disallow replace-primary moves</p></div></li><li><dfn class="src"><a id="v:optExInst" class="def">optExInst</a> :: [String]</dfn><div class="doc"><p>Instances to be excluded</p></div></li><li><dfn class="src"><a id="v:optExTags" class="def">optExTags</a> :: Maybe [String]</dfn><div class="doc"><p>Tags to use for exclusion</p></div></li><li><dfn class="src"><a id="v:optExecJobs" class="def">optExecJobs</a> :: Bool</dfn><div class="doc"><p>Execute the commands via Luxi</p></div></li><li><dfn class="src"><a id="v:optDryRun" class="def">optDryRun</a> :: Bool</dfn><div class="doc"><p>Only do a dry run</p></div></li><li><dfn class="src"><a id="v:optFirstJobGroup" class="def">optFirstJobGroup</a> :: Bool</dfn><div class="doc"><p>Only execute the first group of jobs</p></div></li><li><dfn class="src"><a id="v:optForce" class="def">optForce</a> :: Bool</dfn><div class="doc"><p>Force the execution</p></div></li><li><dfn class="src"><a id="v:optFullEvacuation" class="def">optFullEvacuation</a> :: Bool</dfn><div class="doc"><p>Fully evacuate nodes to be rebooted</p></div></li><li><dfn class="src"><a id="v:optGroup" class="def">optGroup</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:GroupID" title="Ganeti.HTools.Types">GroupID</a></dfn><div class="doc"><p>The UUID of the group to process</p></div></li><li><dfn class="src"><a id="v:optIAllocSrc" class="def">optIAllocSrc</a> :: Maybe FilePath</dfn><div class="doc"><p>The iallocation spec</p></div></li><li><dfn class="src"><a id="v:optIgnoreNonRedundant" class="def">optIgnoreNonRedundant</a> :: Bool</dfn><div class="doc"><p>Ignore non-redundant instances</p></div></li><li><dfn class="src"><a id="v:optSelInst" class="def">optSelInst</a> :: [String]</dfn><div class="doc"><p>Instances to be excluded</p></div></li><li><dfn class="src"><a id="v:optLuxi" class="def">optLuxi</a> :: Maybe FilePath</dfn><div class="doc"><p>Collect data from Luxi</p></div></li><li><dfn class="src"><a id="v:optJobDelay" class="def">optJobDelay</a> :: Double</dfn><div class="doc"><p>Delay before executing first job</p></div></li><li><dfn class="src"><a id="v:optMachineReadable" class="def">optMachineReadable</a> :: Bool</dfn><div class="doc"><p>Output machine-readable format</p></div></li><li><dfn class="src"><a id="v:optMaster" class="def">optMaster</a> :: String</dfn><div class="doc"><p>Collect data from RAPI</p></div></li><li><dfn class="src"><a id="v:optMaxLength" class="def">optMaxLength</a> :: Int</dfn><div class="doc"><p>Stop after this many steps</p></div></li><li><dfn class="src"><a id="v:optMcpu" class="def">optMcpu</a> :: Maybe Double</dfn><div class="doc"><p>Override max cpu ratio for nodes</p></div></li><li><dfn class="src"><a id="v:optMdsk" class="def">optMdsk</a> :: Double</dfn><div class="doc"><p>Max disk usage ratio for nodes</p></div></li><li><dfn class="src"><a id="v:optMinGain" class="def">optMinGain</a> :: <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a></dfn><div class="doc"><p>Min gain we aim for in a step</p></div></li><li><dfn class="src"><a id="v:optMinGainLim" class="def">optMinGainLim</a> :: <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a></dfn><div class="doc"><p>Limit below which we apply mingain</p></div></li><li><dfn class="src"><a id="v:optMinResources" class="def">optMinResources</a> :: Double</dfn><div class="doc"><p>Minimal resources for hsqueeze</p></div></li><li><dfn class="src"><a id="v:optMinScore" class="def">optMinScore</a> :: <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a></dfn><div class="doc"><p>The minimum score we aim for</p></div></li><li><dfn class="src"><a id="v:optNoHeaders" class="def">optNoHeaders</a> :: Bool</dfn><div class="doc"><p>Do not show a header line</p></div></li><li><dfn class="src"><a id="v:optNoSimulation" class="def">optNoSimulation</a> :: Bool</dfn><div class="doc"><p>Skip the rebalancing dry-run</p></div></li><li><dfn class="src"><a id="v:optNodeSim" class="def">optNodeSim</a> :: [String]</dfn><div class="doc"><p>Cluster simulation mode</p></div></li><li><dfn class="src"><a id="v:optNodeTags" class="def">optNodeTags</a> :: Maybe [String]</dfn><div class="doc"><p>List of node tags to restrict to</p></div></li><li><dfn class="src"><a id="v:optOffline" class="def">optOffline</a> :: [String]</dfn><div class="doc"><p>Names of offline nodes</p></div></li><li><dfn class="src"><a id="v:optRestrictToNodes" class="def">optRestrictToNodes</a> :: Maybe [String]</dfn><div class="doc"><p>if not Nothing, restrict
 allocation to those nodes</p></div></li><li><dfn class="src"><a id="v:optOfflineMaintenance" class="def">optOfflineMaintenance</a> :: Bool</dfn><div class="doc"><p>Pretend all instances are offline</p></div></li><li><dfn class="src"><a id="v:optOneStepOnly" class="def">optOneStepOnly</a> :: Bool</dfn><div class="doc"><p>Only do the first step</p></div></li><li><dfn class="src"><a id="v:optOutPath" class="def">optOutPath</a> :: FilePath</dfn><div class="doc"><p>Path to the output directory</p></div></li><li><dfn class="src"><a id="v:optPrintMoves" class="def">optPrintMoves</a> :: Bool</dfn><div class="doc"><p>Whether to show the instance moves</p></div></li><li><dfn class="src"><a id="v:optReason" class="def">optReason</a> :: Maybe String</dfn><div class="doc"><p>The reason to be passed when
 submitting jobs</p></div></li><li><dfn class="src"><a id="v:optSaveCluster" class="def">optSaveCluster</a> :: Maybe FilePath</dfn><div class="doc"><p>Save cluster state to this file</p></div></li><li><dfn class="src"><a id="v:optShowCmds" class="def">optShowCmds</a> :: Maybe FilePath</dfn><div class="doc"><p>Whether to show the command list</p></div></li><li><dfn class="src"><a id="v:optShowHelp" class="def">optShowHelp</a> :: Bool</dfn><div class="doc"><p>Just show the help</p></div></li><li><dfn class="src"><a id="v:optShowComp" class="def">optShowComp</a> :: Bool</dfn><div class="doc"><p>Just show the completion info</p></div></li><li><dfn class="src"><a id="v:optShowInsts" class="def">optShowInsts</a> :: Bool</dfn><div class="doc"><p>Whether to show the instance map</p></div></li><li><dfn class="src"><a id="v:optShowNodes" class="def">optShowNodes</a> :: Maybe [String]</dfn><div class="doc"><p>Whether to show node status</p></div></li><li><dfn class="src"><a id="v:optShowVer" class="def">optShowVer</a> :: Bool</dfn><div class="doc"><p>Just show the program version</p></div></li><li><dfn class="src"><a id="v:optSkipNonRedundant" class="def">optSkipNonRedundant</a> :: Bool</dfn><div class="doc"><p>Skip nodes with non-redundant instance</p></div></li><li><dfn class="src"><a id="v:optStaticKvmNodeMemory" class="def">optStaticKvmNodeMemory</a> :: Int</dfn><div class="doc"><p>Use static value for node memory
 ^ on KVM</p></div></li><li><dfn class="src"><a id="v:optStdSpec" class="def">optStdSpec</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:RSpec" title="Ganeti.HTools.Types">RSpec</a></dfn><div class="doc"><p>Requested standard specs</p></div></li><li><dfn class="src"><a id="v:optTargetResources" class="def">optTargetResources</a> :: Double</dfn><div class="doc"><p>Target resources for squeezing</p></div></li><li><dfn class="src"><a id="v:optTestCount" class="def">optTestCount</a> :: Maybe Int</dfn><div class="doc"><p>Optional test count override</p></div></li><li><dfn class="src"><a id="v:optTieredSpec" class="def">optTieredSpec</a> :: Maybe <a href="Ganeti-HTools-Types.html#t:RSpec" title="Ganeti.HTools.Types">RSpec</a></dfn><div class="doc"><p>Requested specs for tiered mode</p></div></li><li><dfn class="src"><a id="v:optReplay" class="def">optReplay</a> :: Maybe String</dfn><div class="doc"><p>Unittests: RNG state</p></div></li><li><dfn class="src"><a id="v:optVerbose" class="def">optVerbose</a> :: Int</dfn><div class="doc"><p>Verbosity level</p></div></li><li><dfn class="src"><a id="v:optPriority" class="def">optPriority</a> :: Maybe <a href="Ganeti-Types.html#t:OpSubmitPriority" title="Ganeti.Types">OpSubmitPriority</a></dfn><div class="doc"><p>OpCode submit priority</p></div></li><li><dfn class="src"><a id="v:optCapacity" class="def">optCapacity</a> :: Bool</dfn><div class="doc"><p>Also do capacity-related checks</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:Options" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Options:Show:1"></span> Show <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a></span> <a href="#t:Options" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Options:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ganeti-HTools-CLI.html">Ganeti.HTools.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Options:StandardOptions:2"></span> <a href="Ganeti-Common.html#t:StandardOptions" title="Ganeti.Common">StandardOptions</a> <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a></span> <a href="#t:Options" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Options:StandardOptions:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ganeti-HTools-CLI.html">Ganeti.HTools.CLI</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:helpRequested">helpRequested</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; Bool <a href="Ganeti/Common.html#helpRequested" class="link">Source</a> <a href="#v:helpRequested" class="selflink">#</a></p><p class="src"><a href="#v:verRequested">verRequested</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; Bool <a href="Ganeti/Common.html#verRequested" class="link">Source</a> <a href="#v:verRequested" class="selflink">#</a></p><p class="src"><a href="#v:compRequested">compRequested</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; Bool <a href="Ganeti/Common.html#compRequested" class="link">Source</a> <a href="#v:compRequested" class="selflink">#</a></p><p class="src"><a href="#v:requestHelp">requestHelp</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> <a href="Ganeti/Common.html#requestHelp" class="link">Source</a> <a href="#v:requestHelp" class="selflink">#</a></p><p class="src"><a href="#v:requestVer">requestVer</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> <a href="Ganeti/Common.html#requestVer" class="link">Source</a> <a href="#v:requestVer" class="selflink">#</a></p><p class="src"><a href="#v:requestComp">requestComp</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> <a href="Ganeti/Common.html#requestComp" class="link">Source</a> <a href="#v:requestComp" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:defaultOptions" class="def">defaultOptions</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> <a href="Ganeti/HTools/CLI.html#defaultOptions" class="link">Source</a> <a href="#v:defaultOptions" class="selflink">#</a></p><div class="doc"><p>Default values for the command line options.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:OptType" class="def">OptType</a> = <a href="Ganeti-Common.html#t:GenericOptType" title="Ganeti.Common">GenericOptType</a> <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> <a href="Ganeti/HTools/CLI.html#OptType" class="link">Source</a> <a href="#t:OptType" class="selflink">#</a></p><div class="doc"><p>Abbreviation for the option type.</p></div></div><a href="#g:2" id="g:2"><h1>Helper functions</h1></a><div class="top"><p class="src"><a id="v:parseISpecString" class="def">parseISpecString</a> :: String -&gt; String -&gt; <a href="Ganeti-BasicTypes.html#t:Result" title="Ganeti.BasicTypes">Result</a> <a href="Ganeti-HTools-Types.html#t:RSpec" title="Ganeti.HTools.Types">RSpec</a> <a href="Ganeti/HTools/CLI.html#parseISpecString" class="link">Source</a> <a href="#v:parseISpecString" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Command line options</h1></a><div class="top"><p class="src"><a id="v:oDataFile" class="def">oDataFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oDataFile" class="link">Source</a> <a href="#v:oDataFile" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oDiskMoves" class="def">oDiskMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oDiskMoves" class="link">Source</a> <a href="#v:oDiskMoves" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMonD" class="def">oMonD</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMonD" class="link">Source</a> <a href="#v:oMonD" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMonDDataFile" class="def">oMonDDataFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMonDDataFile" class="link">Source</a> <a href="#v:oMonDDataFile" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMonDXen" class="def">oMonDXen</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMonDXen" class="link">Source</a> <a href="#v:oMonDXen" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMonDExitMissing" class="def">oMonDExitMissing</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMonDExitMissing" class="link">Source</a> <a href="#v:oMonDExitMissing" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oDiskTemplate" class="def">oDiskTemplate</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oDiskTemplate" class="link">Source</a> <a href="#v:oDiskTemplate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oSpindleUse" class="def">oSpindleUse</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oSpindleUse" class="link">Source</a> <a href="#v:oSpindleUse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oSelInst" class="def">oSelInst</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oSelInst" class="link">Source</a> <a href="#v:oSelInst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oInstMoves" class="def">oInstMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oInstMoves" class="link">Source</a> <a href="#v:oInstMoves" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oDynuFile" class="def">oDynuFile</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oDynuFile" class="link">Source</a> <a href="#v:oDynuFile" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oIgnoreDyn" class="def">oIgnoreDyn</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oIgnoreDyn" class="link">Source</a> <a href="#v:oIgnoreDyn" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oIgnoreSoftErrors" class="def">oIgnoreSoftErrors</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oIgnoreSoftErrors" class="link">Source</a> <a href="#v:oIgnoreSoftErrors" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oIndependentGroups" class="def">oIndependentGroups</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oIndependentGroups" class="link">Source</a> <a href="#v:oIndependentGroups" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oAcceptExisting" class="def">oAcceptExisting</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oAcceptExisting" class="link">Source</a> <a href="#v:oAcceptExisting" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oEvacMode" class="def">oEvacMode</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oEvacMode" class="link">Source</a> <a href="#v:oEvacMode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oRestrictedMigrate" class="def">oRestrictedMigrate</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oRestrictedMigrate" class="link">Source</a> <a href="#v:oRestrictedMigrate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oExInst" class="def">oExInst</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oExInst" class="link">Source</a> <a href="#v:oExInst" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oExTags" class="def">oExTags</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oExTags" class="link">Source</a> <a href="#v:oExTags" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oExecJobs" class="def">oExecJobs</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oExecJobs" class="link">Source</a> <a href="#v:oExecJobs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oDryRun" class="def">oDryRun</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oDryRun" class="link">Source</a> <a href="#v:oDryRun" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oReason" class="def">oReason</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oReason" class="link">Source</a> <a href="#v:oReason" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oFirstJobGroup" class="def">oFirstJobGroup</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oFirstJobGroup" class="link">Source</a> <a href="#v:oFirstJobGroup" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oForce" class="def">oForce</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oForce" class="link">Source</a> <a href="#v:oForce" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oFullEvacuation" class="def">oFullEvacuation</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oFullEvacuation" class="link">Source</a> <a href="#v:oFullEvacuation" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oGroup" class="def">oGroup</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oGroup" class="link">Source</a> <a href="#v:oGroup" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oIAllocSrc" class="def">oIAllocSrc</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oIAllocSrc" class="link">Source</a> <a href="#v:oIAllocSrc" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oIgnoreNonRedundant" class="def">oIgnoreNonRedundant</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oIgnoreNonRedundant" class="link">Source</a> <a href="#v:oIgnoreNonRedundant" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oJobDelay" class="def">oJobDelay</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oJobDelay" class="link">Source</a> <a href="#v:oJobDelay" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genOLuxiSocket" class="def">genOLuxiSocket</a> :: String -&gt; <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#genOLuxiSocket" class="link">Source</a> <a href="#v:genOLuxiSocket" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oLuxiSocket" class="def">oLuxiSocket</a> :: IO <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oLuxiSocket" class="link">Source</a> <a href="#v:oLuxiSocket" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMachineReadable" class="def">oMachineReadable</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMachineReadable" class="link">Source</a> <a href="#v:oMachineReadable" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMaxCpu" class="def">oMaxCpu</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMaxCpu" class="link">Source</a> <a href="#v:oMaxCpu" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMaxSolLength" class="def">oMaxSolLength</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMaxSolLength" class="link">Source</a> <a href="#v:oMaxSolLength" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMinDisk" class="def">oMinDisk</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMinDisk" class="link">Source</a> <a href="#v:oMinDisk" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMinGain" class="def">oMinGain</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMinGain" class="link">Source</a> <a href="#v:oMinGain" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMinGainLim" class="def">oMinGainLim</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMinGainLim" class="link">Source</a> <a href="#v:oMinGainLim" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMinResources" class="def">oMinResources</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMinResources" class="link">Source</a> <a href="#v:oMinResources" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oMinScore" class="def">oMinScore</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oMinScore" class="link">Source</a> <a href="#v:oMinScore" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oNoHeaders" class="def">oNoHeaders</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oNoHeaders" class="link">Source</a> <a href="#v:oNoHeaders" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oNoSimulation" class="def">oNoSimulation</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oNoSimulation" class="link">Source</a> <a href="#v:oNoSimulation" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oNodeSim" class="def">oNodeSim</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oNodeSim" class="link">Source</a> <a href="#v:oNodeSim" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oNodeTags" class="def">oNodeTags</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oNodeTags" class="link">Source</a> <a href="#v:oNodeTags" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oOfflineMaintenance" class="def">oOfflineMaintenance</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oOfflineMaintenance" class="link">Source</a> <a href="#v:oOfflineMaintenance" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oOfflineNode" class="def">oOfflineNode</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oOfflineNode" class="link">Source</a> <a href="#v:oOfflineNode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oRestrictToNodes" class="def">oRestrictToNodes</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oRestrictToNodes" class="link">Source</a> <a href="#v:oRestrictToNodes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oOneStepOnly" class="def">oOneStepOnly</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oOneStepOnly" class="link">Source</a> <a href="#v:oOneStepOnly" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oOutputDir" class="def">oOutputDir</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oOutputDir" class="link">Source</a> <a href="#v:oOutputDir" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oPrintCommands" class="def">oPrintCommands</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oPrintCommands" class="link">Source</a> <a href="#v:oPrintCommands" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oPrintInsts" class="def">oPrintInsts</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oPrintInsts" class="link">Source</a> <a href="#v:oPrintInsts" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oPrintMoves" class="def">oPrintMoves</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oPrintMoves" class="link">Source</a> <a href="#v:oPrintMoves" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oPrintNodes" class="def">oPrintNodes</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oPrintNodes" class="link">Source</a> <a href="#v:oPrintNodes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oQuiet" class="def">oQuiet</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oQuiet" class="link">Source</a> <a href="#v:oQuiet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oRapiMaster" class="def">oRapiMaster</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oRapiMaster" class="link">Source</a> <a href="#v:oRapiMaster" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oSaveCluster" class="def">oSaveCluster</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oSaveCluster" class="link">Source</a> <a href="#v:oSaveCluster" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oSkipNonRedundant" class="def">oSkipNonRedundant</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oSkipNonRedundant" class="link">Source</a> <a href="#v:oSkipNonRedundant" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oStaticKvmNodeMemory" class="def">oStaticKvmNodeMemory</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oStaticKvmNodeMemory" class="link">Source</a> <a href="#v:oStaticKvmNodeMemory" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oStdSpec" class="def">oStdSpec</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oStdSpec" class="link">Source</a> <a href="#v:oStdSpec" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oTargetResources" class="def">oTargetResources</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oTargetResources" class="link">Source</a> <a href="#v:oTargetResources" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oTieredSpec" class="def">oTieredSpec</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oTieredSpec" class="link">Source</a> <a href="#v:oTieredSpec" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oVerbose" class="def">oVerbose</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oVerbose" class="link">Source</a> <a href="#v:oVerbose" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oPriority" class="def">oPriority</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oPriority" class="link">Source</a> <a href="#v:oPriority" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:oNoCapacityChecks" class="def">oNoCapacityChecks</a> :: <a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a> <a href="Ganeti/HTools/CLI.html#oNoCapacityChecks" class="link">Source</a> <a href="#v:oNoCapacityChecks" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genericOpts" class="def">genericOpts</a> :: [<a href="Ganeti-Common.html#t:GenericOptType" title="Ganeti.Common">GenericOptType</a> <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a>] <a href="Ganeti/HTools/CLI.html#genericOpts" class="link">Source</a> <a href="#v:genericOpts" class="selflink">#</a></p><div class="doc"><p>Generic options.</p></div></div><a href="#g:4" id="g:4"><h1>Functions</h1></a><div class="top"><p class="src"><a id="v:parseOpts" class="def">parseOpts</a> <a href="Ganeti/HTools/CLI.html#parseOpts" class="link">Source</a> <a href="#v:parseOpts" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>The command line arguments</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>The program name</p></td></tr><tr><td class="src">-&gt; [<a href="Ganeti-HTools-CLI.html#t:OptType" title="Ganeti.HTools.CLI">OptType</a>]</td><td class="doc"><p>The supported command line options</p></td></tr><tr><td class="src">-&gt; [<a href="Ganeti-Common.html#t:ArgCompletion" title="Ganeti.Common">ArgCompletion</a>]</td><td class="doc"><p>The supported command line arguments</p></td></tr><tr><td class="src">-&gt; IO (<a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a>, [String])</td><td class="doc"><p>The resulting options and leftover
 arguments</p></td></tr></table></div><div class="doc"><p>Wrapper over <code><a href="Ganeti-Common.html#v:parseOpts" title="Ganeti.Common">parseOpts</a></code> with our custom options.</p></div></div><div class="top"><p class="src"><a id="v:shTemplate" class="def">shTemplate</a> :: String <a href="Ganeti/HTools/CLI.html#shTemplate" class="link">Source</a> <a href="#v:shTemplate" class="selflink">#</a></p><div class="doc"><p>A shell script template for autogenerated scripts.</p></div></div><div class="top"><p class="src"><a id="v:maybeSaveCommands" class="def">maybeSaveCommands</a> <a href="Ganeti/HTools/CLI.html#maybeSaveCommands" class="link">Source</a> <a href="#v:maybeSaveCommands" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Informal description</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>commands</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Optionally show or save a list of commands</p></div></div><div class="top"><p class="src"><a id="v:maybePrintNodes" class="def">maybePrintNodes</a> <a href="Ganeti/HTools/CLI.html#maybePrintNodes" class="link">Source</a> <a href="#v:maybePrintNodes" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Maybe [String]</td><td class="doc"><p>The field list</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Informational message</p></td></tr><tr><td class="src">-&gt; ([String] -&gt; String)</td><td class="doc"><p>Function to generate the listing</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Optionally print the node list.</p></div></div><div class="top"><p class="src"><a id="v:maybePrintInsts" class="def">maybePrintInsts</a> <a href="Ganeti/HTools/CLI.html#maybePrintInsts" class="link">Source</a> <a href="#v:maybePrintInsts" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Bool</td><td class="doc"><p>Whether to print the instance list</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Type of the instance map (e.g. initial)</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>The instance data</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Optionally print the instance list.</p></div></div><div class="top"><p class="src"><a id="v:maybeShowWarnings" class="def">maybeShowWarnings</a> <a href="Ganeti/HTools/CLI.html#maybeShowWarnings" class="link">Source</a> <a href="#v:maybeShowWarnings" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>The warning messages</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Function to display warning messages from parsing the cluster
 state.</p></div></div><div class="top"><p class="src"><a id="v:printKeys" class="def">printKeys</a> <a href="Ganeti/HTools/CLI.html#printKeys" class="link">Source</a> <a href="#v:printKeys" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Prefix to printed variables</p></td></tr><tr><td class="src">-&gt; [(String, String)]</td><td class="doc"><p>List of (key, value) pairs to be printed</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Format a list of key, value as a shell fragment.</p></div></div><div class="top"><p class="src"><a id="v:printFinal" class="def">printFinal</a> <a href="Ganeti/HTools/CLI.html#printFinal" class="link">Source</a> <a href="#v:printFinal" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Prefix to printed variable</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Whether output should be machine readable;
 note: if not, there is nothing to print</p></td></tr><tr><td class="src">-&gt; IO ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Prints the final <code>OK</code> marker in machine readable output.</p></div></div><div class="top"><p class="src"><a id="v:setNodeStatus" class="def">setNodeStatus</a> :: <a href="Ganeti-HTools-CLI.html#t:Options" title="Ganeti.HTools.CLI">Options</a> -&gt; <a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a> -&gt; IO <a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a> <a href="Ganeti/HTools/CLI.html#setNodeStatus" class="link">Source</a> <a href="#v:setNodeStatus" class="selflink">#</a></p><div class="doc"><p>Set node properties based on command line options.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>