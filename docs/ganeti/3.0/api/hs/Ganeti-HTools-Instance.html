<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.HTools.Instance</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/HTools/Instance.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Ganeti.HTools.Instance</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Type declarations</a></li><li><a href="#g:2">Initialization</a></li><li><a href="#g:3">Update functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Module describing an instance.</p><p>The instance data type holds very few fields, the algorithm
intelligence is in the <a href="Node.html">Node</a> and <a href="Cluster.html">Cluster</a> modules.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Disk">Disk</a> = <a href="#v:Disk">Disk</a> {<ul class="subs"><li><a href="#v:dskSize">dskSize</a> :: Int</li><li><a href="#v:dskSpindles">dskSpindles</a> :: Maybe Int</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Instance">Instance</a> = <a href="#v:Instance">Instance</a> {<ul class="subs"><li><a href="#v:name">name</a> :: String</li><li><a href="#v:alias">alias</a> :: String</li><li><a href="#v:mem">mem</a> :: Int</li><li><a href="#v:dsk">dsk</a> :: Int</li><li><a href="#v:disks">disks</a> :: [<a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a>]</li><li><a href="#v:vcpus">vcpus</a> :: Int</li><li><a href="#v:runSt">runSt</a> :: <a href="Ganeti-Types.html#t:InstanceStatus" title="Ganeti.Types">InstanceStatus</a></li><li><a href="#v:pNode">pNode</a> :: <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a></li><li><a href="#v:sNode">sNode</a> :: <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a></li><li><a href="#v:idx">idx</a> :: <a href="Ganeti-HTools-Types.html#t:Idx" title="Ganeti.HTools.Types">Idx</a></li><li><a href="#v:util">util</a> :: <a href="Ganeti-HTools-Types.html#t:DynUtil" title="Ganeti.HTools.Types">DynUtil</a></li><li><a href="#v:movable">movable</a> :: Bool</li><li><a href="#v:autoBalance">autoBalance</a> :: Bool</li><li><a href="#v:diskTemplate">diskTemplate</a> :: <a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a></li><li><a href="#v:spindleUse">spindleUse</a> :: Int</li><li><a href="#v:allTags">allTags</a> :: [String]</li><li><a href="#v:exclTags">exclTags</a> :: [String]</li><li><a href="#v:dsrdLocTags">dsrdLocTags</a> :: Set String</li><li><a href="#v:locationScore">locationScore</a> :: Int</li><li><a href="#v:arPolicy">arPolicy</a> :: <a href="Ganeti-HTools-Types.html#t:AutoRepairPolicy" title="Ganeti.HTools.Types">AutoRepairPolicy</a></li><li><a href="#v:nics">nics</a> :: [<a href="Ganeti-HTools-Nic.html#t:Nic" title="Ganeti.HTools.Nic">Nic</a>]</li><li><a href="#v:forthcoming">forthcoming</a> :: Bool</li></ul>}</li><li class="src short"><a href="#v:isRunning">isRunning</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</li><li class="src short"><a href="#v:isOffline">isOffline</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</li><li class="src short"><a href="#v:notOffline">notOffline</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</li><li class="src short"><a href="#v:instanceDown">instanceDown</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</li><li class="src short"><a href="#v:applyIfOnline">applyIfOnline</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; (a -&gt; a) -&gt; a -&gt; a</li><li class="src short"><a href="#v:usesSecMem">usesSecMem</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</li><li class="src short"><a href="#v:localStorageTemplates">localStorageTemplates</a> :: [<a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:AssocList">AssocList</a> = [(<a href="Ganeti-HTools-Types.html#t:Idx" title="Ganeti.HTools.Types">Idx</a>, <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a>)]</li><li class="src short"><span class="keyword">type</span> <a href="#t:List">List</a> = <a href="Ganeti-HTools-Container.html#t:Container" title="Ganeti.HTools.Container">Container</a> <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:create">create</a> :: String -&gt; Int -&gt; Int -&gt; [<a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a>] -&gt; Int -&gt; <a href="Ganeti-Types.html#t:InstanceStatus" title="Ganeti.Types">InstanceStatus</a> -&gt; [String] -&gt; Bool -&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a> -&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a> -&gt; <a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a> -&gt; Int -&gt; [<a href="Ganeti-HTools-Nic.html#t:Nic" title="Ganeti.HTools.Nic">Nic</a>] -&gt; Bool -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:setIdx">setIdx</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:Idx" title="Ganeti.HTools.Types">Idx</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:setName">setName</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; String -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:setAlias">setAlias</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; String -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:setPri">setPri</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:setSec">setSec</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:setBoth">setBoth</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a> -&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:setMovable">setMovable</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:shrinkByType">shrinkByType</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:FailMode" title="Ganeti.HTools.Types">FailMode</a> -&gt; <a href="Ganeti-BasicTypes.html#t:Result" title="Ganeti.BasicTypes">Result</a> <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></li><li class="src short"><a href="#v:getTotalSpindles">getTotalSpindles</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Maybe Int</li><li class="src short"><a href="#v:specOf">specOf</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:RSpec" title="Ganeti.HTools.Types">RSpec</a></li><li class="src short"><a href="#v:instBelowISpec">instBelowISpec</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:ISpec" title="Ganeti.HTools.Types">ISpec</a> -&gt; Bool -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> ()</li><li class="src short"><a href="#v:instAboveISpec">instAboveISpec</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:ISpec" title="Ganeti.HTools.Types">ISpec</a> -&gt; Bool -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> ()</li><li class="src short"><a href="#v:instMatchesPolicy">instMatchesPolicy</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:IPolicy" title="Ganeti.HTools.Types">IPolicy</a> -&gt; Bool -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> ()</li><li class="src short"><a href="#v:hasSecondary">hasSecondary</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</li><li class="src short"><a href="#v:requiredNodes">requiredNodes</a> :: <a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a> -&gt; Int</li><li class="src short"><a href="#v:allNodes">allNodes</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; [<a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a>]</li><li class="src short"><a href="#v:usesLocalStorage">usesLocalStorage</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</li><li class="src short"><a href="#v:mirrorType">mirrorType</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:MirrorType" title="Ganeti.HTools.Types">MirrorType</a></li><li class="src short"><a href="#v:usesMemory">usesMemory</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Type declarations</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Disk" class="def">Disk</a> <a href="Ganeti/HTools/Instance.html#Disk" class="link">Source</a> <a href="#t:Disk" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Disk" class="def">Disk</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dskSize" class="def">dskSize</a> :: Int</dfn><div class="doc"><p>Size in bytes</p></div></li><li><dfn class="src"><a id="v:dskSpindles" class="def">dskSpindles</a> :: Maybe Int</dfn><div class="doc"><p>Number of spindles</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:Disk" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Disk:Eq:1"></span> Eq <a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a></span> <a href="#t:Disk" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Disk:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ganeti-HTools-Instance.html">Ganeti.HTools.Instance</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Disk:Show:2"></span> Show <a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a></span> <a href="#t:Disk" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Disk:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ganeti-HTools-Instance.html">Ganeti.HTools.Instance</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Instance" class="def">Instance</a> <a href="Ganeti/HTools/Instance.html#Instance" class="link">Source</a> <a href="#t:Instance" class="selflink">#</a></p><div class="doc"><p>The instance type.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Instance" class="def">Instance</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:name" class="def">name</a> :: String</dfn><div class="doc"><p>The instance name</p></div></li><li><dfn class="src"><a id="v:alias" class="def">alias</a> :: String</dfn><div class="doc"><p>The shortened name</p></div></li><li><dfn class="src"><a id="v:mem" class="def">mem</a> :: Int</dfn><div class="doc"><p>Memory of the instance</p></div></li><li><dfn class="src"><a id="v:dsk" class="def">dsk</a> :: Int</dfn><div class="doc"><p>Total disk usage of the instance</p></div></li><li><dfn class="src"><a id="v:disks" class="def">disks</a> :: [<a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a>]</dfn><div class="doc"><p>Sizes of the individual disks</p></div></li><li><dfn class="src"><a id="v:vcpus" class="def">vcpus</a> :: Int</dfn><div class="doc"><p>Number of VCPUs</p></div></li><li><dfn class="src"><a id="v:runSt" class="def">runSt</a> :: <a href="Ganeti-Types.html#t:InstanceStatus" title="Ganeti.Types">InstanceStatus</a></dfn><div class="doc"><p>Original run status</p></div></li><li><dfn class="src"><a id="v:pNode" class="def">pNode</a> :: <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a></dfn><div class="doc"><p>Original primary node</p></div></li><li><dfn class="src"><a id="v:sNode" class="def">sNode</a> :: <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a></dfn><div class="doc"><p>Original secondary node</p></div></li><li><dfn class="src"><a id="v:idx" class="def">idx</a> :: <a href="Ganeti-HTools-Types.html#t:Idx" title="Ganeti.HTools.Types">Idx</a></dfn><div class="doc"><p>Internal index</p></div></li><li><dfn class="src"><a id="v:util" class="def">util</a> :: <a href="Ganeti-HTools-Types.html#t:DynUtil" title="Ganeti.HTools.Types">DynUtil</a></dfn><div class="doc"><p>Dynamic resource usage</p></div></li><li><dfn class="src"><a id="v:movable" class="def">movable</a> :: Bool</dfn><div class="doc"><p>Can and should the instance be moved?</p></div></li><li><dfn class="src"><a id="v:autoBalance" class="def">autoBalance</a> :: Bool</dfn><div class="doc"><p>Is the instance auto-balanced?</p></div></li><li><dfn class="src"><a id="v:diskTemplate" class="def">diskTemplate</a> :: <a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a></dfn><div class="doc"><p>The disk template of the instance</p></div></li><li><dfn class="src"><a id="v:spindleUse" class="def">spindleUse</a> :: Int</dfn><div class="doc"><p>The numbers of used spindles</p></div></li><li><dfn class="src"><a id="v:allTags" class="def">allTags</a> :: [String]</dfn><div class="doc"><p>List of all instance tags</p></div></li><li><dfn class="src"><a id="v:exclTags" class="def">exclTags</a> :: [String]</dfn><div class="doc"><p>List of instance exclusion tags</p></div></li><li><dfn class="src"><a id="v:dsrdLocTags" class="def">dsrdLocTags</a> :: Set String</dfn><div class="doc"><p>Instance desired location tags</p></div></li><li><dfn class="src"><a id="v:locationScore" class="def">locationScore</a> :: Int</dfn><div class="doc"><p>The number of common-failures between
 primary and secondary node of the instance</p></div></li><li><dfn class="src"><a id="v:arPolicy" class="def">arPolicy</a> :: <a href="Ganeti-HTools-Types.html#t:AutoRepairPolicy" title="Ganeti.HTools.Types">AutoRepairPolicy</a></dfn><div class="doc"><p>Instance's auto-repair policy</p></div></li><li><dfn class="src"><a id="v:nics" class="def">nics</a> :: [<a href="Ganeti-HTools-Nic.html#t:Nic" title="Ganeti.HTools.Nic">Nic</a>]</dfn><div class="doc"><p>NICs of the instance</p></div></li><li><dfn class="src"><a id="v:forthcoming" class="def">forthcoming</a> :: Bool</dfn><div class="doc"><p>Is the instance is forthcoming?</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:Instance" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Instance:Eq:1"></span> Eq <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></span> <a href="#t:Instance" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Instance:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ganeti-HTools-Instance.html">Ganeti.HTools.Instance</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Instance:Show:2"></span> Show <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></span> <a href="#t:Instance" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Instance:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ganeti-HTools-Instance.html">Ganeti.HTools.Instance</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Instance:Element:3"></span> <a href="Ganeti-HTools-Types.html#t:Element" title="Ganeti.HTools.Types">Element</a> <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></span> <a href="#t:Instance" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Instance:Element:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ganeti-HTools-Instance.html">Ganeti.HTools.Instance</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:nameOf">nameOf</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; String <a href="Ganeti/HTools/Types.html#nameOf" class="link">Source</a> <a href="#v:nameOf" class="selflink">#</a></p><p class="src"><a href="#v:allNames">allNames</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; [String] <a href="Ganeti/HTools/Types.html#allNames" class="link">Source</a> <a href="#v:allNames" class="selflink">#</a></p><p class="src"><a href="#v:idxOf">idxOf</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Int <a href="Ganeti/HTools/Types.html#idxOf" class="link">Source</a> <a href="#v:idxOf" class="selflink">#</a></p><p class="src"><a href="#v:setAlias">setAlias</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; String -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> <a href="Ganeti/HTools/Types.html#setAlias" class="link">Source</a> <a href="#v:setAlias" class="selflink">#</a></p><p class="src"><a href="#v:computeAlias">computeAlias</a> :: String -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> <a href="Ganeti/HTools/Types.html#computeAlias" class="link">Source</a> <a href="#v:computeAlias" class="selflink">#</a></p><p class="src"><a href="#v:setIdx">setIdx</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Int -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> <a href="Ganeti/HTools/Types.html#setIdx" class="link">Source</a> <a href="#v:setIdx" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Instance:Arbitrary:4"></span> Arbitrary <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Instance:Arbitrary:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-Ganeti-HTools-Instance.html">Test.Ganeti.HTools.Instance</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:arbitrary">arbitrary</a> :: Gen <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></p><p class="src"><a href="#v:shrink">shrink</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; [<a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a>]</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:isRunning" class="def">isRunning</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool <a href="Ganeti/HTools/Instance.html#isRunning" class="link">Source</a> <a href="#v:isRunning" class="selflink">#</a></p><div class="doc"><p>Check if instance is running.</p></div></div><div class="top"><p class="src"><a id="v:isOffline" class="def">isOffline</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool <a href="Ganeti/HTools/Instance.html#isOffline" class="link">Source</a> <a href="#v:isOffline" class="selflink">#</a></p><div class="doc"><p>Check if instance is offline.</p></div></div><div class="top"><p class="src"><a id="v:notOffline" class="def">notOffline</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool <a href="Ganeti/HTools/Instance.html#notOffline" class="link">Source</a> <a href="#v:notOffline" class="selflink">#</a></p><div class="doc"><p>Helper to check if the instance is not offline.</p></div></div><div class="top"><p class="src"><a id="v:instanceDown" class="def">instanceDown</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool <a href="Ganeti/HTools/Instance.html#instanceDown" class="link">Source</a> <a href="#v:instanceDown" class="selflink">#</a></p><div class="doc"><p>Check if instance is down.</p></div></div><div class="top"><p class="src"><a id="v:applyIfOnline" class="def">applyIfOnline</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; (a -&gt; a) -&gt; a -&gt; a <a href="Ganeti/HTools/Instance.html#applyIfOnline" class="link">Source</a> <a href="#v:applyIfOnline" class="selflink">#</a></p><div class="doc"><p>Apply the function if the instance is online. Otherwise use
 the initial value</p></div></div><div class="top"><p class="src"><a id="v:usesSecMem" class="def">usesSecMem</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool <a href="Ganeti/HTools/Instance.html#usesSecMem" class="link">Source</a> <a href="#v:usesSecMem" class="selflink">#</a></p><div class="doc"><p>Helper for determining whether an instance's memory needs to be
 taken into account for secondary memory reservation.</p></div></div><div class="top"><p class="src"><a id="v:localStorageTemplates" class="def">localStorageTemplates</a> :: [<a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a>] <a href="Ganeti/HTools/Instance.html#localStorageTemplates" class="link">Source</a> <a href="#v:localStorageTemplates" class="selflink">#</a></p><div class="doc"><p>Constant holding the local storage templates.</p><p><em>Note:</em> Currently Ganeti only exports node total/free disk space
 for LVM-based storage; file-based storage is ignored in this model,
 so even though file-based storage uses in reality disk space on the
 node, in our model it won't affect it and we can't compute whether
 there is enough disk space for a file-based instance. Therefore we
 will treat this template as 'foreign' storage.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AssocList" class="def">AssocList</a> = [(<a href="Ganeti-HTools-Types.html#t:Idx" title="Ganeti.HTools.Types">Idx</a>, <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a>)] <a href="Ganeti/HTools/Instance.html#AssocList" class="link">Source</a> <a href="#t:AssocList" class="selflink">#</a></p><div class="doc"><p>A simple name for the int, instance association list.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:List" class="def">List</a> = <a href="Ganeti-HTools-Container.html#t:Container" title="Ganeti.HTools.Container">Container</a> <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> <a href="Ganeti/HTools/Instance.html#List" class="link">Source</a> <a href="#t:List" class="selflink">#</a></p><div class="doc"><p>A simple name for an instance map.</p></div></div><a href="#g:2" id="g:2"><h1>Initialization</h1></a><div class="top"><p class="src"><a id="v:create" class="def">create</a> :: String -&gt; Int -&gt; Int -&gt; [<a href="Ganeti-HTools-Instance.html#t:Disk" title="Ganeti.HTools.Instance">Disk</a>] -&gt; Int -&gt; <a href="Ganeti-Types.html#t:InstanceStatus" title="Ganeti.Types">InstanceStatus</a> -&gt; [String] -&gt; Bool -&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a> -&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a> -&gt; <a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a> -&gt; Int -&gt; [<a href="Ganeti-HTools-Nic.html#t:Nic" title="Ganeti.HTools.Nic">Nic</a>] -&gt; Bool -&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> <a href="Ganeti/HTools/Instance.html#create" class="link">Source</a> <a href="#v:create" class="selflink">#</a></p><div class="doc"><p>Create an instance.</p><p>Some parameters are not initialized by function, and must be set
 later (via <code><a href="Ganeti-HTools-Instance.html#v:setIdx" title="Ganeti.HTools.Instance">setIdx</a></code> for example).</p></div></div><div class="top"><p class="src"><a id="v:setIdx" class="def">setIdx</a> <a href="Ganeti/HTools/Instance.html#setIdx" class="link">Source</a> <a href="#v:setIdx" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>The original instance</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Types.html#t:Idx" title="Ganeti.HTools.Types">Idx</a></td><td class="doc"><p>New index</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>The modified instance</p></td></tr></table></div><div class="doc"><p>Changes the index.</p><p>This is used only during the building of the data structures.</p></div></div><div class="top"><p class="src"><a id="v:setName" class="def">setName</a> <a href="Ganeti/HTools/Instance.html#setName" class="link">Source</a> <a href="#v:setName" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>The original instance</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>New name</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>The modified instance</p></td></tr></table></div><div class="doc"><p>Changes the name.</p><p>This is used only during the building of the data structures.</p></div></div><div class="top"><p class="src"><a id="v:setAlias" class="def">setAlias</a> <a href="Ganeti/HTools/Instance.html#setAlias" class="link">Source</a> <a href="#v:setAlias" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>The original instance</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>New alias</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>The modified instance</p></td></tr></table></div><div class="doc"><p>Changes the alias.</p><p>This is used only during the building of the data structures.</p></div></div><a href="#g:3" id="g:3"><h1>Update functions</h1></a><div class="top"><p class="src"><a id="v:setPri" class="def">setPri</a> <a href="Ganeti/HTools/Instance.html#setPri" class="link">Source</a> <a href="#v:setPri" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>the original instance</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a></td><td class="doc"><p>the new primary node</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>the modified instance</p></td></tr></table></div><div class="doc"><p>Changes the primary node of the instance.</p></div></div><div class="top"><p class="src"><a id="v:setSec" class="def">setSec</a> <a href="Ganeti/HTools/Instance.html#setSec" class="link">Source</a> <a href="#v:setSec" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>the original instance</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a></td><td class="doc"><p>the new secondary node</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>the modified instance</p></td></tr></table></div><div class="doc"><p>Changes the secondary node of the instance.</p></div></div><div class="top"><p class="src"><a id="v:setBoth" class="def">setBoth</a> <a href="Ganeti/HTools/Instance.html#setBoth" class="link">Source</a> <a href="#v:setBoth" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>the original instance</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a></td><td class="doc"><p>new primary node index</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a></td><td class="doc"><p>new secondary node index</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>the modified instance</p></td></tr></table></div><div class="doc"><p>Changes both nodes of the instance.</p></div></div><div class="top"><p class="src"><a id="v:setMovable" class="def">setMovable</a> <a href="Ganeti/HTools/Instance.html#setMovable" class="link">Source</a> <a href="#v:setMovable" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>The original instance</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>New movable flag</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a></td><td class="doc"><p>The modified instance</p></td></tr></table></div><div class="doc"><p>Sets the movable flag on an instance.</p></div></div><div class="top"><p class="src"><a id="v:shrinkByType" class="def">shrinkByType</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:FailMode" title="Ganeti.HTools.Types">FailMode</a> -&gt; <a href="Ganeti-BasicTypes.html#t:Result" title="Ganeti.BasicTypes">Result</a> <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> <a href="Ganeti/HTools/Instance.html#shrinkByType" class="link">Source</a> <a href="#v:shrinkByType" class="selflink">#</a></p><div class="doc"><p>Try to shrink the instance based on the reason why we can't
 allocate it.</p></div></div><div class="top"><p class="src"><a id="v:getTotalSpindles" class="def">getTotalSpindles</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Maybe Int <a href="Ganeti/HTools/Instance.html#getTotalSpindles" class="link">Source</a> <a href="#v:getTotalSpindles" class="selflink">#</a></p><div class="doc"><p>Get the number of disk spindles</p></div></div><div class="top"><p class="src"><a id="v:specOf" class="def">specOf</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:RSpec" title="Ganeti.HTools.Types">RSpec</a> <a href="Ganeti/HTools/Instance.html#specOf" class="link">Source</a> <a href="#v:specOf" class="selflink">#</a></p><div class="doc"><p>Return the spec of an instance.</p></div></div><div class="top"><p class="src"><a id="v:instBelowISpec" class="def">instBelowISpec</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:ISpec" title="Ganeti.HTools.Types">ISpec</a> -&gt; Bool -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> () <a href="Ganeti/HTools/Instance.html#instBelowISpec" class="link">Source</a> <a href="#v:instBelowISpec" class="selflink">#</a></p><div class="doc"><p>Checks if an instance is smaller than a given spec.</p></div></div><div class="top"><p class="src"><a id="v:instAboveISpec" class="def">instAboveISpec</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:ISpec" title="Ganeti.HTools.Types">ISpec</a> -&gt; Bool -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> () <a href="Ganeti/HTools/Instance.html#instAboveISpec" class="link">Source</a> <a href="#v:instAboveISpec" class="selflink">#</a></p><div class="doc"><p>Checks if an instance is bigger than a given spec.</p></div></div><div class="top"><p class="src"><a id="v:instMatchesPolicy" class="def">instMatchesPolicy</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:IPolicy" title="Ganeti.HTools.Types">IPolicy</a> -&gt; Bool -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> () <a href="Ganeti/HTools/Instance.html#instMatchesPolicy" class="link">Source</a> <a href="#v:instMatchesPolicy" class="selflink">#</a></p><div class="doc"><p>Checks if an instance matches a policy.</p></div></div><div class="top"><p class="src"><a id="v:hasSecondary" class="def">hasSecondary</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool <a href="Ganeti/HTools/Instance.html#hasSecondary" class="link">Source</a> <a href="#v:hasSecondary" class="selflink">#</a></p><div class="doc"><p>Checks whether the instance uses a secondary node.</p><p><em>Note:</em> This should be reconciled with <code><code><a href="Ganeti-HTools-Instance.html#v:sNode" title="Ganeti.HTools.Instance">sNode</a></code> ==
 <code><a href="Node.html#v:noSecondary" title="Node">noSecondary</a></code></code>.</p></div></div><div class="top"><p class="src"><a id="v:requiredNodes" class="def">requiredNodes</a> :: <a href="Ganeti-Types.html#t:DiskTemplate" title="Ganeti.Types">DiskTemplate</a> -&gt; Int <a href="Ganeti/HTools/Instance.html#requiredNodes" class="link">Source</a> <a href="#v:requiredNodes" class="selflink">#</a></p><div class="doc"><p>Computed the number of nodes for a given disk template.</p></div></div><div class="top"><p class="src"><a id="v:allNodes" class="def">allNodes</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; [<a href="Ganeti-HTools-Types.html#t:Ndx" title="Ganeti.HTools.Types">Ndx</a>] <a href="Ganeti/HTools/Instance.html#allNodes" class="link">Source</a> <a href="#v:allNodes" class="selflink">#</a></p><div class="doc"><p>Computes all nodes of an instance.</p></div></div><div class="top"><p class="src"><a id="v:usesLocalStorage" class="def">usesLocalStorage</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool <a href="Ganeti/HTools/Instance.html#usesLocalStorage" class="link">Source</a> <a href="#v:usesLocalStorage" class="selflink">#</a></p><div class="doc"><p>Checks whether a given disk template uses local storage.</p></div></div><div class="top"><p class="src"><a id="v:mirrorType" class="def">mirrorType</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; <a href="Ganeti-HTools-Types.html#t:MirrorType" title="Ganeti.HTools.Types">MirrorType</a> <a href="Ganeti/HTools/Instance.html#mirrorType" class="link">Source</a> <a href="#v:mirrorType" class="selflink">#</a></p><div class="doc"><p>A simple wrapper over <code><a href="Ganeti-HTools-Types.html#v:templateMirrorType" title="Ganeti.HTools.Types">templateMirrorType</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:usesMemory" class="def">usesMemory</a> :: <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a> -&gt; Bool <a href="Ganeti/HTools/Instance.html#usesMemory" class="link">Source</a> <a href="#v:usesMemory" class="selflink">#</a></p><div class="doc"><p>Whether the instance uses memory on its host node.
 Depends on the <code>InstanceStatus</code> and on whether the instance is forthcoming;
 instances that aren't running or existent don't use memory.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>