<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.HTools.Cluster.AllocationSolution</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/HTools/Cluster/AllocationSolution.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Ganeti.HTools.Cluster.AllocationSolution</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Collection of Allocation Solutions for later filtering</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Implementation of handling of Allocation Solutions</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:GenericAllocElement">GenericAllocElement</a> a = (<a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a>, <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a>, [<a href="Ganeti-HTools-Node.html#t:Node" title="Ganeti.HTools.Node">Node</a>], a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:AllocElement">AllocElement</a> = <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:GenericAllocSolution">GenericAllocSolution</a> a = <a href="#v:AllocSolution">AllocSolution</a> {<ul class="subs"><li><a href="#v:asFailures">asFailures</a> :: [<a href="Ganeti-HTools-Types.html#t:FailMode" title="Ganeti.HTools.Types">FailMode</a>]</li><li><a href="#v:asAllocs">asAllocs</a> :: Int</li><li><a href="#v:asSolution">asSolution</a> :: Maybe (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a)</li><li><a href="#v:asLog">asLog</a> :: [String]</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:AllocSolution">AllocSolution</a> = <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a></li><li class="src short"><a href="#v:emptyAllocSolution">emptyAllocSolution</a> :: <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a</li><li class="src short"><a href="#v:updateIl">updateIl</a> :: <a href="Ganeti-HTools-Instance.html#t:List" title="Ganeti.HTools.Instance">List</a> -&gt; Maybe (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a) -&gt; <a href="Ganeti-HTools-Instance.html#t:List" title="Ganeti.HTools.Instance">List</a></li><li class="src short"><a href="#v:extractNl">extractNl</a> :: <a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a> -&gt; <a href="Ganeti-HTools-Instance.html#t:List" title="Ganeti.HTools.Instance">List</a> -&gt; Maybe (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a) -&gt; <a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a></li><li class="src short"><a href="#v:concatAllocs">concatAllocs</a> :: Ord a =&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a) -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a</li><li class="src short"><a href="#v:sumAllocs">sumAllocs</a> :: Ord a =&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a</li><li class="src short"><a href="#v:collapseFailures">collapseFailures</a> :: [<a href="Ganeti-HTools-Types.html#t:FailMode" title="Ganeti.HTools.Types">FailMode</a>] -&gt; <a href="Ganeti-HTools-Types.html#t:FailStats" title="Ganeti.HTools.Types">FailStats</a></li><li class="src short"><a href="#v:genericAnnotateSolution">genericAnnotateSolution</a> :: (a -&gt; String) -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a</li><li class="src short"><a href="#v:annotateSolution">annotateSolution</a> :: <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolution</a> -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolution</a></li><li class="src short"><a href="#v:solutionDescription">solutionDescription</a> :: (<a href="Ganeti-HTools-Group.html#t:Group" title="Ganeti.HTools.Group">Group</a>, <a href="Ganeti-BasicTypes.html#t:Result" title="Ganeti.BasicTypes">Result</a> (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a)) -&gt; [String]</li><li class="src short"><span class="keyword">data</span> <a href="#t:AllocSolutionCollection">AllocSolutionCollection</a> a</li><li class="src short"><a href="#v:emptyAllocCollection">emptyAllocCollection</a> :: <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolutionCollection" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolutionCollection</a> a</li><li class="src short"><a href="#v:concatAllocCollections">concatAllocCollections</a> :: Ord a =&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolutionCollection" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolutionCollection</a> a -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a) -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolutionCollection" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolutionCollection</a> a</li><li class="src short"><a href="#v:collectionToSolution">collectionToSolution</a> :: Ord a =&gt; <a href="Ganeti-HTools-Types.html#t:FailMode" title="Ganeti.HTools.Types">FailMode</a> -&gt; (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a -&gt; Bool) -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolutionCollection" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolutionCollection</a> a -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:GenericAllocElement" class="def">GenericAllocElement</a> a = (<a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a>, <a href="Ganeti-HTools-Instance.html#t:Instance" title="Ganeti.HTools.Instance">Instance</a>, [<a href="Ganeti-HTools-Node.html#t:Node" title="Ganeti.HTools.Node">Node</a>], a) <a href="Ganeti/HTools/Cluster/AllocationSolution.html#GenericAllocElement" class="link">Source</a> <a href="#t:GenericAllocElement" class="selflink">#</a></p><div class="doc"><p>A simple name for an allocation element (here just for logistic
 reasons), generic in the type of the metric.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AllocElement" class="def">AllocElement</a> = <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a> <a href="Ganeti/HTools/Cluster/AllocationSolution.html#AllocElement" class="link">Source</a> <a href="#t:AllocElement" class="selflink">#</a></p><div class="doc"><p>A simple name for an allocation element (here just for logistic
 reasons).</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GenericAllocSolution" class="def">GenericAllocSolution</a> a <a href="Ganeti/HTools/Cluster/AllocationSolution.html#GenericAllocSolution" class="link">Source</a> <a href="#t:GenericAllocSolution" class="selflink">#</a></p><div class="doc"><p>Allocation/relocation solution.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AllocSolution" class="def">AllocSolution</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:asFailures" class="def">asFailures</a> :: [<a href="Ganeti-HTools-Types.html#t:FailMode" title="Ganeti.HTools.Types">FailMode</a>]</dfn><div class="doc"><p>Failure counts</p></div></li><li><dfn class="src"><a id="v:asAllocs" class="def">asAllocs</a> :: Int</dfn><div class="doc"><p>Good allocation count</p></div></li><li><dfn class="src"><a id="v:asSolution" class="def">asSolution</a> :: Maybe (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a)</dfn><div class="doc"><p>The actual allocation
 result</p></div></li><li><dfn class="src"><a id="v:asLog" class="def">asLog</a> :: [String]</dfn><div class="doc"><p>Informational messages</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AllocSolution" class="def">AllocSolution</a> = <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> <a href="Ganeti-HTools-Types.html#t:Score" title="Ganeti.HTools.Types">Score</a> <a href="Ganeti/HTools/Cluster/AllocationSolution.html#AllocSolution" class="link">Source</a> <a href="#t:AllocSolution" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:emptyAllocSolution" class="def">emptyAllocSolution</a> :: <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a <a href="Ganeti/HTools/Cluster/AllocationSolution.html#emptyAllocSolution" class="link">Source</a> <a href="#v:emptyAllocSolution" class="selflink">#</a></p><div class="doc"><p>The empty solution we start with when computing allocations.</p></div></div><div class="top"><p class="src"><a id="v:updateIl" class="def">updateIl</a> <a href="Ganeti/HTools/Cluster/AllocationSolution.html#updateIl" class="link">Source</a> <a href="#v:updateIl" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-HTools-Instance.html#t:List" title="Ganeti.HTools.Instance">List</a></td><td class="doc"><p>The original instance list</p></td></tr><tr><td class="src">-&gt; Maybe (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a)</td><td class="doc"><p>The result of
 the allocation attempt</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Instance.html#t:List" title="Ganeti.HTools.Instance">List</a></td><td class="doc"><p>The updated instance list</p></td></tr></table></div><div class="doc"><p>Calculate the new instance list after allocation solution.</p></div></div><div class="top"><p class="src"><a id="v:extractNl" class="def">extractNl</a> <a href="Ganeti/HTools/Cluster/AllocationSolution.html#extractNl" class="link">Source</a> <a href="#v:extractNl" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a></td><td class="doc"><p>The original node list</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Instance.html#t:List" title="Ganeti.HTools.Instance">List</a></td><td class="doc"><p>The original instance list</p></td></tr><tr><td class="src">-&gt; Maybe (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a)</td><td class="doc"><p>The result of the
 allocation attempt</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Node.html#t:List" title="Ganeti.HTools.Node">List</a></td><td class="doc"><p>The new node list</p></td></tr></table></div><div class="doc"><p>Extract the the new node list from the allocation solution.</p></div></div><div class="top"><p class="src"><a id="v:concatAllocs" class="def">concatAllocs</a> :: Ord a =&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a) -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a <a href="Ganeti/HTools/Cluster/AllocationSolution.html#concatAllocs" class="link">Source</a> <a href="#v:concatAllocs" class="selflink">#</a></p><div class="doc"><p>Update current Allocation solution and failure stats with new
 elements.</p></div></div><div class="top"><p class="src"><a id="v:sumAllocs" class="def">sumAllocs</a> :: Ord a =&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a <a href="Ganeti/HTools/Cluster/AllocationSolution.html#sumAllocs" class="link">Source</a> <a href="#v:sumAllocs" class="selflink">#</a></p><div class="doc"><p>Sums two <code><a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolution</a></code> structures.</p></div></div><div class="top"><p class="src"><a id="v:collapseFailures" class="def">collapseFailures</a> :: [<a href="Ganeti-HTools-Types.html#t:FailMode" title="Ganeti.HTools.Types">FailMode</a>] -&gt; <a href="Ganeti-HTools-Types.html#t:FailStats" title="Ganeti.HTools.Types">FailStats</a> <a href="Ganeti/HTools/Cluster/AllocationSolution.html#collapseFailures" class="link">Source</a> <a href="#v:collapseFailures" class="selflink">#</a></p><div class="doc"><p>Build failure stats out of a list of failures.</p></div></div><div class="top"><p class="src"><a id="v:genericAnnotateSolution" class="def">genericAnnotateSolution</a> :: (a -&gt; String) -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a <a href="Ganeti/HTools/Cluster/AllocationSolution.html#genericAnnotateSolution" class="link">Source</a> <a href="#v:genericAnnotateSolution" class="selflink">#</a></p><div class="doc"><p>Annotates a solution with the appropriate string.</p></div></div><div class="top"><p class="src"><a id="v:annotateSolution" class="def">annotateSolution</a> :: <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolution</a> -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolution</a> <a href="Ganeti/HTools/Cluster/AllocationSolution.html#annotateSolution" class="link">Source</a> <a href="#v:annotateSolution" class="selflink">#</a></p><div class="doc"><p>Annotate a solution based on the standard metrics</p></div></div><div class="top"><p class="src"><a id="v:solutionDescription" class="def">solutionDescription</a> :: (<a href="Ganeti-HTools-Group.html#t:Group" title="Ganeti.HTools.Group">Group</a>, <a href="Ganeti-BasicTypes.html#t:Result" title="Ganeti.BasicTypes">Result</a> (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a)) -&gt; [String] <a href="Ganeti/HTools/Cluster/AllocationSolution.html#solutionDescription" class="link">Source</a> <a href="#v:solutionDescription" class="selflink">#</a></p><div class="doc"><p>Given a group/result, describe it as a nice (list of) messages.</p></div></div><a href="#g:1" id="g:1"><h1>Collection of Allocation Solutions for later filtering</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AllocSolutionCollection" class="def">AllocSolutionCollection</a> a <a href="Ganeti/HTools/Cluster/AllocationSolution.html#AllocSolutionCollection" class="link">Source</a> <a href="#t:AllocSolutionCollection" class="selflink">#</a></p><div class="doc"><p>Collection of Allocation Solution</p></div></div><div class="top"><p class="src"><a id="v:emptyAllocCollection" class="def">emptyAllocCollection</a> :: <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolutionCollection" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolutionCollection</a> a <a href="Ganeti/HTools/Cluster/AllocationSolution.html#emptyAllocCollection" class="link">Source</a> <a href="#v:emptyAllocCollection" class="selflink">#</a></p><div class="doc"><p>Empty collection of allocation solutions.</p></div></div><div class="top"><p class="src"><a id="v:concatAllocCollections" class="def">concatAllocCollections</a> :: Ord a =&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolutionCollection" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolutionCollection</a> a -&gt; <a href="Ganeti-HTools-Types.html#t:OpResult" title="Ganeti.HTools.Types">OpResult</a> (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a) -&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolutionCollection" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolutionCollection</a> a <a href="Ganeti/HTools/Cluster/AllocationSolution.html#concatAllocCollections" class="link">Source</a> <a href="#v:concatAllocCollections" class="selflink">#</a></p><div class="doc"><p>Update current collection of solution and failure stats with new
 elements.</p></div></div><div class="top"><p class="src"><a id="v:collectionToSolution" class="def">collectionToSolution</a> <a href="Ganeti/HTools/Cluster/AllocationSolution.html#collectionToSolution" class="link">Source</a> <a href="#v:collectionToSolution" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Ord a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Ganeti-HTools-Types.html#t:FailMode" title="Ganeti.HTools.Types">FailMode</a></td><td class="doc"><p>Failure mode to assign to solutions
 filtered out in this step</p></td></tr><tr><td class="src">-&gt; (<a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocElement" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocElement</a> a -&gt; Bool)</td><td class="doc"><p>predicate
 to restrict to</p></td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:AllocSolutionCollection" title="Ganeti.HTools.Cluster.AllocationSolution">AllocSolutionCollection</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Ganeti-HTools-Cluster-AllocationSolution.html#t:GenericAllocSolution" title="Ganeti.HTools.Cluster.AllocationSolution">GenericAllocSolution</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>From a collection of solutions collapse to a single one by chosing the best
 that fulfills a given predicate.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>