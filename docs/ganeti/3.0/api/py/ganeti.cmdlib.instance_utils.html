<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>ganeti.cmdlib.instance_utils</title>
    <meta name="generator" content="pydoctor 22.9.1"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          ganeti/server <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Module</span>
        <code class="thisobject"><a href="ganeti.cmdlib.instance_utils.html" class="internal-link" title="This module">instance<wbr></wbr>_utils</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ApplyContainerMods" class="internal-link" title="ganeti.cmdlib.instance_utils.ApplyContainerMods"><wbr></wbr>Apply<wbr></wbr>Container<wbr></wbr>Mods</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BuildDiskEnv" class="internal-link" title="ganeti.cmdlib.instance_utils.BuildDiskEnv"><wbr></wbr>Build<wbr></wbr>Disk<wbr></wbr>Env</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BuildDiskLogicalIDEnv" class="internal-link" title="ganeti.cmdlib.instance_utils.BuildDiskLogicalIDEnv"><wbr></wbr>Build<wbr></wbr>Disk<wbr></wbr>Logical<wbr></wbr>IDEnv</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BuildInstanceHookEnv" class="internal-link" title="ganeti.cmdlib.instance_utils.BuildInstanceHookEnv"><wbr></wbr>Build<wbr></wbr>Instance<wbr></wbr>Hook<wbr></wbr>Env</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BuildInstanceHookEnvByObject" class="internal-link" title="ganeti.cmdlib.instance_utils.BuildInstanceHookEnvByObject"><wbr></wbr>Build<wbr></wbr>Instance<wbr></wbr>Hook<wbr></wbr>Env<wbr></wbr>By<wbr></wbr>Object</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckCompressionTool" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckCompressionTool"><wbr></wbr>Check<wbr></wbr>Compression<wbr></wbr>Tool</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckForConflictingIp" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckForConflictingIp"><wbr></wbr>Check<wbr></wbr>For<wbr></wbr>Conflicting<wbr></wbr>Ip</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckHostnameSane" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckHostnameSane"><wbr></wbr>Check<wbr></wbr>Hostname<wbr></wbr>Sane</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckInstanceBridgesExist" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckInstanceBridgesExist"><wbr></wbr>Check<wbr></wbr>Instance<wbr></wbr>Bridges<wbr></wbr>Exist</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckInstanceExistence" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckInstanceExistence"><wbr></wbr>Check<wbr></wbr>Instance<wbr></wbr>Existence</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckNicsBridgesExist" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNicsBridgesExist"><wbr></wbr>Check<wbr></wbr>Nics<wbr></wbr>Bridges<wbr></wbr>Exist</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckNodeFreeMemory" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNodeFreeMemory"><wbr></wbr>Check<wbr></wbr>Node<wbr></wbr>Free<wbr></wbr>Memory</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckNodeNotDrained" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNodeNotDrained"><wbr></wbr>Check<wbr></wbr>Node<wbr></wbr>Not<wbr></wbr>Drained</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckNodesPhysicalCPUs" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNodesPhysicalCPUs"><wbr></wbr>Check<wbr></wbr>Nodes<wbr></wbr>Physical<wbr></wbr>CPUs</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckNodeVmCapable" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNodeVmCapable"><wbr></wbr>Check<wbr></wbr>Node<wbr></wbr>Vm<wbr></wbr>Capable</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckOpportunisticLocking" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckOpportunisticLocking"><wbr></wbr>Check<wbr></wbr>Opportunistic<wbr></wbr>Locking</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CheckTargetNodeIPolicy" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckTargetNodeIPolicy"><wbr></wbr>Check<wbr></wbr>Target<wbr></wbr>Node<wbr></wbr>IPolicy</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ComputeFullBeParams" class="internal-link" title="ganeti.cmdlib.instance_utils.ComputeFullBeParams"><wbr></wbr>Compute<wbr></wbr>Full<wbr></wbr>Be<wbr></wbr>Params</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ComputeInstanceCommunicationNIC" class="internal-link" title="ganeti.cmdlib.instance_utils.ComputeInstanceCommunicationNIC"><wbr></wbr>Compute<wbr></wbr>Instance<wbr></wbr>Communication<wbr></wbr>NIC</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ComputeIPolicyInstanceSpecViolation" class="internal-link" title="ganeti.cmdlib.instance_utils.ComputeIPolicyInstanceSpecViolation"><wbr></wbr>Compute<wbr></wbr>IPolicy<wbr></wbr>Instance<wbr></wbr>Spec<wbr></wbr>Violation</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ComputeNics" class="internal-link" title="ganeti.cmdlib.instance_utils.ComputeNics"><wbr></wbr>Compute<wbr></wbr>Nics</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CopyLockList" class="internal-link" title="ganeti.cmdlib.instance_utils.CopyLockList"><wbr></wbr>Copy<wbr></wbr>Lock<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CreateInstanceAllocRequest" class="internal-link" title="ganeti.cmdlib.instance_utils.CreateInstanceAllocRequest"><wbr></wbr>Create<wbr></wbr>Instance<wbr></wbr>Alloc<wbr></wbr>Request</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetClusterDomainSecret" class="internal-link" title="ganeti.cmdlib.instance_utils.GetClusterDomainSecret"><wbr></wbr>Get<wbr></wbr>Cluster<wbr></wbr>Domain<wbr></wbr>Secret</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetIndexFromIdentifier" class="internal-link" title="ganeti.cmdlib.instance_utils.GetIndexFromIdentifier"><wbr></wbr>Get<wbr></wbr>Index<wbr></wbr>From<wbr></wbr>Identifier</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetInstanceInfoText" class="internal-link" title="ganeti.cmdlib.instance_utils.GetInstanceInfoText"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Info<wbr></wbr>Text</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetItemFromContainer" class="internal-link" title="ganeti.cmdlib.instance_utils.GetItemFromContainer"><wbr></wbr>Get<wbr></wbr>Item<wbr></wbr>From<wbr></wbr>Container</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#InsertItemToIndex" class="internal-link" title="ganeti.cmdlib.instance_utils.InsertItemToIndex"><wbr></wbr>Insert<wbr></wbr>Item<wbr></wbr>To<wbr></wbr>Index</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#NICListToTuple" class="internal-link" title="ganeti.cmdlib.instance_utils.NICListToTuple"><wbr></wbr>NICList<wbr></wbr>To<wbr></wbr>Tuple</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#NICToTuple" class="internal-link" title="ganeti.cmdlib.instance_utils.NICToTuple"><wbr></wbr>NICTo<wbr></wbr>Tuple</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#PrepareContainerMods" class="internal-link" title="ganeti.cmdlib.instance_utils.PrepareContainerMods"><wbr></wbr>Prepare<wbr></wbr>Container<wbr></wbr>Mods</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ReleaseLocks" class="internal-link" title="ganeti.cmdlib.instance_utils.ReleaseLocks"><wbr></wbr>Release<wbr></wbr>Locks</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RemoveDisks" class="internal-link" title="ganeti.cmdlib.instance_utils.RemoveDisks"><wbr></wbr>Remove<wbr></wbr>Disks</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RemoveInstance" class="internal-link" title="ganeti.cmdlib.instance_utils.RemoveInstance"><wbr></wbr>Remove<wbr></wbr>Instance</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#UpdateMetadata" class="internal-link" title="ganeti.cmdlib.instance_utils.UpdateMetadata"><wbr></wbr>Update<wbr></wbr>Metadata</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_ComputeIPolicyNodeViolation" class="internal-link" title="ganeti.cmdlib.instance_utils._ComputeIPolicyNodeViolation">_<wbr></wbr>Compute<wbr></wbr>IPolicy<wbr></wbr>Node<wbr></wbr>Violation</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_StoragePathsRemoved" class="internal-link" title="ganeti.cmdlib.instance_utils._StoragePathsRemoved">_<wbr></wbr>Storage<wbr></wbr>Paths<wbr></wbr>Removed</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_TApplyContModsCbChanges" class="internal-link" title="ganeti.cmdlib.instance_utils._TApplyContModsCbChanges">_<wbr></wbr>TApply<wbr></wbr>Cont<wbr></wbr>Mods<wbr></wbr>Cb<wbr></wbr>Changes</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Package</span>
        <code><a href="ganeti.cmdlib.html" class="internal-link" title="The parent of this module">cmdlib</a></code> 
      </div>
      
      <div>
        

        <div class="childrenKindTitle">Modules</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.cluster.html" class="internal-link" title="ganeti.cmdlib.cluster">cluster</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.backup.html" class="internal-link" title="ganeti.cmdlib.backup">backup</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.base.html" class="internal-link" title="ganeti.cmdlib.base">base</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.common.html" class="internal-link" title="ganeti.cmdlib.common">common</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.group.html" class="internal-link" title="ganeti.cmdlib.group">group</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.instance.html" class="internal-link" title="ganeti.cmdlib.instance">instance</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.instance_create.html" class="internal-link" title="ganeti.cmdlib.instance_create">instance<wbr></wbr>_create</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.instance_helpervm.html" class="internal-link" title="ganeti.cmdlib.instance_helpervm">instance<wbr></wbr>_helpervm</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.instance_migration.html" class="internal-link" title="ganeti.cmdlib.instance_migration">instance<wbr></wbr>_migration</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.instance_operation.html" class="internal-link" title="ganeti.cmdlib.instance_operation">instance<wbr></wbr>_operation</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.instance_query.html" class="internal-link" title="ganeti.cmdlib.instance_query">instance<wbr></wbr>_query</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.instance_set_params.html" class="internal-link" title="ganeti.cmdlib.instance_set_params">instance<wbr></wbr>_set<wbr></wbr>_params</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.instance_storage.html" class="internal-link" title="ganeti.cmdlib.instance_storage">instance<wbr></wbr>_storage</a></code>
            </div>
        

    </li><li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.instance_utils.html" class="internal-link" title="ganeti.cmdlib.instance_utils">instance<wbr></wbr>_utils</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.misc.html" class="internal-link" title="ganeti.cmdlib.misc">misc</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.network.html" class="internal-link" title="ganeti.cmdlib.network">network</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.node.html" class="internal-link" title="ganeti.cmdlib.node">node</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.operating_system.html" class="internal-link" title="ganeti.cmdlib.operating_system">operating<wbr></wbr>_system</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.query.html" class="internal-link" title="ganeti.cmdlib.query">query</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.tags.html" class="internal-link" title="ganeti.cmdlib.tags">tags</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.test.html" class="internal-link" title="ganeti.cmdlib.test">test</a></code>
            </div>
        

    </li>
</ul> 

        
        

        
         

        
         

        
         

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="module"><code><code><a href="ganeti.html" class="internal-link">ganeti</a></code><wbr></wbr>.<code><a href="ganeti.cmdlib.html" class="internal-link" title="ganeti.cmdlib">cmdlib</a></code><wbr></wbr>.<code><a href="ganeti.cmdlib.instance_utils.html" class="internal-link" title="ganeti.cmdlib.instance_utils">instance_utils</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          module documentation
        </div>

        <div class="extrasDocstring">
          
          <p></p>
        </div>

        <div class="moduleDocstring">
          <div><p>Utility function mainly, but not only used by instance LU's.</p>
</div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id226">
  
  
  <tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ApplyContainerMods" class="internal-link" title="ganeti.cmdlib.instance_utils.ApplyContainerMods"><wbr></wbr>Apply<wbr></wbr>Container<wbr></wbr>Mods</a></code></td>
    <td>Applies descriptions in <tt class="rst-docutils literal">mods</tt> to <tt class="rst-docutils literal">container</tt>.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BuildDiskEnv" class="internal-link" title="ganeti.cmdlib.instance_utils.BuildDiskEnv"><wbr></wbr>Build<wbr></wbr>Disk<wbr></wbr>Env</a></code></td>
    <td>Helper method to create disk's hooks env</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BuildDiskLogicalIDEnv" class="internal-link" title="ganeti.cmdlib.instance_utils.BuildDiskLogicalIDEnv"><wbr></wbr>Build<wbr></wbr>Disk<wbr></wbr>Logical<wbr></wbr>IDEnv</a></code></td>
    <td>Helper method to create hooks env related to disk's logical_id</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BuildInstanceHookEnv" class="internal-link" title="ganeti.cmdlib.instance_utils.BuildInstanceHookEnv"><wbr></wbr>Build<wbr></wbr>Instance<wbr></wbr>Hook<wbr></wbr>Env</a></code></td>
    <td>Builds instance related env variables for hooks</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BuildInstanceHookEnvByObject" class="internal-link" title="ganeti.cmdlib.instance_utils.BuildInstanceHookEnvByObject"><wbr></wbr>Build<wbr></wbr>Instance<wbr></wbr>Hook<wbr></wbr>Env<wbr></wbr>By<wbr></wbr>Object</a></code></td>
    <td>Builds instance related env variables for hooks from an object.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckCompressionTool" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckCompressionTool"><wbr></wbr>Check<wbr></wbr>Compression<wbr></wbr>Tool</a></code></td>
    <td>Checks if the provided compression tool is allowed to be used.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckForConflictingIp" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckForConflictingIp"><wbr></wbr>Check<wbr></wbr>For<wbr></wbr>Conflicting<wbr></wbr>Ip</a></code></td>
    <td>In case of conflicting IP address raise error.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckHostnameSane" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckHostnameSane"><wbr></wbr>Check<wbr></wbr>Hostname<wbr></wbr>Sane</a></code></td>
    <td>Ensures that a given hostname resolves to a 'sane' name.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckInstanceBridgesExist" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckInstanceBridgesExist"><wbr></wbr>Check<wbr></wbr>Instance<wbr></wbr>Bridges<wbr></wbr>Exist</a></code></td>
    <td>Check that the brigdes needed by an instance exist.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckInstanceExistence" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckInstanceExistence"><wbr></wbr>Check<wbr></wbr>Instance<wbr></wbr>Existence</a></code></td>
    <td>Raises an error if an instance with the given name exists already.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckNicsBridgesExist" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNicsBridgesExist"><wbr></wbr>Check<wbr></wbr>Nics<wbr></wbr>Bridges<wbr></wbr>Exist</a></code></td>
    <td>Check that the brigdes needed by a list of nics exist.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckNodeFreeMemory" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNodeFreeMemory"><wbr></wbr>Check<wbr></wbr>Node<wbr></wbr>Free<wbr></wbr>Memory</a></code></td>
    <td>Checks if a node has enough free memory.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckNodeNotDrained" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNodeNotDrained"><wbr></wbr>Check<wbr></wbr>Node<wbr></wbr>Not<wbr></wbr>Drained</a></code></td>
    <td>Ensure that a given node is not drained.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckNodesPhysicalCPUs" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNodesPhysicalCPUs"><wbr></wbr>Check<wbr></wbr>Nodes<wbr></wbr>Physical<wbr></wbr>CPUs</a></code></td>
    <td>Checks if nodes have enough physical CPUs</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckNodeVmCapable" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckNodeVmCapable"><wbr></wbr>Check<wbr></wbr>Node<wbr></wbr>Vm<wbr></wbr>Capable</a></code></td>
    <td>Ensure that a given node is vm capable.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckOpportunisticLocking" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckOpportunisticLocking"><wbr></wbr>Check<wbr></wbr>Opportunistic<wbr></wbr>Locking</a></code></td>
    <td>Generate error if opportunistic locking is not possible.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CheckTargetNodeIPolicy" class="internal-link" title="ganeti.cmdlib.instance_utils.CheckTargetNodeIPolicy"><wbr></wbr>Check<wbr></wbr>Target<wbr></wbr>Node<wbr></wbr>IPolicy</a></code></td>
    <td>Checks that the target node is correct in terms of instance policy.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ComputeFullBeParams" class="internal-link" title="ganeti.cmdlib.instance_utils.ComputeFullBeParams"><wbr></wbr>Compute<wbr></wbr>Full<wbr></wbr>Be<wbr></wbr>Params</a></code></td>
    <td>Computes the full beparams.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ComputeInstanceCommunicationNIC" class="internal-link" title="ganeti.cmdlib.instance_utils.ComputeInstanceCommunicationNIC"><wbr></wbr>Compute<wbr></wbr>Instance<wbr></wbr>Communication<wbr></wbr>NIC</a></code></td>
    <td>Compute the name of the instance NIC used by instance communication.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ComputeIPolicyInstanceSpecViolation" class="internal-link" title="ganeti.cmdlib.instance_utils.ComputeIPolicyInstanceSpecViolation"><wbr></wbr>Compute<wbr></wbr>IPolicy<wbr></wbr>Instance<wbr></wbr>Spec<wbr></wbr>Violation</a></code></td>
    <td>Compute if instance specs meets the specs of ipolicy.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ComputeNics" class="internal-link" title="ganeti.cmdlib.instance_utils.ComputeNics"><wbr></wbr>Compute<wbr></wbr>Nics</a></code></td>
    <td>Computes the nics.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CopyLockList" class="internal-link" title="ganeti.cmdlib.instance_utils.CopyLockList"><wbr></wbr>Copy<wbr></wbr>Lock<wbr></wbr>List</a></code></td>
    <td>Makes a copy of a list of lock names.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CreateInstanceAllocRequest" class="internal-link" title="ganeti.cmdlib.instance_utils.CreateInstanceAllocRequest"><wbr></wbr>Create<wbr></wbr>Instance<wbr></wbr>Alloc<wbr></wbr>Request</a></code></td>
    <td>Wrapper around IAReqInstanceAlloc.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetClusterDomainSecret" class="internal-link" title="ganeti.cmdlib.instance_utils.GetClusterDomainSecret"><wbr></wbr>Get<wbr></wbr>Cluster<wbr></wbr>Domain<wbr></wbr>Secret</a></code></td>
    <td>Reads the cluster domain secret.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetIndexFromIdentifier" class="internal-link" title="ganeti.cmdlib.instance_utils.GetIndexFromIdentifier"><wbr></wbr>Get<wbr></wbr>Index<wbr></wbr>From<wbr></wbr>Identifier</a></code></td>
    <td>Check if the identifier represents a valid container index and return it.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetInstanceInfoText" class="internal-link" title="ganeti.cmdlib.instance_utils.GetInstanceInfoText"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Info<wbr></wbr>Text</a></code></td>
    <td>Compute that text that should be added to the disk's metadata.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetItemFromContainer" class="internal-link" title="ganeti.cmdlib.instance_utils.GetItemFromContainer"><wbr></wbr>Get<wbr></wbr>Item<wbr></wbr>From<wbr></wbr>Container</a></code></td>
    <td>Return the item refered by the identifier.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#InsertItemToIndex" class="internal-link" title="ganeti.cmdlib.instance_utils.InsertItemToIndex"><wbr></wbr>Insert<wbr></wbr>Item<wbr></wbr>To<wbr></wbr>Index</a></code></td>
    <td>Insert an item to the provided index of a container.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#NICListToTuple" class="internal-link" title="ganeti.cmdlib.instance_utils.NICListToTuple"><wbr></wbr>NICList<wbr></wbr>To<wbr></wbr>Tuple</a></code></td>
    <td>Build a list of nic information tuples.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#NICToTuple" class="internal-link" title="ganeti.cmdlib.instance_utils.NICToTuple"><wbr></wbr>NICTo<wbr></wbr>Tuple</a></code></td>
    <td>Build a tupple of nic information.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#PrepareContainerMods" class="internal-link" title="ganeti.cmdlib.instance_utils.PrepareContainerMods"><wbr></wbr>Prepare<wbr></wbr>Container<wbr></wbr>Mods</a></code></td>
    <td>Prepares a list of container modifications by adding a private data field.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ReleaseLocks" class="internal-link" title="ganeti.cmdlib.instance_utils.ReleaseLocks"><wbr></wbr>Release<wbr></wbr>Locks</a></code></td>
    <td>Releases locks owned by an LU.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RemoveDisks" class="internal-link" title="ganeti.cmdlib.instance_utils.RemoveDisks"><wbr></wbr>Remove<wbr></wbr>Disks</a></code></td>
    <td>Remove all or a subset of disks for an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RemoveInstance" class="internal-link" title="ganeti.cmdlib.instance_utils.RemoveInstance"><wbr></wbr>Remove<wbr></wbr>Instance</a></code></td>
    <td>Utility function to remove an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#UpdateMetadata" class="internal-link" title="ganeti.cmdlib.instance_utils.UpdateMetadata"><wbr></wbr>Update<wbr></wbr>Metadata</a></code></td>
    <td>Updates instance metadata on the metadata daemon on the instance's primary node.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_ComputeIPolicyNodeViolation" class="internal-link" title="ganeti.cmdlib.instance_utils._ComputeIPolicyNodeViolation">_<wbr></wbr>Compute<wbr></wbr>IPolicy<wbr></wbr>Node<wbr></wbr>Violation</a></code></td>
    <td>Compute if instance meets the specs of the new target group.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_StoragePathsRemoved" class="internal-link" title="ganeti.cmdlib.instance_utils._StoragePathsRemoved">_<wbr></wbr>Storage<wbr></wbr>Paths<wbr></wbr>Removed</a></code></td>
    <td>Returns an iterable of all storage paths to be removed.</td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_TApplyContModsCbChanges" class="internal-link" title="ganeti.cmdlib.instance_utils._TApplyContModsCbChanges">_<wbr></wbr>TApply<wbr></wbr>Cont<wbr></wbr>Mods<wbr></wbr>Cb<wbr></wbr>Changes</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.ApplyContainerMods">
    
  </a>
  <a name="ApplyContainerMods">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ApplyContainerMods</span>(kind, container, chgdesc, mods, create_fn, attach_fn, modify_fn, remove_fn, detach_fn, post_add_fn=None):
    
    <a class="headerLink" href="#ApplyContainerMods" title="ganeti.cmdlib.instance_utils.ApplyContainerMods">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Applies descriptions in <tt class="rst-docutils literal">mods</tt> to <tt class="rst-docutils literal">container</tt>.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kind:</span>string</td><td class="fieldArgDesc">One-word item description</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">container:</span>list</td><td class="fieldArgDesc">Container to modify</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">chgdesc:</span>None or list</td><td class="fieldArgDesc">List of applied changes</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mods:</span>list</td><td class="fieldArgDesc">Modifications as returned by <code><a href="#PrepareContainerMods" class="internal-link" title="ganeti.cmdlib.instance_utils.PrepareContainerMods">PrepareContainerMods</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">create<wbr></wbr>_fn:</span>callable</td><td class="fieldArgDesc">Callback for creating a new item (<code><a href="ganeti._constants.html#DDM_ADD" class="internal-link" title="ganeti._constants.DDM_ADD">constants.DDM_ADD</a></code>); receives absolute item index, parameters and private data object as added by <code><a href="#PrepareContainerMods" class="internal-link" title="ganeti.cmdlib.instance_utils.PrepareContainerMods">PrepareContainerMods</a></code>, returns tuple containing new item and changes as list</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">attach<wbr></wbr>_fn:</span>callable</td><td class="fieldArgDesc">Callback for attaching an existing item to a container (<code><a href="ganeti._constants.html#DDM_ATTACH" class="internal-link" title="ganeti._constants.DDM_ATTACH">constants.DDM_ATTACH</a></code>); receives absolute item index and item UUID or name, returns tuple containing new item and changes as list</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">modify<wbr></wbr>_fn:</span>callable</td><td class="fieldArgDesc">Callback for modifying an existing item (<code><a href="ganeti._constants.html#DDM_MODIFY" class="internal-link" title="ganeti._constants.DDM_MODIFY">constants.DDM_MODIFY</a></code>); receives absolute item index, item, parameters and private data object as added by <code><a href="#PrepareContainerMods" class="internal-link" title="ganeti.cmdlib.instance_utils.PrepareContainerMods">PrepareContainerMods</a></code>, returns changes as list</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">remove<wbr></wbr>_fn:</span>callable</td><td class="fieldArgDesc">Callback on removing item; receives absolute item index, item and private data object as added by <code><a href="#PrepareContainerMods" class="internal-link" title="ganeti.cmdlib.instance_utils.PrepareContainerMods">PrepareContainerMods</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">detach<wbr></wbr>_fn:</span>callable</td><td class="fieldArgDesc">Callback on detaching item; receives absolute item index, item and private data object as added by <code><a href="#PrepareContainerMods" class="internal-link" title="ganeti.cmdlib.instance_utils.PrepareContainerMods">PrepareContainerMods</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">post<wbr></wbr>_add<wbr></wbr>_fn:</span>callable</td><td class="fieldArgDesc">Callable for post-processing a newly created item after it has been put into the container. It receives the index of the new item and the new item as parameters.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.BuildDiskEnv">
    
  </a>
  <a name="BuildDiskEnv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BuildDiskEnv</span>(idx, disk):
    
    <a class="headerLink" href="#BuildDiskEnv" title="ganeti.cmdlib.instance_utils.BuildDiskEnv">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Helper method to create disk's hooks env</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">idx:</span>integer</td><td class="fieldArgDesc">The index of the disk</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code> or dict</td><td class="fieldArgDesc">The disk object or a simple dict in case of LUInstanceCreate</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.BuildDiskLogicalIDEnv">
    
  </a>
  <a name="BuildDiskLogicalIDEnv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BuildDiskLogicalIDEnv</span>(idx, disk):
    
    <a class="headerLink" href="#BuildDiskLogicalIDEnv" title="ganeti.cmdlib.instance_utils.BuildDiskLogicalIDEnv">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Helper method to create hooks env related to disk's logical_id</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">idx:</span>integer</td><td class="fieldArgDesc">The index of the disk</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">The disk object</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.BuildInstanceHookEnv">
    
  </a>
  <a name="BuildInstanceHookEnv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BuildInstanceHookEnv</span>(name, primary_node_name, secondary_node_names, os_type, status, minmem, maxmem, vcpus, nics, disk_template, disks, bep, hvp, hypervisor_name, tags):
    
    <a class="headerLink" href="#BuildInstanceHookEnv" title="ganeti.cmdlib.instance_utils.BuildInstanceHookEnv">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Builds instance related env variables for hooks</p>
<p>This builds the hook environment from individual variables.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span>string</td><td class="fieldArgDesc">the name of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">primary<wbr></wbr>_node<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">the name of the instance's primary node</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">secondary<wbr></wbr>_node<wbr></wbr>_names:</span>list</td><td class="fieldArgDesc">list of secondary nodes as strings</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">os<wbr></wbr>_type:</span>string</td><td class="fieldArgDesc">the name of the instance's OS</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">status:</span>string</td><td class="fieldArgDesc">the desired status of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">minmem:</span>string</td><td class="fieldArgDesc">the minimum memory size of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">maxmem:</span>string</td><td class="fieldArgDesc">the maximum memory size of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">vcpus:</span>string</td><td class="fieldArgDesc">the count of VCPUs the instance has</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">nics:</span>list</td><td class="fieldArgDesc">list of tuples (name, uuid, ip, mac, mode, link, vlan, net, netinfo) representing the NICs the instance has</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk<wbr></wbr>_template:</span>string</td><td class="fieldArgDesc">the disk template of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks:</span>list</td><td class="fieldArgDesc">list of disks (either objects.Disk or dict)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">bep:</span>dict</td><td class="fieldArgDesc">the backend parameters for the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hvp:</span>dict</td><td class="fieldArgDesc">the hypervisor parameters for the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hypervisor<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">the hypervisor for the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">tags:</span>list</td><td class="fieldArgDesc">list of instance tags as strings</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc">the hook environment for this instance</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.BuildInstanceHookEnvByObject">
    
  </a>
  <a name="BuildInstanceHookEnvByObject">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BuildInstanceHookEnvByObject</span>(lu, instance, secondary_nodes=None, disks=None, override=None):
    
    <a class="headerLink" href="#BuildInstanceHookEnvByObject" title="ganeti.cmdlib.instance_utils.BuildInstanceHookEnvByObject">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Builds instance related env variables for hooks from an object.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu:</span><code><a href="ganeti.cmdlib.base.LogicalUnit.html" class="internal-link" title="ganeti.cmdlib.base.LogicalUnit">LogicalUnit</a></code></td><td class="fieldArgDesc">the logical unit on whose behalf we execute</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance for which we should build the environment</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">secondary<wbr></wbr>_nodes</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">override:</span>dict</td><td class="fieldArgDesc">dictionary with key/values that will override our values</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc">the hook environment dictionary</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckCompressionTool">
    
  </a>
  <a name="CheckCompressionTool">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckCompressionTool</span>(lu, compression_tool):
    
    <a class="headerLink" href="#CheckCompressionTool" title="ganeti.cmdlib.instance_utils.CheckCompressionTool">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Checks if the provided compression tool is allowed to be used.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">compression<wbr></wbr>_tool:</span>string</td><td class="fieldArgDesc">Compression tool to use for importing or exporting the instance</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">NoneType</td><td class="fieldArgDesc">None</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.errors.OpPrereqError.html" class="internal-link" title="ganeti.errors.OpPrereqError">errors.OpPrereqError</a></code></td><td>If the tool is not enabled by Ganeti or whitelisted</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckForConflictingIp">
    
  </a>
  <a name="CheckForConflictingIp">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckForConflictingIp</span>(lu, ip, node_uuid):
    
    <a class="headerLink" href="#CheckForConflictingIp" title="ganeti.cmdlib.instance_utils.CheckForConflictingIp">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>In case of conflicting IP address raise error.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ip:</span>string</td><td class="fieldArgDesc">IP address</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_uuid:</span>string</td><td class="fieldArgDesc">node UUID</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckHostnameSane">
    
  </a>
  <a name="CheckHostnameSane">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckHostnameSane</span>(lu, name):
    
    <a class="headerLink" href="#CheckHostnameSane" title="ganeti.cmdlib.instance_utils.CheckHostnameSane">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Ensures that a given hostname resolves to a 'sane' name.</p>
<p>The given name is required to be a prefix of the resolved hostname, to prevent accidental mismatches.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu</span></td><td class="fieldArgDesc">the logical unit on behalf of which we're checking</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name</span></td><td class="fieldArgDesc">the name we should resolve and check</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">the resolved hostname object</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckInstanceBridgesExist">
    
  </a>
  <a name="CheckInstanceBridgesExist">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckInstanceBridgesExist</span>(lu, instance, node_uuid=None):
    
    <a class="headerLink" href="#CheckInstanceBridgesExist" title="ganeti.cmdlib.instance_utils.CheckInstanceBridgesExist">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check that the brigdes needed by an instance exist.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckInstanceExistence">
    
  </a>
  <a name="CheckInstanceExistence">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckInstanceExistence</span>(lu, instance_name):
    
    <a class="headerLink" href="#CheckInstanceExistence" title="ganeti.cmdlib.instance_utils.CheckInstanceExistence">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Raises an error if an instance with the given name exists already.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc"><p>The name of the instance.</p>
<p>To be used in the locking phase.</p>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckNicsBridgesExist">
    
  </a>
  <a name="CheckNicsBridgesExist">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckNicsBridgesExist</span>(lu, nics, node_uuid):
    
    <a class="headerLink" href="#CheckNicsBridgesExist" title="ganeti.cmdlib.instance_utils.CheckNicsBridgesExist">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check that the brigdes needed by a list of nics exist.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckNodeFreeMemory">
    
  </a>
  <a name="CheckNodeFreeMemory">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckNodeFreeMemory</span>(lu, node_uuid, reason, requested, hvname, hvparams):
    
    <a class="headerLink" href="#CheckNodeFreeMemory" title="ganeti.cmdlib.instance_utils.CheckNodeFreeMemory">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Checks if a node has enough free memory.</p>
<p>This function checks if a given node has the needed amount of free memory. In case the node has less memory or we cannot get the information from the node, this function raises an OpPrereqError exception.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu:</span><tt class="rst-docutils literal">LogicalUnit</tt></td><td class="fieldArgDesc">a logical unit from which we get configuration data</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_uuid:</span><tt class="rst-docutils literal">str</tt></td><td class="fieldArgDesc">the node to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">reason:</span><tt class="rst-docutils literal">str</tt></td><td class="fieldArgDesc">string to use in the error message</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">requested:</span><tt class="rst-docutils literal">int</tt></td><td class="fieldArgDesc">the amount of memory in MiB to check for</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hvname:</span>string</td><td class="fieldArgDesc">the hypervisor's name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hvparams:</span>dict of strings</td><td class="fieldArgDesc">the hypervisor's parameters</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">integer</td><td class="fieldArgDesc">node current free memory</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.errors.OpPrereqError.html" class="internal-link" title="ganeti.errors.OpPrereqError">errors.OpPrereqError</a></code></td><td>if the node doesn't have enough memory, or we cannot check the node</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckNodeNotDrained">
    
  </a>
  <a name="CheckNodeNotDrained">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckNodeNotDrained</span>(lu, node_uuid):
    
    <a class="headerLink" href="#CheckNodeNotDrained" title="ganeti.cmdlib.instance_utils.CheckNodeNotDrained">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Ensure that a given node is not drained.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu</span></td><td class="fieldArgDesc">the LU on behalf of which we make the check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_uuid</span></td><td class="fieldArgDesc">the node to check</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.errors.OpPrereqError.html" class="internal-link" title="ganeti.errors.OpPrereqError">errors.OpPrereqError</a></code></td><td>if the node is drained</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckNodesPhysicalCPUs">
    
  </a>
  <a name="CheckNodesPhysicalCPUs">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckNodesPhysicalCPUs</span>(lu, node_uuids, requested, hypervisor_specs):
    
    <a class="headerLink" href="#CheckNodesPhysicalCPUs" title="ganeti.cmdlib.instance_utils.CheckNodesPhysicalCPUs">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Checks if nodes have enough physical CPUs</p>
<p>This function checks if all given nodes have the needed number of physical CPUs. In case any node has less CPUs or we cannot get the information from the node, this function raises an OpPrereqError exception.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu:</span><tt class="rst-docutils literal">LogicalUnit</tt></td><td class="fieldArgDesc">a logical unit from which we get configuration data</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_uuids:</span><tt class="rst-docutils literal">list</tt></td><td class="fieldArgDesc">the list of node UUIDs to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">requested:</span><tt class="rst-docutils literal">int</tt></td><td class="fieldArgDesc">the minimum acceptable number of physical CPUs</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hypervisor<wbr></wbr>_specs:</span>list of pairs (string, dict of strings)</td><td class="fieldArgDesc">list of hypervisor specifications in pairs (hypervisor_name, hvparams)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.errors.OpPrereqError.html" class="internal-link" title="ganeti.errors.OpPrereqError">errors.OpPrereqError</a></code></td><td>if the node doesn't have enough CPUs, or we cannot check the node</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckNodeVmCapable">
    
  </a>
  <a name="CheckNodeVmCapable">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckNodeVmCapable</span>(lu, node_uuid):
    
    <a class="headerLink" href="#CheckNodeVmCapable" title="ganeti.cmdlib.instance_utils.CheckNodeVmCapable">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Ensure that a given node is vm capable.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu</span></td><td class="fieldArgDesc">the LU on behalf of which we make the check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_uuid</span></td><td class="fieldArgDesc">the node to check</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.errors.OpPrereqError.html" class="internal-link" title="ganeti.errors.OpPrereqError">errors.OpPrereqError</a></code></td><td>if the node is not vm capable</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckOpportunisticLocking">
    
  </a>
  <a name="CheckOpportunisticLocking">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckOpportunisticLocking</span>(op):
    
    <a class="headerLink" href="#CheckOpportunisticLocking" title="ganeti.cmdlib.instance_utils.CheckOpportunisticLocking">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Generate error if opportunistic locking is not possible.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CheckTargetNodeIPolicy">
    
  </a>
  <a name="CheckTargetNodeIPolicy">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CheckTargetNodeIPolicy</span>(lu, ipolicy, instance, node, cfg, ignore=False, _compute_fn=<a href="#_ComputeIPolicyNodeViolation" class="internal-link" title="ganeti.cmdlib.instance_utils._ComputeIPolicyNodeViolation">_ComputeIPolicyNodeViolation</a>):
    
    <a class="headerLink" href="#CheckTargetNodeIPolicy" title="ganeti.cmdlib.instance_utils.CheckTargetNodeIPolicy">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Checks that the target node is correct in terms of instance policy.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ipolicy</span></td><td class="fieldArgDesc">The ipolicy to verify</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance</span></td><td class="fieldArgDesc">The instance object to verify</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node</span></td><td class="fieldArgDesc">The new node to relocate</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cfg:</span><code><a href="ganeti.config.ConfigWriter.html" class="internal-link" title="ganeti.config.ConfigWriter">config.ConfigWriter</a></code></td><td class="fieldArgDesc">Cluster configuration</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ignore</span></td><td class="fieldArgDesc">Ignore violations of the ipolicy</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_compute<wbr></wbr>_fn</span></td><td class="fieldArgDesc">The function to verify ipolicy (unittest only)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">See Also</td></tr><tr><td colspan="2"><code><a href="ganeti.cmdlib.common.html#ComputeIPolicySpecViolation" class="internal-link" title="ganeti.cmdlib.common.ComputeIPolicySpecViolation">ganeti.cmdlib.common.ComputeIPolicySpecViolation</a></code></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.ComputeFullBeParams">
    
  </a>
  <a name="ComputeFullBeParams">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ComputeFullBeParams</span>(op, cluster):
    
    <a class="headerLink" href="#ComputeFullBeParams" title="ganeti.cmdlib.instance_utils.ComputeFullBeParams">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Computes the full beparams.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">op</span></td><td class="fieldArgDesc">The instance opcode</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cluster</span></td><td class="fieldArgDesc">The cluster config object</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">The fully filled beparams</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.ComputeInstanceCommunicationNIC">
    
  </a>
  <a name="ComputeInstanceCommunicationNIC">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ComputeInstanceCommunicationNIC</span>(instance_name):
    
    <a class="headerLink" href="#ComputeInstanceCommunicationNIC" title="ganeti.cmdlib.instance_utils.ComputeInstanceCommunicationNIC">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute the name of the instance NIC used by instance communication.</p>
<p>With instance communication, a new NIC is added to the instance. This NIC has a special name that identities it as being part of instance communication, and not just a normal NIC.  This function generates the name of the NIC based on a prefix and the instance name</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">name of the instance the NIC belongs to</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">string</td><td class="fieldArgDesc">name of the NIC</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.ComputeIPolicyInstanceSpecViolation">
    
  </a>
  <a name="ComputeIPolicyInstanceSpecViolation">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ComputeIPolicyInstanceSpecViolation</span>(ipolicy, instance_spec, disk_types, _compute_fn=<a href="ganeti.cmdlib.common.html#ComputeIPolicySpecViolation" class="internal-link" title="ganeti.cmdlib.common.ComputeIPolicySpecViolation">ComputeIPolicySpecViolation</a>):
    
    <a class="headerLink" href="#ComputeIPolicyInstanceSpecViolation" title="ganeti.cmdlib.instance_utils.ComputeIPolicyInstanceSpecViolation">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute if instance specs meets the specs of ipolicy.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ipolicy:</span>dict</td><td class="fieldArgDesc">The ipolicy to verify against</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_spec</span></td><td class="fieldArgDesc">The instance spec to verify</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk<wbr></wbr>_types:</span>list of strings</td><td class="fieldArgDesc">the disk templates of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_compute<wbr></wbr>_fn</span></td><td class="fieldArgDesc">The function to verify ipolicy (unittest only)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">See Also</td></tr><tr><td colspan="2"><code><a href="ganeti.cmdlib.common.html#ComputeIPolicySpecViolation" class="internal-link" title="ganeti.cmdlib.common.ComputeIPolicySpecViolation">ComputeIPolicySpecViolation</a></code></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.ComputeNics">
    
  </a>
  <a name="ComputeNics">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ComputeNics</span>(op, cluster, default_ip, cfg, ec_id):
    
    <a class="headerLink" href="#ComputeNics" title="ganeti.cmdlib.instance_utils.ComputeNics">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Computes the nics.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">op</span></td><td class="fieldArgDesc">The instance opcode</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cluster</span></td><td class="fieldArgDesc">Cluster configuration object</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">default<wbr></wbr>_ip</span></td><td class="fieldArgDesc">The default ip to assign</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cfg</span></td><td class="fieldArgDesc">An instance of the configuration object</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ec<wbr></wbr>_id</span></td><td class="fieldArgDesc">Execution context ID</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">The build up nics</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CopyLockList">
    
  </a>
  <a name="CopyLockList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CopyLockList</span>(names):
    
    <a class="headerLink" href="#CopyLockList" title="ganeti.cmdlib.instance_utils.CopyLockList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Makes a copy of a list of lock names.</p>
<p>Handles <code><a href="ganeti.locking.html#ALL_SET" class="internal-link" title="ganeti.locking.ALL_SET">locking.ALL_SET</a></code> correctly.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.CreateInstanceAllocRequest">
    
  </a>
  <a name="CreateInstanceAllocRequest">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CreateInstanceAllocRequest</span>(op, disks, nics, beparams, node_name_whitelist):
    
    <a class="headerLink" href="#CreateInstanceAllocRequest" title="ganeti.cmdlib.instance_utils.CreateInstanceAllocRequest">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Wrapper around IAReqInstanceAlloc.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">op</span></td><td class="fieldArgDesc">The instance opcode</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks</span></td><td class="fieldArgDesc">The computed disks</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">nics</span></td><td class="fieldArgDesc">The computed nics</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">beparams</span></td><td class="fieldArgDesc">The full filled beparams</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_name<wbr></wbr>_whitelist</span></td><td class="fieldArgDesc">List of nodes which should appear as online to the allocator (unless the node is already marked offline)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">A filled <code><a href="ganeti.masterd.iallocator.IAReqInstanceAlloc.html" class="internal-link" title="ganeti.masterd.iallocator.IAReqInstanceAlloc">iallocator.IAReqInstanceAlloc</a></code></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.GetClusterDomainSecret">
    
  </a>
  <a name="GetClusterDomainSecret">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetClusterDomainSecret</span>():
    
    <a class="headerLink" href="#GetClusterDomainSecret" title="ganeti.cmdlib.instance_utils.GetClusterDomainSecret">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Reads the cluster domain secret.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.GetIndexFromIdentifier">
    
  </a>
  <a name="GetIndexFromIdentifier">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetIndexFromIdentifier</span>(identifier, kind, container):
    
    <a class="headerLink" href="#GetIndexFromIdentifier" title="ganeti.cmdlib.instance_utils.GetIndexFromIdentifier">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check if the identifier represents a valid container index and return it.</p>
<p>Used in "add" and "attach" actions.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">identifier:</span>string</td><td class="fieldArgDesc">Item index or name or UUID</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kind:</span>string</td><td class="fieldArgDesc">Type of item, e.g. "disk", "nic"</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">container:</span>list</td><td class="fieldArgDesc">Container to calculate the index from</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.GetInstanceInfoText">
    
  </a>
  <a name="GetInstanceInfoText">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetInstanceInfoText</span>(instance):
    
    <a class="headerLink" href="#GetInstanceInfoText" title="ganeti.cmdlib.instance_utils.GetInstanceInfoText">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute that text that should be added to the disk's metadata.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.GetItemFromContainer">
    
  </a>
  <a name="GetItemFromContainer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetItemFromContainer</span>(identifier, kind, container):
    
    <a class="headerLink" href="#GetItemFromContainer" title="ganeti.cmdlib.instance_utils.GetItemFromContainer">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Return the item refered by the identifier.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">identifier:</span>string</td><td class="fieldArgDesc">Item index or name or UUID</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kind:</span>string</td><td class="fieldArgDesc">One-word item description</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">container:</span>list</td><td class="fieldArgDesc">Container to get the item from</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.InsertItemToIndex">
    
  </a>
  <a name="InsertItemToIndex">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">InsertItemToIndex</span>(identifier, item, container):
    
    <a class="headerLink" href="#InsertItemToIndex" title="ganeti.cmdlib.instance_utils.InsertItemToIndex">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Insert an item to the provided index of a container.</p>
<p>Used in "add" and "attach" actions.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">identifier:</span>string</td><td class="fieldArgDesc">Item index</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">item:</span>object</td><td class="fieldArgDesc">The item to be inserted</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">container:</span>list</td><td class="fieldArgDesc">Container to insert the item to</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.NICListToTuple">
    
  </a>
  <a name="NICListToTuple">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">NICListToTuple</span>(lu, nics):
    
    <a class="headerLink" href="#NICListToTuple" title="ganeti.cmdlib.instance_utils.NICListToTuple">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Build a list of nic information tuples.</p>
<p>This list is suitable to be passed to _BuildInstanceHookEnv or as a return value in LUInstanceQueryData.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu:</span><code><a href="ganeti.cmdlib.base.LogicalUnit.html" class="internal-link" title="ganeti.cmdlib.base.LogicalUnit">LogicalUnit</a></code></td><td class="fieldArgDesc">the logical unit on whose behalf we execute</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">nics:</span>list of <code><a href="ganeti.objects.NIC.html" class="internal-link" title="ganeti.objects.NIC">objects.NIC</a></code></td><td class="fieldArgDesc">list of nics to convert to hooks tuples</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.NICToTuple">
    
  </a>
  <a name="NICToTuple">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">NICToTuple</span>(lu, nic):
    
    <a class="headerLink" href="#NICToTuple" title="ganeti.cmdlib.instance_utils.NICToTuple">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Build a tupple of nic information.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu:</span><code><a href="ganeti.cmdlib.base.LogicalUnit.html" class="internal-link" title="ganeti.cmdlib.base.LogicalUnit">LogicalUnit</a></code></td><td class="fieldArgDesc">the logical unit on whose behalf we execute</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">nic:</span><code><a href="ganeti.objects.NIC.html" class="internal-link" title="ganeti.objects.NIC">objects.NIC</a></code></td><td class="fieldArgDesc">nic to convert to hooks tuple</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.PrepareContainerMods">
    
  </a>
  <a name="PrepareContainerMods">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">PrepareContainerMods</span>(mods, private_fn):
    
    <a class="headerLink" href="#PrepareContainerMods" title="ganeti.cmdlib.instance_utils.PrepareContainerMods">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Prepares a list of container modifications by adding a private data field.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mods:</span>list of tuples; (operation, index, parameters)</td><td class="fieldArgDesc">List of modifications</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">private<wbr></wbr>_fn:</span>callable or None</td><td class="fieldArgDesc">Callable for constructing a private data field for a modification</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.ReleaseLocks">
    
  </a>
  <a name="ReleaseLocks">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ReleaseLocks</span>(lu, level, names=None, keep=None):
    
    <a class="headerLink" href="#ReleaseLocks" title="ganeti.cmdlib.instance_utils.ReleaseLocks">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Releases locks owned by an LU.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu:</span><code><a href="ganeti.cmdlib.base.LogicalUnit.html" class="internal-link" title="ganeti.cmdlib.base.LogicalUnit">LogicalUnit</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">level</span></td><td class="fieldArgDesc">Lock level</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">names:</span>list or None</td><td class="fieldArgDesc">Names of locks to release</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">keep:</span>list or None</td><td class="fieldArgDesc">Names of locks to retain</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.RemoveDisks">
    
  </a>
  <a name="RemoveDisks">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RemoveDisks</span>(lu, instance, disks=None, target_node_uuid=None, ignore_failures=False):
    
    <a class="headerLink" href="#RemoveDisks" title="ganeti.cmdlib.instance_utils.RemoveDisks">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Remove all or a subset of disks for an instance.</p>
<p>This abstracts away some work from `AddInstance()` and `RemoveInstance()`. Note that in case some of the devices couldn't be removed, the removal will continue with the other ones.</p>
<p>This function is also used by the disk template conversion mechanism to remove the old block devices of the instance. Since the instance has changed its template at the time we remove the original disks, we must specify the template of the disks we are about to remove as an argument.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lu:</span><code><a href="ganeti.cmdlib.base.LogicalUnit.html" class="internal-link" title="ganeti.cmdlib.base.LogicalUnit">LogicalUnit</a></code></td><td class="fieldArgDesc">the logical unit on whose behalf we execute</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance whose disks we should remove</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disks to remove; if not specified, all the disks of the instance are removed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">target<wbr></wbr>_node<wbr></wbr>_uuid:</span>string</td><td class="fieldArgDesc">used to override the node on which to remove the disks</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ignore<wbr></wbr>_failures</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">boolean</td><td class="fieldArgDesc">the success of the removal</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.RemoveInstance">
    
  </a>
  <a name="RemoveInstance">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RemoveInstance</span>(lu, feedback_fn, instance, ignore_failures):
    
    <a class="headerLink" href="#RemoveInstance" title="ganeti.cmdlib.instance_utils.RemoveInstance">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Utility function to remove an instance.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.cmdlib.instance_utils.UpdateMetadata">
    
  </a>
  <a name="UpdateMetadata">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">UpdateMetadata</span>(feedback_fn, rpc, instance, osparams_public=None, osparams_private=None, osparams_secret=None):
    
    <a class="headerLink" href="#UpdateMetadata" title="ganeti.cmdlib.instance_utils.UpdateMetadata">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Updates instance metadata on the metadata daemon on the instance's primary node.</p>
<p>If the daemon isn't available (not compiled), do nothing.</p>
<p>In case the RPC fails, this function simply issues a warning and proceeds normally.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">feedback<wbr></wbr>_fn:</span>callable</td><td class="fieldArgDesc">function used send feedback back to the caller</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">rpc:</span><code><a href="ganeti.rpc.node.RpcRunner.html" class="internal-link" title="ganeti.rpc.node.RpcRunner">rpc.node.RpcRunner</a></code></td><td class="fieldArgDesc">RPC runner</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">instance for which the metadata should be updated</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">osparams<wbr></wbr>_public:</span>NoneType or dict</td><td class="fieldArgDesc">public OS parameters used to override those defined in <code><a href="ganeti.cmdlib.instance.html" class="internal-link" title="ganeti.cmdlib.instance">instance</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">osparams<wbr></wbr>_private:</span>NoneType or dict</td><td class="fieldArgDesc">private OS parameters used to override those defined in <code><a href="ganeti.cmdlib.instance.html" class="internal-link" title="ganeti.cmdlib.instance">instance</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">osparams<wbr></wbr>_secret:</span>NoneType or dict</td><td class="fieldArgDesc">secret OS parameters used to override those defined in <code><a href="ganeti.cmdlib.instance.html" class="internal-link" title="ganeti.cmdlib.instance">instance</a></code></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">NoneType</td><td class="fieldArgDesc">None</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.cmdlib.instance_utils._ComputeIPolicyNodeViolation">
    
  </a>
  <a name="_ComputeIPolicyNodeViolation">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_ComputeIPolicyNodeViolation</span>(ipolicy, instance, current_group, target_group, cfg, _compute_fn=<a href="ganeti.cmdlib.common.html#ComputeIPolicyInstanceViolation" class="internal-link" title="ganeti.cmdlib.common.ComputeIPolicyInstanceViolation">ComputeIPolicyInstanceViolation</a>):
    
    <a class="headerLink" href="#_ComputeIPolicyNodeViolation" title="ganeti.cmdlib.instance_utils._ComputeIPolicyNodeViolation">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute if instance meets the specs of the new target group.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ipolicy</span></td><td class="fieldArgDesc">The ipolicy to verify</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance</span></td><td class="fieldArgDesc">The instance object to verify</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">current<wbr></wbr>_group</span></td><td class="fieldArgDesc">The current group of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">target<wbr></wbr>_group</span></td><td class="fieldArgDesc">The new group of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cfg:</span><code><a href="ganeti.config.ConfigWriter.html" class="internal-link" title="ganeti.config.ConfigWriter">config.ConfigWriter</a></code></td><td class="fieldArgDesc">Cluster configuration</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_compute<wbr></wbr>_fn</span></td><td class="fieldArgDesc">The function to verify ipolicy (unittest only)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">See Also</td></tr><tr><td colspan="2"><code><a href="ganeti.cmdlib.common.html#ComputeIPolicySpecViolation" class="internal-link" title="ganeti.cmdlib.common.ComputeIPolicySpecViolation">ganeti.cmdlib.common.ComputeIPolicySpecViolation</a></code></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.cmdlib.instance_utils._StoragePathsRemoved">
    
  </a>
  <a name="_StoragePathsRemoved">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_StoragePathsRemoved</span>(removed, disks):
    
    <a class="headerLink" href="#_StoragePathsRemoved" title="ganeti.cmdlib.instance_utils._StoragePathsRemoved">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Returns an iterable of all storage paths to be removed.</p>
<p>A storage path is removed if no disks are contained in it anymore.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">removed:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">The disks that are being removed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">All disks attached to the instance</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list of file paths</td><td class="fieldArgDesc">the storage directories that need to be removed</td></tr></table></div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="ganeti.cmdlib.instance_utils._TApplyContModsCbChanges">
    
  </a>
  <a name="_TApplyContModsCbChanges">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_TApplyContModsCbChanges</span> =
    
    <a class="headerLink" href="#_TApplyContModsCbChanges" title="ganeti.cmdlib.instance_utils._TApplyContModsCbChanges">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for ganeti/server,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.9.1 at 2024-05-06 13:21:37.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>