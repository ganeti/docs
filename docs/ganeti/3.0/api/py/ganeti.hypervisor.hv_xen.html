<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>ganeti.hypervisor.hv_xen</title>
    <meta name="generator" content="pydoctor 22.9.1"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          ganeti/server <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Module</span>
        <code class="thisobject"><a href="ganeti.hypervisor.hv_xen.html" class="internal-link" title="This module">hv<wbr></wbr>_xen</a></code> 
      </div>
      
      <div>
        

        
         

        <div class="childrenKindTitle">Classes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_xen.XenHvmHypervisor.html" class="internal-link" title="ganeti.hypervisor.hv_xen.XenHvmHypervisor"><wbr></wbr>Xen<wbr></wbr>Hvm<wbr></wbr>Hypervisor</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_xen.XenHypervisor.html" class="internal-link" title="ganeti.hypervisor.hv_xen.XenHypervisor"><wbr></wbr>Xen<wbr></wbr>Hypervisor</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_xen.XenPvmHypervisor.html" class="internal-link" title="ganeti.hypervisor.hv_xen.XenPvmHypervisor"><wbr></wbr>Xen<wbr></wbr>Pvm<wbr></wbr>Hypervisor</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_xen._InstanceCrashed.html" class="internal-link" title="ganeti.hypervisor.hv_xen._InstanceCrashed">_<wbr></wbr>Instance<wbr></wbr>Crashed</a></code>
            </div>
        

    </li>
</ul>

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#WriteXenConfigEvents" class="internal-link" title="ganeti.hypervisor.hv_xen.WriteXenConfigEvents"><wbr></wbr>Write<wbr></wbr>Xen<wbr></wbr>Config<wbr></wbr>Events</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_ConfigureNIC" class="internal-link" title="ganeti.hypervisor.hv_xen._ConfigureNIC">_<wbr></wbr>Configure<wbr></wbr>NIC</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CreateConfigCpus" class="internal-link" title="ganeti.hypervisor.hv_xen._CreateConfigCpus">_<wbr></wbr>Create<wbr></wbr>Config<wbr></wbr>Cpus</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetAllInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetAllInstanceList">_<wbr></wbr>Get<wbr></wbr>All<wbr></wbr>Instance<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetConfigFileDiskData" class="internal-link" title="ganeti.hypervisor.hv_xen._GetConfigFileDiskData">_<wbr></wbr>Get<wbr></wbr>Config<wbr></wbr>File<wbr></wbr>Disk<wbr></wbr>Data</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetNodeInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._GetNodeInfo">_<wbr></wbr>Get<wbr></wbr>Node<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetRunningInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetRunningInstanceList">_<wbr></wbr>Get<wbr></wbr>Running<wbr></wbr>Instance<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetShutdownInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetShutdownInstanceList">_<wbr></wbr>Get<wbr></wbr>Shutdown<wbr></wbr>Instance<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_IgnorePaused" class="internal-link" title="ganeti.hypervisor.hv_xen._IgnorePaused">_<wbr></wbr>Ignore<wbr></wbr>Paused</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_InstanceDomID" class="internal-link" title="ganeti.hypervisor.hv_xen._InstanceDomID">_<wbr></wbr>Instance<wbr></wbr>Dom<wbr></wbr>ID</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_InstanceRunning" class="internal-link" title="ganeti.hypervisor.hv_xen._InstanceRunning">_<wbr></wbr>Instance<wbr></wbr>Running</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_InstanceRuntime" class="internal-link" title="ganeti.hypervisor.hv_xen._InstanceRuntime">_<wbr></wbr>Instance<wbr></wbr>Runtime</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_IsCrashed" class="internal-link" title="ganeti.hypervisor.hv_xen._IsCrashed">_<wbr></wbr>Is<wbr></wbr>Crashed</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_IsInstanceRunning" class="internal-link" title="ganeti.hypervisor.hv_xen._IsInstanceRunning">_<wbr></wbr>Is<wbr></wbr>Instance<wbr></wbr>Running</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_IsInstanceShutdown" class="internal-link" title="ganeti.hypervisor.hv_xen._IsInstanceShutdown">_<wbr></wbr>Is<wbr></wbr>Instance<wbr></wbr>Shutdown</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_MergeInstanceInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._MergeInstanceInfo">_<wbr></wbr>Merge<wbr></wbr>Instance<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_ParseInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseInstanceList">_<wbr></wbr>Parse<wbr></wbr>Instance<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_ParseNodeInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseNodeInfo">_<wbr></wbr>Parse<wbr></wbr>Node<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_QuoteCpuidField" class="internal-link" title="ganeti.hypervisor.hv_xen._QuoteCpuidField">_<wbr></wbr>Quote<wbr></wbr>Cpuid<wbr></wbr>Field</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_RunInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._RunInstanceList">_<wbr></wbr>Run<wbr></wbr>Instance<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_XenToHypervisorInstanceState" class="internal-link" title="ganeti.hypervisor.hv_xen._XenToHypervisorInstanceState">_<wbr></wbr>Xen<wbr></wbr>To<wbr></wbr>Hypervisor<wbr></wbr>Instance<wbr></wbr>State</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#VIF_BRIDGE_SCRIPT" class="internal-link" title="ganeti.hypervisor.hv_xen.VIF_BRIDGE_SCRIPT">VIF<wbr></wbr>_BRIDGE<wbr></wbr>_SCRIPT</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#XEN_COMMAND" class="internal-link" title="ganeti.hypervisor.hv_xen.XEN_COMMAND">XEN<wbr></wbr>_COMMAND</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#XL_CONFIG_FILE" class="internal-link" title="ganeti.hypervisor.hv_xen.XL_CONFIG_FILE">XL<wbr></wbr>_CONFIG<wbr></wbr>_FILE</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_DOM0_NAME" class="internal-link" title="ganeti.hypervisor.hv_xen._DOM0_NAME">_DOM0<wbr></wbr>_NAME</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_FILE_DRIVER_MAP" class="internal-link" title="ganeti.hypervisor.hv_xen._FILE_DRIVER_MAP">_FILE<wbr></wbr>_DRIVER<wbr></wbr>_MAP</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Package</span>
        <code><a href="ganeti.hypervisor.html" class="internal-link" title="The parent of this module">hypervisor</a></code> 
      </div>
      
      <div>
        

        <div class="childrenKindTitle">Modules</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_kvm.html" class="internal-link" title="ganeti.hypervisor.hv_kvm">hv<wbr></wbr>_kvm</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_base.html" class="internal-link" title="ganeti.hypervisor.hv_base">hv<wbr></wbr>_base</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_chroot.html" class="internal-link" title="ganeti.hypervisor.hv_chroot">hv<wbr></wbr>_chroot</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_fake.html" class="internal-link" title="ganeti.hypervisor.hv_fake">hv<wbr></wbr>_fake</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_lxc.html" class="internal-link" title="ganeti.hypervisor.hv_lxc">hv<wbr></wbr>_lxc</a></code>
            </div>
        

    </li><li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.hv_xen.html" class="internal-link" title="ganeti.hypervisor.hv_xen">hv<wbr></wbr>_xen</a></code>
            </div>
        

    </li>
</ul> 

        
        

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.html#GetHypervisor" class="internal-link" title="ganeti.hypervisor.GetHypervisor"><wbr></wbr>Get<wbr></wbr>Hypervisor</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.html#GetHypervisorClass" class="internal-link" title="ganeti.hypervisor.GetHypervisorClass"><wbr></wbr>Get<wbr></wbr>Hypervisor<wbr></wbr>Class</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="private">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.html#_HYPERVISOR_MAP" class="internal-link" title="ganeti.hypervisor._HYPERVISOR_MAP">_HYPERVISOR<wbr></wbr>_MAP</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="module"><code><code><a href="ganeti.html" class="internal-link">ganeti</a></code><wbr></wbr>.<code><a href="ganeti.hypervisor.html" class="internal-link" title="ganeti.hypervisor">hypervisor</a></code><wbr></wbr>.<code><a href="ganeti.hypervisor.hv_xen.html" class="internal-link" title="ganeti.hypervisor.hv_xen">hv_xen</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          module documentation
        </div>

        <div class="extrasDocstring">
          
          <p></p>
        </div>

        <div class="moduleDocstring">
          <div><p>Xen hypervisors</p>
</div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id466">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="ganeti.hypervisor.hv_xen.XenHvmHypervisor.html" class="internal-link" title="ganeti.hypervisor.hv_xen.XenHvmHypervisor"><wbr></wbr>Xen<wbr></wbr>Hvm<wbr></wbr>Hypervisor</a></code></td>
    <td>Xen HVM hypervisor interface</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="ganeti.hypervisor.hv_xen.XenHypervisor.html" class="internal-link" title="ganeti.hypervisor.hv_xen.XenHypervisor"><wbr></wbr>Xen<wbr></wbr>Hypervisor</a></code></td>
    <td>Xen generic hypervisor interface</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="ganeti.hypervisor.hv_xen.XenPvmHypervisor.html" class="internal-link" title="ganeti.hypervisor.hv_xen.XenPvmHypervisor"><wbr></wbr>Xen<wbr></wbr>Pvm<wbr></wbr>Hypervisor</a></code></td>
    <td>Xen PVM hypervisor interface</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#WriteXenConfigEvents" class="internal-link" title="ganeti.hypervisor.hv_xen.WriteXenConfigEvents"><wbr></wbr>Write<wbr></wbr>Xen<wbr></wbr>Config<wbr></wbr>Events</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#VIF_BRIDGE_SCRIPT" class="internal-link" title="ganeti.hypervisor.hv_xen.VIF_BRIDGE_SCRIPT">VIF<wbr></wbr>_BRIDGE<wbr></wbr>_SCRIPT</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#XEN_COMMAND" class="internal-link" title="ganeti.hypervisor.hv_xen.XEN_COMMAND">XEN<wbr></wbr>_COMMAND</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant">
    
    <td>Constant</td>
    <td><code><a href="#XL_CONFIG_FILE" class="internal-link" title="ganeti.hypervisor.hv_xen.XL_CONFIG_FILE">XL<wbr></wbr>_CONFIG<wbr></wbr>_FILE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="exception private">
    
    <td>Exception</td>
    <td><code><a href="ganeti.hypervisor.hv_xen._InstanceCrashed.html" class="internal-link" title="ganeti.hypervisor.hv_xen._InstanceCrashed">_<wbr></wbr>Instance<wbr></wbr>Crashed</a></code></td>
    <td>Instance has reached a violent ending.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_ConfigureNIC" class="internal-link" title="ganeti.hypervisor.hv_xen._ConfigureNIC">_<wbr></wbr>Configure<wbr></wbr>NIC</a></code></td>
    <td>Run the network configuration script for a specified NIC</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CreateConfigCpus" class="internal-link" title="ganeti.hypervisor.hv_xen._CreateConfigCpus">_<wbr></wbr>Create<wbr></wbr>Config<wbr></wbr>Cpus</a></code></td>
    <td>Create a CPU config string for Xen's config file.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetAllInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetAllInstanceList">_<wbr></wbr>Get<wbr></wbr>All<wbr></wbr>Instance<wbr></wbr>List</a></code></td>
    <td>Return the list of instances including running and shutdown.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetConfigFileDiskData" class="internal-link" title="ganeti.hypervisor.hv_xen._GetConfigFileDiskData">_<wbr></wbr>Get<wbr></wbr>Config<wbr></wbr>File<wbr></wbr>Disk<wbr></wbr>Data</a></code></td>
    <td>Get disk directives for Xen config file.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetNodeInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._GetNodeInfo">_<wbr></wbr>Get<wbr></wbr>Node<wbr></wbr>Info</a></code></td>
    <td>Combines <code><a href="ganeti.hypervisor.hv_xen.html#_MergeInstanceInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._MergeInstanceInfo">_MergeInstanceInfo</a></code> and <code><a href="ganeti.hypervisor.hv_xen.html#_ParseNodeInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseNodeInfo">_ParseNodeInfo</a></code>.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetRunningInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetRunningInstanceList">_<wbr></wbr>Get<wbr></wbr>Running<wbr></wbr>Instance<wbr></wbr>List</a></code></td>
    <td>Return the list of running instances.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetShutdownInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetShutdownInstanceList">_<wbr></wbr>Get<wbr></wbr>Shutdown<wbr></wbr>Instance<wbr></wbr>List</a></code></td>
    <td>Return the list of shutdown instances.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_IgnorePaused" class="internal-link" title="ganeti.hypervisor.hv_xen._IgnorePaused">_<wbr></wbr>Ignore<wbr></wbr>Paused</a></code></td>
    <td>Removes information about whether a Xen state is paused from the state.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_InstanceDomID" class="internal-link" title="ganeti.hypervisor.hv_xen._InstanceDomID">_<wbr></wbr>Instance<wbr></wbr>Dom<wbr></wbr>ID</a></code></td>
    <td>Get instance domain ID from instance info tuple.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_InstanceRunning" class="internal-link" title="ganeti.hypervisor.hv_xen._InstanceRunning">_<wbr></wbr>Instance<wbr></wbr>Running</a></code></td>
    <td>Get instance runtime from instance info tuple.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_InstanceRuntime" class="internal-link" title="ganeti.hypervisor.hv_xen._InstanceRuntime">_<wbr></wbr>Instance<wbr></wbr>Runtime</a></code></td>
    <td>Get instance runtime from instance info tuple.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_IsCrashed" class="internal-link" title="ganeti.hypervisor.hv_xen._IsCrashed">_<wbr></wbr>Is<wbr></wbr>Crashed</a></code></td>
    <td>Returns whether an instance is in the crashed Xen state.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_IsInstanceRunning" class="internal-link" title="ganeti.hypervisor.hv_xen._IsInstanceRunning">_<wbr></wbr>Is<wbr></wbr>Instance<wbr></wbr>Running</a></code></td>
    <td>Determine whether an instance is running.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_IsInstanceShutdown" class="internal-link" title="ganeti.hypervisor.hv_xen._IsInstanceShutdown">_<wbr></wbr>Is<wbr></wbr>Instance<wbr></wbr>Shutdown</a></code></td>
    <td>Determine whether the instance is shutdown.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_MergeInstanceInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._MergeInstanceInfo">_<wbr></wbr>Merge<wbr></wbr>Instance<wbr></wbr>Info</a></code></td>
    <td>Updates node information from <code><a href="ganeti.hypervisor.hv_xen.html#_ParseNodeInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseNodeInfo">_ParseNodeInfo</a></code> with instance info.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_ParseInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseInstanceList">_<wbr></wbr>Parse<wbr></wbr>Instance<wbr></wbr>List</a></code></td>
    <td>Parses the output of listing instances by xen.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_ParseNodeInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseNodeInfo">_<wbr></wbr>Parse<wbr></wbr>Node<wbr></wbr>Info</a></code></td>
    <td>Return information about the node.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_QuoteCpuidField" class="internal-link" title="ganeti.hypervisor.hv_xen._QuoteCpuidField">_<wbr></wbr>Quote<wbr></wbr>Cpuid<wbr></wbr>Field</a></code></td>
    <td>Add quotes around the CPUID field only if necessary.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_RunInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._RunInstanceList">_<wbr></wbr>Run<wbr></wbr>Instance<wbr></wbr>List</a></code></td>
    <td>Helper function for <code><a href="ganeti.hypervisor.hv_xen.html#_GetAllInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetAllInstanceList">_GetAllInstanceList</a></code> to retrieve the list of instances from xen.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_XenToHypervisorInstanceState" class="internal-link" title="ganeti.hypervisor.hv_xen._XenToHypervisorInstanceState">_<wbr></wbr>Xen<wbr></wbr>To<wbr></wbr>Hypervisor<wbr></wbr>Instance<wbr></wbr>State</a></code></td>
    <td>Maps Xen states to hypervisor states.</td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_DOM0_NAME" class="internal-link" title="ganeti.hypervisor.hv_xen._DOM0_NAME">_DOM0<wbr></wbr>_NAME</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_FILE_DRIVER_MAP" class="internal-link" title="ganeti.hypervisor.hv_xen._FILE_DRIVER_MAP">_FILE<wbr></wbr>_DRIVER<wbr></wbr>_MAP</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="basefunction">
  
  
  <a name="ganeti.hypervisor.hv_xen.WriteXenConfigEvents">
    
  </a>
  <a name="WriteXenConfigEvents">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">WriteXenConfigEvents</span>(config, hvp):
    
    <a class="headerLink" href="#WriteXenConfigEvents" title="ganeti.hypervisor.hv_xen.WriteXenConfigEvents">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseconstant">
  
  
  <a name="ganeti.hypervisor.hv_xen.VIF_BRIDGE_SCRIPT">
    
  </a>
  <a name="VIF_BRIDGE_SCRIPT">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">VIF_BRIDGE_SCRIPT</span> =
    
    <a class="headerLink" href="#VIF_BRIDGE_SCRIPT" title="ganeti.hypervisor.hv_xen.VIF_BRIDGE_SCRIPT">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><a href="ganeti.utils.io.html#PathJoin" class="internal-link" title="ganeti.utils.io.PathJoin">utils.PathJoin</a>(<wbr></wbr><a href="ganeti.pathutils.html#XEN_CONFIG_DIR" class="internal-link" title="ganeti.pathutils.XEN_CONFIG_DIR">pathutils.XEN_CONFIG_DIR</a>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">scripts/vif-bridge</span><span class="rst-variable-quote">'</span>)</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant">
  
  
  <a name="ganeti.hypervisor.hv_xen.XEN_COMMAND">
    
  </a>
  <a name="XEN_COMMAND">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">XEN_COMMAND</span>: <code>str</code> =
    
    <a class="headerLink" href="#XEN_COMMAND" title="ganeti.hypervisor.hv_xen.XEN_COMMAND">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">xl</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant">
  
  
  <a name="ganeti.hypervisor.hv_xen.XL_CONFIG_FILE">
    
  </a>
  <a name="XL_CONFIG_FILE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">XL_CONFIG_FILE</span> =
    
    <a class="headerLink" href="#XL_CONFIG_FILE" title="ganeti.hypervisor.hv_xen.XL_CONFIG_FILE">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><a href="ganeti.utils.io.html#PathJoin" class="internal-link" title="ganeti.utils.io.PathJoin">utils.PathJoin</a>(<wbr></wbr><a href="ganeti.pathutils.html#XEN_CONFIG_DIR" class="internal-link" title="ganeti.pathutils.XEN_CONFIG_DIR">pathutils.XEN_CONFIG_DIR</a>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">xen/xl.conf</span><span class="rst-variable-quote">'</span>)</code></pre></td></tr></table>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._ConfigureNIC">
    
  </a>
  <a name="_ConfigureNIC">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_ConfigureNIC</span>(instance, seq, nic, tap):
    
    <a class="headerLink" href="#_ConfigureNIC" title="ganeti.hypervisor.hv_xen._ConfigureNIC">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Run the network configuration script for a specified NIC</p>
<p>See <code><a href="ganeti.hypervisor.hv_base.html#ConfigureNIC" class="internal-link" title="ganeti.hypervisor.hv_base.ConfigureNIC">hv_base.ConfigureNIC</a></code>.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span>instance object</td><td class="fieldArgDesc">instance we're acting on</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">seq:</span>int</td><td class="fieldArgDesc">nic sequence number</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">nic:</span>nic object</td><td class="fieldArgDesc">nic we're acting on</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">tap:</span>str</td><td class="fieldArgDesc">the host's tap interface this NIC corresponds to</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._CreateConfigCpus">
    
  </a>
  <a name="_CreateConfigCpus">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CreateConfigCpus</span>(cpu_mask):
    
    <a class="headerLink" href="#_CreateConfigCpus" title="ganeti.hypervisor.hv_xen._CreateConfigCpus">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Create a CPU config string for Xen's config file.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._GetAllInstanceList">
    
  </a>
  <a name="_GetAllInstanceList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetAllInstanceList</span>(fn, include_node, delays, timeout):
    
    <a class="headerLink" href="#_GetAllInstanceList" title="ganeti.hypervisor.hv_xen._GetAllInstanceList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Return the list of instances including running and shutdown.</p>
<p>See <code><a href="#_RunInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._RunInstanceList">_RunInstanceList</a></code> and <code><a href="#_ParseInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseInstanceList">_ParseInstanceList</a></code> for parameter details.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._GetConfigFileDiskData">
    
  </a>
  <a name="_GetConfigFileDiskData">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetConfigFileDiskData</span>(block_devices, blockdev_prefix, _letters=_DISK_LETTERS):
    
    <a class="headerLink" href="#_GetConfigFileDiskData" title="ganeti.hypervisor.hv_xen._GetConfigFileDiskData">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Get disk directives for Xen config file.</p>
<p>This method builds the xen config disk directive according to the given disk_template and block_devices.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">block<wbr></wbr>_devices</span></td><td class="fieldArgDesc"><p>list of tuples (cfdev, rldev):</p>
<ul class="rst-simple">
<li>cfdev: dict containing ganeti config disk part</li>
<li>rldev: ganeti.block.bdev.BlockDev object</li>
</ul>
</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">blockdev<wbr></wbr>_prefix</span></td><td class="fieldArgDesc">a string containing blockdevice prefix, e.g. "sd" for /dev/sda</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_letters</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">string containing disk directive for xen instance config file</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._GetNodeInfo">
    
  </a>
  <a name="_GetNodeInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetNodeInfo</span>(info, instance_list):
    
    <a class="headerLink" href="#_GetNodeInfo" title="ganeti.hypervisor.hv_xen._GetNodeInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Combines <code><a href="#_MergeInstanceInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._MergeInstanceInfo">_MergeInstanceInfo</a></code> and <code><a href="#_ParseNodeInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseNodeInfo">_ParseNodeInfo</a></code>.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_list:</span>list of tuples</td><td class="fieldArgDesc">list of instance information; one tuple per instance</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._GetRunningInstanceList">
    
  </a>
  <a name="_GetRunningInstanceList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetRunningInstanceList</span>(fn, include_node, delays, timeout):
    
    <a class="headerLink" href="#_GetRunningInstanceList" title="ganeti.hypervisor.hv_xen._GetRunningInstanceList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Return the list of running instances.</p>
<p>See <code><a href="#_GetAllInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetAllInstanceList">_GetAllInstanceList</a></code> for parameter details.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._GetShutdownInstanceList">
    
  </a>
  <a name="_GetShutdownInstanceList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetShutdownInstanceList</span>(fn, include_node, delays, timeout):
    
    <a class="headerLink" href="#_GetShutdownInstanceList" title="ganeti.hypervisor.hv_xen._GetShutdownInstanceList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Return the list of shutdown instances.</p>
<p>See <code><a href="#_GetAllInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetAllInstanceList">_GetAllInstanceList</a></code> for parameter details.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._IgnorePaused">
    
  </a>
  <a name="_IgnorePaused">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_IgnorePaused</span>(instance_info):
    
    <a class="headerLink" href="#_IgnorePaused" title="ganeti.hypervisor.hv_xen._IgnorePaused">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Removes information about whether a Xen state is paused from the state.</p>
<p>As it turns out, an instance can be reported as paused in almost any condition. Paused instances can be paused, running instances can be paused for scheduling, and any other condition can appear to be paused as a result of races or improbable conditions in Xen's status reporting. As we do not use Xen's pause commands in any way at the time, we can simply ignore the paused field and save ourselves a lot of trouble.</p>
<p>Should we ever use the pause commands, several samples would be needed before we could confirm the domain as paused.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._InstanceDomID">
    
  </a>
  <a name="_InstanceDomID">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_InstanceDomID</span>(info):
    
    <a class="headerLink" href="#_InstanceDomID" title="ganeti.hypervisor.hv_xen._InstanceDomID">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Get instance domain ID from instance info tuple.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info:</span>tuple</td><td class="fieldArgDesc">instance info as parsed by _ParseInstanceList()</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">int, instance domain ID</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._InstanceRunning">
    
  </a>
  <a name="_InstanceRunning">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_InstanceRunning</span>(info):
    
    <a class="headerLink" href="#_InstanceRunning" title="ganeti.hypervisor.hv_xen._InstanceRunning">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Get instance runtime from instance info tuple.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info:</span>tuple</td><td class="fieldArgDesc">instance info as parsed by _ParseInstanceList()</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">bool</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._InstanceRuntime">
    
  </a>
  <a name="_InstanceRuntime">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_InstanceRuntime</span>(info):
    
    <a class="headerLink" href="#_InstanceRuntime" title="ganeti.hypervisor.hv_xen._InstanceRuntime">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Get instance runtime from instance info tuple.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info:</span>tuple</td><td class="fieldArgDesc">instance info as parsed by _ParseInstanceList()</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">float value of instance runtime</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._IsCrashed">
    
  </a>
  <a name="_IsCrashed">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_IsCrashed</span>(instance_info):
    
    <a class="headerLink" href="#_IsCrashed" title="ganeti.hypervisor.hv_xen._IsCrashed">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Returns whether an instance is in the crashed Xen state.</p>
<p>When a horrible misconfiguration happens to a Xen domain, it can crash, meaning that it encounters a violent ending. While this state usually flashes only temporarily before the domain is restarted, being able to check for it allows Ganeti not to act confused and do something about it.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._IsInstanceRunning">
    
  </a>
  <a name="_IsInstanceRunning">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_IsInstanceRunning</span>(instance_info):
    
    <a class="headerLink" href="#_IsInstanceRunning" title="ganeti.hypervisor.hv_xen._IsInstanceRunning">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Determine whether an instance is running.</p>
<p>An instance is running if it is in the following Xen states: running, blocked, paused, or dying (about to be destroyed / shutdown).</p>
<p>For some strange reason, Xen once printed 'rb----' which does not make any sense because an instance cannot be both running and blocked.  Fortunately, for Ganeti 'running' or 'blocked' is the same as 'running'.</p>
<p>A state of nothing '------' means that the domain is runnable but it is not currently running.  That means it is in the queue behind other domains waiting to be scheduled to run. http://old-list-archives.xenproject.org/xen-users/2007-06/msg00849.html</p>
<p>A dying instance is about to be removed, but it is still consuming resources, and counts as running.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_info:</span>string</td><td class="fieldArgDesc">Information about instance, as supplied by Xen.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">bool</td><td class="fieldArgDesc">Whether an instance is running.</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._IsInstanceShutdown">
    
  </a>
  <a name="_IsInstanceShutdown">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_IsInstanceShutdown</span>(instance_info):
    
    <a class="headerLink" href="#_IsInstanceShutdown" title="ganeti.hypervisor.hv_xen._IsInstanceShutdown">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Determine whether the instance is shutdown.</p>
<p>An instance is shutdown when a user shuts it down from within, and we do not remove domains to be able to detect that.</p>
<p>The dying state has been added as a precaution, as Xen's status reporting is weird.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._MergeInstanceInfo">
    
  </a>
  <a name="_MergeInstanceInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_MergeInstanceInfo</span>(info, instance_list):
    
    <a class="headerLink" href="#_MergeInstanceInfo" title="ganeti.hypervisor.hv_xen._MergeInstanceInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Updates node information from <code><a href="#_ParseNodeInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseNodeInfo">_ParseNodeInfo</a></code> with instance info.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info:</span>dict</td><td class="fieldArgDesc">Result from <code><a href="#_ParseNodeInfo" class="internal-link" title="ganeti.hypervisor.hv_xen._ParseNodeInfo">_ParseNodeInfo</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_list:</span>list of tuples</td><td class="fieldArgDesc">list of instance information; one tuple per instance</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._ParseInstanceList">
    
  </a>
  <a name="_ParseInstanceList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_ParseInstanceList</span>(lines, include_node):
    
    <a class="headerLink" href="#_ParseInstanceList" title="ganeti.hypervisor.hv_xen._ParseInstanceList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Parses the output of listing instances by xen.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lines:</span>list</td><td class="fieldArgDesc">Result of retrieving the instance list from xen</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">include<wbr></wbr>_node:</span>boolean</td><td class="fieldArgDesc">If True, return information for Dom0</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">list of tuple containing (name, id, memory, vcpus, state, time spent)</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._ParseNodeInfo">
    
  </a>
  <a name="_ParseNodeInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_ParseNodeInfo</span>(info):
    
    <a class="headerLink" href="#_ParseNodeInfo" title="ganeti.hypervisor.hv_xen._ParseNodeInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Return information about the node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2"><p>a dict with the following keys (memory values in MiB):</p>
<ul class="rst-simple">
<li>memory_total: the total memory size on the node</li>
<li>memory_free: the available memory on the node for instances</li>
<li>nr_cpus: total number of CPUs</li>
<li>nr_nodes: in a NUMA system, the number of domains</li>
<li>nr_sockets: the number of physical CPU sockets in the node</li>
<li>hv_version: the hypervisor version in the form (major, minor)</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._QuoteCpuidField">
    
  </a>
  <a name="_QuoteCpuidField">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_QuoteCpuidField</span>(data):
    
    <a class="headerLink" href="#_QuoteCpuidField" title="ganeti.hypervisor.hv_xen._QuoteCpuidField">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Add quotes around the CPUID field only if necessary.</p>
<p>Xen CPUID fields come in two shapes: LIBXL strings, which need quotes around them, and lists of XEND strings, which don't.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">data</span></td><td class="fieldArgDesc">Either type of parameter.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">The quoted version thereof.</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._RunInstanceList">
    
  </a>
  <a name="_RunInstanceList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_RunInstanceList</span>(fn, instance_list_errors):
    
    <a class="headerLink" href="#_RunInstanceList" title="ganeti.hypervisor.hv_xen._RunInstanceList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Helper function for <code><a href="#_GetAllInstanceList" class="internal-link" title="ganeti.hypervisor.hv_xen._GetAllInstanceList">_GetAllInstanceList</a></code> to retrieve the list of instances from xen.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fn:</span>callable</td><td class="fieldArgDesc">Function to query xen for the list of instances</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_list<wbr></wbr>_errors:</span>list</td><td class="fieldArgDesc">Error list</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.hypervisor.hv_xen._XenToHypervisorInstanceState">
    
  </a>
  <a name="_XenToHypervisorInstanceState">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_XenToHypervisorInstanceState</span>(instance_info):
    
    <a class="headerLink" href="#_XenToHypervisorInstanceState" title="ganeti.hypervisor.hv_xen._XenToHypervisorInstanceState">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Maps Xen states to hypervisor states.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_info:</span>string</td><td class="fieldArgDesc">Information about instance, as supplied by Xen.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.hypervisor.hv_base.HvInstanceState.html" class="internal-link" title="ganeti.hypervisor.hv_base.HvInstanceState">hv_base.HvInstanceState</a></code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.hypervisor.hv_xen._DOM0_NAME">
    
  </a>
  <a name="_DOM0_NAME">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_DOM0_NAME</span>: <code>str</code> =
    
    <a class="headerLink" href="#_DOM0_NAME" title="ganeti.hypervisor.hv_xen._DOM0_NAME">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">Domain-0</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.hypervisor.hv_xen._FILE_DRIVER_MAP">
    
  </a>
  <a name="_FILE_DRIVER_MAP">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_FILE_DRIVER_MAP</span> =
    
    <a class="headerLink" href="#_FILE_DRIVER_MAP" title="ganeti.hypervisor.hv_xen._FILE_DRIVER_MAP">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>{<wbr></wbr><a href="ganeti._constants.html#FD_LOOP" class="internal-link" title="ganeti._constants.FD_LOOP">constants.FD_LOOP</a>: <span class="rst-variable-quote">'</span><span class="rst-variable-string">file</span><span class="rst-variable-quote">'</span>,
 <wbr></wbr><a href="ganeti._constants.html#FD_BLKTAP" class="internal-link" title="ganeti._constants.FD_BLKTAP">constants.FD_BLKTAP</a>: <span class="rst-variable-quote">'</span><span class="rst-variable-string">tap:aio</span><span class="rst-variable-quote">'</span>,
 <wbr></wbr><a href="ganeti._constants.html#FD_BLKTAP2" class="internal-link" title="ganeti._constants.FD_BLKTAP2">constants.FD_BLKTAP2</a>: <span class="rst-variable-quote">'</span><span class="rst-variable-string">tap2:tapdisk:aio</span><span class="rst-variable-quote">'</span>}</code></pre></td></tr></table>
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for ganeti/server,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.9.1 at 2024-05-06 13:21:37.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>