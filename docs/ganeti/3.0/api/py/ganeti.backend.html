<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>ganeti.backend</title>
    <meta name="generator" content="pydoctor 22.9.1"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          ganeti/server <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Module</span>
        <code class="thisobject"><a href="ganeti.backend.html" class="internal-link" title="This module">backend</a></code> 
      </div>
      
      <div>
        

        
         

        <div class="childrenKindTitle">Classes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.backend.DevCacheManager.html" class="internal-link" title="ganeti.backend.DevCacheManager"><wbr></wbr>Dev<wbr></wbr>Cache<wbr></wbr>Manager</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.backend.HooksRunner.html" class="internal-link" title="ganeti.backend.HooksRunner"><wbr></wbr>Hooks<wbr></wbr>Runner</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.backend.IAllocatorRunner.html" class="internal-link" title="ganeti.backend.IAllocatorRunner"><wbr></wbr>IAllocator<wbr></wbr>Runner</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail"><wbr></wbr>RPCFail</a></code>
            </div>
        

    </li>
</ul>

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#AbortImportExport" class="internal-link" title="ganeti.backend.AbortImportExport"><wbr></wbr>Abort<wbr></wbr>Import<wbr></wbr>Export</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#AcceptInstance" class="internal-link" title="ganeti.backend.AcceptInstance"><wbr></wbr>Accept<wbr></wbr>Instance</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ActivateMasterIp" class="internal-link" title="ganeti.backend.ActivateMasterIp"><wbr></wbr>Activate<wbr></wbr>Master<wbr></wbr>Ip</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#AddNodeSshKey" class="internal-link" title="ganeti.backend.AddNodeSshKey"><wbr></wbr>Add<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#AddNodeSshKeyBulk" class="internal-link" title="ganeti.backend.AddNodeSshKeyBulk"><wbr></wbr>Add<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key<wbr></wbr>Bulk</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevAddchildren" class="internal-link" title="ganeti.backend.BlockdevAddchildren"><wbr></wbr>Blockdev<wbr></wbr>Addchildren</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevAssemble" class="internal-link" title="ganeti.backend.BlockdevAssemble"><wbr></wbr>Blockdev<wbr></wbr>Assemble</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevClose" class="internal-link" title="ganeti.backend.BlockdevClose"><wbr></wbr>Blockdev<wbr></wbr>Close</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevConvert" class="internal-link" title="ganeti.backend.BlockdevConvert"><wbr></wbr>Blockdev<wbr></wbr>Convert</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevCreate" class="internal-link" title="ganeti.backend.BlockdevCreate"><wbr></wbr>Blockdev<wbr></wbr>Create</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevFind" class="internal-link" title="ganeti.backend.BlockdevFind"><wbr></wbr>Blockdev<wbr></wbr>Find</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevGetdimensions" class="internal-link" title="ganeti.backend.BlockdevGetdimensions"><wbr></wbr>Blockdev<wbr></wbr>Getdimensions</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevGetmirrorstatus" class="internal-link" title="ganeti.backend.BlockdevGetmirrorstatus"><wbr></wbr>Blockdev<wbr></wbr>Getmirrorstatus</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevGetmirrorstatusMulti" class="internal-link" title="ganeti.backend.BlockdevGetmirrorstatusMulti"><wbr></wbr>Blockdev<wbr></wbr>Getmirrorstatus<wbr></wbr>Multi</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevGrow" class="internal-link" title="ganeti.backend.BlockdevGrow"><wbr></wbr>Blockdev<wbr></wbr>Grow</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevImage" class="internal-link" title="ganeti.backend.BlockdevImage"><wbr></wbr>Blockdev<wbr></wbr>Image</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevOpen" class="internal-link" title="ganeti.backend.BlockdevOpen"><wbr></wbr>Blockdev<wbr></wbr>Open</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevPauseResumeSync" class="internal-link" title="ganeti.backend.BlockdevPauseResumeSync"><wbr></wbr>Blockdev<wbr></wbr>Pause<wbr></wbr>Resume<wbr></wbr>Sync</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevRemove" class="internal-link" title="ganeti.backend.BlockdevRemove"><wbr></wbr>Blockdev<wbr></wbr>Remove</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevRemovechildren" class="internal-link" title="ganeti.backend.BlockdevRemovechildren"><wbr></wbr>Blockdev<wbr></wbr>Removechildren</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevRename" class="internal-link" title="ganeti.backend.BlockdevRename"><wbr></wbr>Blockdev<wbr></wbr>Rename</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevSetInfo" class="internal-link" title="ganeti.backend.BlockdevSetInfo"><wbr></wbr>Blockdev<wbr></wbr>Set<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevShutdown" class="internal-link" title="ganeti.backend.BlockdevShutdown"><wbr></wbr>Blockdev<wbr></wbr>Shutdown</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevSnapshot" class="internal-link" title="ganeti.backend.BlockdevSnapshot"><wbr></wbr>Blockdev<wbr></wbr>Snapshot</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BlockdevWipe" class="internal-link" title="ganeti.backend.BlockdevWipe"><wbr></wbr>Blockdev<wbr></wbr>Wipe</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#BridgesExist" class="internal-link" title="ganeti.backend.BridgesExist"><wbr></wbr>Bridges<wbr></wbr>Exist</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ChangeMasterNetmask" class="internal-link" title="ganeti.backend.ChangeMasterNetmask"><wbr></wbr>Change<wbr></wbr>Master<wbr></wbr>Netmask</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CleanupImportExport" class="internal-link" title="ganeti.backend.CleanupImportExport"><wbr></wbr>Cleanup<wbr></wbr>Import<wbr></wbr>Export</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ConfigureOVS" class="internal-link" title="ganeti.backend.ConfigureOVS"><wbr></wbr>Configure<wbr></wbr>OVS</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CreateFileStorageDir" class="internal-link" title="ganeti.backend.CreateFileStorageDir"><wbr></wbr>Create<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Dir</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#CreateX509Certificate" class="internal-link" title="ganeti.backend.CreateX509Certificate"><wbr></wbr>Create<wbr></wbr>X509<wbr></wbr>Certificate</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#DeactivateMasterIp" class="internal-link" title="ganeti.backend.DeactivateMasterIp"><wbr></wbr>Deactivate<wbr></wbr>Master<wbr></wbr>Ip</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#DemoteFromMC" class="internal-link" title="ganeti.backend.DemoteFromMC"><wbr></wbr>Demote<wbr></wbr>From<wbr></wbr>MC</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#DiagnoseExtStorage" class="internal-link" title="ganeti.backend.DiagnoseExtStorage"><wbr></wbr>Diagnose<wbr></wbr>Ext<wbr></wbr>Storage</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#DiagnoseOS" class="internal-link" title="ganeti.backend.DiagnoseOS"><wbr></wbr>Diagnose<wbr></wbr>OS</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#DrbdAttachNet" class="internal-link" title="ganeti.backend.DrbdAttachNet"><wbr></wbr>Drbd<wbr></wbr>Attach<wbr></wbr>Net</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#DrbdDisconnectNet" class="internal-link" title="ganeti.backend.DrbdDisconnectNet"><wbr></wbr>Drbd<wbr></wbr>Disconnect<wbr></wbr>Net</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#DrbdNeedsActivation" class="internal-link" title="ganeti.backend.DrbdNeedsActivation"><wbr></wbr>Drbd<wbr></wbr>Needs<wbr></wbr>Activation</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#DrbdWaitSync" class="internal-link" title="ganeti.backend.DrbdWaitSync"><wbr></wbr>Drbd<wbr></wbr>Wait<wbr></wbr>Sync</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#EnsureDaemon" class="internal-link" title="ganeti.backend.EnsureDaemon"><wbr></wbr>Ensure<wbr></wbr>Daemon</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#EtcHostsModify" class="internal-link" title="ganeti.backend.EtcHostsModify"><wbr></wbr>Etc<wbr></wbr>Hosts<wbr></wbr>Modify</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ExportInfo" class="internal-link" title="ganeti.backend.ExportInfo"><wbr></wbr>Export<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ExportOS" class="internal-link" title="ganeti.backend.ExportOS"><wbr></wbr>Export<wbr></wbr>OS</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#FinalizeExport" class="internal-link" title="ganeti.backend.FinalizeExport"><wbr></wbr>Finalize<wbr></wbr>Export</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#FinalizeMigrationDst" class="internal-link" title="ganeti.backend.FinalizeMigrationDst"><wbr></wbr>Finalize<wbr></wbr>Migration<wbr></wbr>Dst</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#FinalizeMigrationSource" class="internal-link" title="ganeti.backend.FinalizeMigrationSource"><wbr></wbr>Finalize<wbr></wbr>Migration<wbr></wbr>Source</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetAllInstancesInfo" class="internal-link" title="ganeti.backend.GetAllInstancesInfo"><wbr></wbr>Get<wbr></wbr>All<wbr></wbr>Instances<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetBlockDevSizes" class="internal-link" title="ganeti.backend.GetBlockDevSizes"><wbr></wbr>Get<wbr></wbr>Block<wbr></wbr>Dev<wbr></wbr>Sizes</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetCryptoTokens" class="internal-link" title="ganeti.backend.GetCryptoTokens"><wbr></wbr>Get<wbr></wbr>Crypto<wbr></wbr>Tokens</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetDrbdUsermodeHelper" class="internal-link" title="ganeti.backend.GetDrbdUsermodeHelper"><wbr></wbr>Get<wbr></wbr>Drbd<wbr></wbr>Usermode<wbr></wbr>Helper</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetFileInfo" class="internal-link" title="ganeti.backend.GetFileInfo"><wbr></wbr>Get<wbr></wbr>File<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetImportExportStatus" class="internal-link" title="ganeti.backend.GetImportExportStatus"><wbr></wbr>Get<wbr></wbr>Import<wbr></wbr>Export<wbr></wbr>Status</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetInstanceConsoleInfo" class="internal-link" title="ganeti.backend.GetInstanceConsoleInfo"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Console<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetInstanceInfo" class="internal-link" title="ganeti.backend.GetInstanceInfo"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetInstanceList" class="internal-link" title="ganeti.backend.GetInstanceList"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetInstanceListForHypervisor" class="internal-link" title="ganeti.backend.GetInstanceListForHypervisor"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>List<wbr></wbr>For<wbr></wbr>Hypervisor</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetInstanceMigratable" class="internal-link" title="ganeti.backend.GetInstanceMigratable"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Migratable</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetMasterNodeName" class="internal-link" title="ganeti.backend.GetMasterNodeName"><wbr></wbr>Get<wbr></wbr>Master<wbr></wbr>Node<wbr></wbr>Name</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetMigrationStatus" class="internal-link" title="ganeti.backend.GetMigrationStatus"><wbr></wbr>Get<wbr></wbr>Migration<wbr></wbr>Status</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetNodeInfo" class="internal-link" title="ganeti.backend.GetNodeInfo"><wbr></wbr>Get<wbr></wbr>Node<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#GetVolumeList" class="internal-link" title="ganeti.backend.GetVolumeList"><wbr></wbr>Get<wbr></wbr>Volume<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#HotplugDevice" class="internal-link" title="ganeti.backend.HotplugDevice"><wbr></wbr>Hotplug<wbr></wbr>Device</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#HotplugSupported" class="internal-link" title="ganeti.backend.HotplugSupported"><wbr></wbr>Hotplug<wbr></wbr>Supported</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#InstanceBalloonMemory" class="internal-link" title="ganeti.backend.InstanceBalloonMemory"><wbr></wbr>Instance<wbr></wbr>Balloon<wbr></wbr>Memory</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#InstanceOsAdd" class="internal-link" title="ganeti.backend.InstanceOsAdd"><wbr></wbr>Instance<wbr></wbr>Os<wbr></wbr>Add</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#InstanceReboot" class="internal-link" title="ganeti.backend.InstanceReboot"><wbr></wbr>Instance<wbr></wbr>Reboot</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#InstanceShutdown" class="internal-link" title="ganeti.backend.InstanceShutdown"><wbr></wbr>Instance<wbr></wbr>Shutdown</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#JobQueuePurge" class="internal-link" title="ganeti.backend.JobQueuePurge"><wbr></wbr>Job<wbr></wbr>Queue<wbr></wbr>Purge</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#JobQueueRename" class="internal-link" title="ganeti.backend.JobQueueRename"><wbr></wbr>Job<wbr></wbr>Queue<wbr></wbr>Rename</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#JobQueueUpdate" class="internal-link" title="ganeti.backend.JobQueueUpdate"><wbr></wbr>Job<wbr></wbr>Queue<wbr></wbr>Update</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#LeaveCluster" class="internal-link" title="ganeti.backend.LeaveCluster"><wbr></wbr>Leave<wbr></wbr>Cluster</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ListExports" class="internal-link" title="ganeti.backend.ListExports"><wbr></wbr>List<wbr></wbr>Exports</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ListVolumeGroups" class="internal-link" title="ganeti.backend.ListVolumeGroups"><wbr></wbr>List<wbr></wbr>Volume<wbr></wbr>Groups</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#MigrateInstance" class="internal-link" title="ganeti.backend.MigrateInstance"><wbr></wbr>Migrate<wbr></wbr>Instance</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#MigrationInfo" class="internal-link" title="ganeti.backend.MigrationInfo"><wbr></wbr>Migration<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ModifyInstanceMetadata" class="internal-link" title="ganeti.backend.ModifyInstanceMetadata"><wbr></wbr>Modify<wbr></wbr>Instance<wbr></wbr>Metadata</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#NodeVolumes" class="internal-link" title="ganeti.backend.NodeVolumes"><wbr></wbr>Node<wbr></wbr>Volumes</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#OSCoreEnv" class="internal-link" title="ganeti.backend.OSCoreEnv"><wbr></wbr>OSCore<wbr></wbr>Env</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#OSEnvironment" class="internal-link" title="ganeti.backend.OSEnvironment"><wbr></wbr>OSEnvironment</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#OSFromDisk" class="internal-link" title="ganeti.backend.OSFromDisk"><wbr></wbr>OSFrom<wbr></wbr>Disk</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#PowercycleNode" class="internal-link" title="ganeti.backend.PowercycleNode"><wbr></wbr>Powercycle<wbr></wbr>Node</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RemoveExport" class="internal-link" title="ganeti.backend.RemoveExport"><wbr></wbr>Remove<wbr></wbr>Export</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RemoveFileStorageDir" class="internal-link" title="ganeti.backend.RemoveFileStorageDir"><wbr></wbr>Remove<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Dir</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RemoveNodeSshKey" class="internal-link" title="ganeti.backend.RemoveNodeSshKey"><wbr></wbr>Remove<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RemoveNodeSshKeyBulk" class="internal-link" title="ganeti.backend.RemoveNodeSshKeyBulk"><wbr></wbr>Remove<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key<wbr></wbr>Bulk</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RemoveX509Certificate" class="internal-link" title="ganeti.backend.RemoveX509Certificate"><wbr></wbr>Remove<wbr></wbr>X509<wbr></wbr>Certificate</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RenameFileStorageDir" class="internal-link" title="ganeti.backend.RenameFileStorageDir"><wbr></wbr>Rename<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Dir</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RenewSshKeys" class="internal-link" title="ganeti.backend.RenewSshKeys"><wbr></wbr>Renew<wbr></wbr>Ssh<wbr></wbr>Keys</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RunLocalHooks" class="internal-link" title="ganeti.backend.RunLocalHooks"><wbr></wbr>Run<wbr></wbr>Local<wbr></wbr>Hooks</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RunOob" class="internal-link" title="ganeti.backend.RunOob"><wbr></wbr>Run<wbr></wbr>Oob</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RunRenameInstance" class="internal-link" title="ganeti.backend.RunRenameInstance"><wbr></wbr>Run<wbr></wbr>Rename<wbr></wbr>Instance</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#RunRestrictedCmd" class="internal-link" title="ganeti.backend.RunRestrictedCmd"><wbr></wbr>Run<wbr></wbr>Restricted<wbr></wbr>Cmd</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#SetWatcherPause" class="internal-link" title="ganeti.backend.SetWatcherPause"><wbr></wbr>Set<wbr></wbr>Watcher<wbr></wbr>Pause</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#StartImportExportDaemon" class="internal-link" title="ganeti.backend.StartImportExportDaemon"><wbr></wbr>Start<wbr></wbr>Import<wbr></wbr>Export<wbr></wbr>Daemon</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#StartInstance" class="internal-link" title="ganeti.backend.StartInstance"><wbr></wbr>Start<wbr></wbr>Instance</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#StartMasterDaemons" class="internal-link" title="ganeti.backend.StartMasterDaemons"><wbr></wbr>Start<wbr></wbr>Master<wbr></wbr>Daemons</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#StopMasterDaemons" class="internal-link" title="ganeti.backend.StopMasterDaemons"><wbr></wbr>Stop<wbr></wbr>Master<wbr></wbr>Daemons</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#UploadFile" class="internal-link" title="ganeti.backend.UploadFile"><wbr></wbr>Upload<wbr></wbr>File</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ValidateHVParams" class="internal-link" title="ganeti.backend.ValidateHVParams"><wbr></wbr>Validate<wbr></wbr>HVParams</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ValidateOS" class="internal-link" title="ganeti.backend.ValidateOS"><wbr></wbr>Validate<wbr></wbr>OS</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#VerifyMasterIP" class="internal-link" title="ganeti.backend.VerifyMasterIP"><wbr></wbr>Verify<wbr></wbr>Master<wbr></wbr>IP</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#VerifyNode" class="internal-link" title="ganeti.backend.VerifyNode"><wbr></wbr>Verify<wbr></wbr>Node</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#VerifyNodeNetTest" class="internal-link" title="ganeti.backend.VerifyNodeNetTest"><wbr></wbr>Verify<wbr></wbr>Node<wbr></wbr>Net<wbr></wbr>Test</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_ApplyStorageInfoFunction" class="internal-link" title="ganeti.backend._ApplyStorageInfoFunction">_<wbr></wbr>Apply<wbr></wbr>Storage<wbr></wbr>Info<wbr></wbr>Function</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_BuildMasterIpEnv" class="internal-link" title="ganeti.backend._BuildMasterIpEnv">_<wbr></wbr>Build<wbr></wbr>Master<wbr></wbr>Ip<wbr></wbr>Env</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_BuildUploadFileList" class="internal-link" title="ganeti.backend._BuildUploadFileList">_<wbr></wbr>Build<wbr></wbr>Upload<wbr></wbr>File<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CalculateDeviceURI" class="internal-link" title="ganeti.backend._CalculateDeviceURI">_<wbr></wbr>Calculate<wbr></wbr>Device<wbr></wbr>URI</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CheckExclusivePvs" class="internal-link" title="ganeti.backend._CheckExclusivePvs">_<wbr></wbr>Check<wbr></wbr>Exclusive<wbr></wbr>Pvs</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CheckForPlainDisk" class="internal-link" title="ganeti.backend._CheckForPlainDisk">_<wbr></wbr>Check<wbr></wbr>For<wbr></wbr>Plain<wbr></wbr>Disk</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CheckLvmStorageParams" class="internal-link" title="ganeti.backend._CheckLvmStorageParams">_<wbr></wbr>Check<wbr></wbr>Lvm<wbr></wbr>Storage<wbr></wbr>Params</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CheckOSPList" class="internal-link" title="ganeti.backend._CheckOSPList">_<wbr></wbr>Check<wbr></wbr>OSPList</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CheckOSVariant" class="internal-link" title="ganeti.backend._CheckOSVariant">_<wbr></wbr>Check<wbr></wbr>OSVariant</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CheckStorageParams" class="internal-link" title="ganeti.backend._CheckStorageParams">_<wbr></wbr>Check<wbr></wbr>Storage<wbr></wbr>Params</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CleanDirectory" class="internal-link" title="ganeti.backend._CleanDirectory">_<wbr></wbr>Clean<wbr></wbr>Directory</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CommonRestrictedCmdCheck" class="internal-link" title="ganeti.backend._CommonRestrictedCmdCheck">_<wbr></wbr>Common<wbr></wbr>Restricted<wbr></wbr>Cmd<wbr></wbr>Check</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_CreateImportExportStatusDir" class="internal-link" title="ganeti.backend._CreateImportExportStatusDir">_<wbr></wbr>Create<wbr></wbr>Import<wbr></wbr>Export<wbr></wbr>Status<wbr></wbr>Dir</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_Decompress" class="internal-link" title="ganeti.backend._Decompress">_<wbr></wbr>Decompress</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_DownloadAndDumpDevice" class="internal-link" title="ganeti.backend._DownloadAndDumpDevice">_<wbr></wbr>Download<wbr></wbr>And<wbr></wbr>Dump<wbr></wbr>Device</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_DumpDevice" class="internal-link" title="ganeti.backend._DumpDevice">_<wbr></wbr>Dump<wbr></wbr>Device</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_EnsureJobQueueFile" class="internal-link" title="ganeti.backend._EnsureJobQueueFile">_<wbr></wbr>Ensure<wbr></wbr>Job<wbr></wbr>Queue<wbr></wbr>File</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_Fail" class="internal-link" title="ganeti.backend._Fail">_<wbr></wbr>Fail</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_FindDisks" class="internal-link" title="ganeti.backend._FindDisks">_<wbr></wbr>Find<wbr></wbr>Disks</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GatherAndLinkBlockDevs" class="internal-link" title="ganeti.backend._GatherAndLinkBlockDevs">_<wbr></wbr>Gather<wbr></wbr>And<wbr></wbr>Link<wbr></wbr>Block<wbr></wbr>Devs</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GenerateNodeSshKey" class="internal-link" title="ganeti.backend._GenerateNodeSshKey">_<wbr></wbr>Generate<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetBlockDevSymlinkPath" class="internal-link" title="ganeti.backend._GetBlockDevSymlinkPath">_<wbr></wbr>Get<wbr></wbr>Block<wbr></wbr>Dev<wbr></wbr>Symlink<wbr></wbr>Path</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetConfig" class="internal-link" title="ganeti.backend._GetConfig">_<wbr></wbr>Get<wbr></wbr>Config</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetFileStorageSpaceInfo" class="internal-link" title="ganeti.backend._GetFileStorageSpaceInfo">_<wbr></wbr>Get<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Space<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetHvInfo" class="internal-link" title="ganeti.backend._GetHvInfo">_<wbr></wbr>Get<wbr></wbr>Hv<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetHvInfoAll" class="internal-link" title="ganeti.backend._GetHvInfoAll">_<wbr></wbr>Get<wbr></wbr>Hv<wbr></wbr>Info<wbr></wbr>All</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetImportExportIoCommand" class="internal-link" title="ganeti.backend._GetImportExportIoCommand">_<wbr></wbr>Get<wbr></wbr>Import<wbr></wbr>Export<wbr></wbr>Io<wbr></wbr>Command</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetInstanceInfo" class="internal-link" title="ganeti.backend._GetInstanceInfo">_<wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetInstReasonFilename" class="internal-link" title="ganeti.backend._GetInstReasonFilename">_<wbr></wbr>Get<wbr></wbr>Inst<wbr></wbr>Reason<wbr></wbr>Filename</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetLvmPvSpaceInfo" class="internal-link" title="ganeti.backend._GetLvmPvSpaceInfo">_<wbr></wbr>Get<wbr></wbr>Lvm<wbr></wbr>Pv<wbr></wbr>Space<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetLvmVgSpaceInfo" class="internal-link" title="ganeti.backend._GetLvmVgSpaceInfo">_<wbr></wbr>Get<wbr></wbr>Lvm<wbr></wbr>Vg<wbr></wbr>Space<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetMasterNodeUUID" class="internal-link" title="ganeti.backend._GetMasterNodeUUID">_<wbr></wbr>Get<wbr></wbr>Master<wbr></wbr>Node<wbr></wbr>UUID</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetNamedNodeInfo" class="internal-link" title="ganeti.backend._GetNamedNodeInfo">_<wbr></wbr>Get<wbr></wbr>Named<wbr></wbr>Node<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetNewMasterKey" class="internal-link" title="ganeti.backend._GetNewMasterKey">_<wbr></wbr>Get<wbr></wbr>New<wbr></wbr>Master<wbr></wbr>Key</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetOldMasterKeys" class="internal-link" title="ganeti.backend._GetOldMasterKeys">_<wbr></wbr>Get<wbr></wbr>Old<wbr></wbr>Master<wbr></wbr>Keys</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetSshRunner" class="internal-link" title="ganeti.backend._GetSshRunner">_<wbr></wbr>Get<wbr></wbr>Ssh<wbr></wbr>Runner</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetVgInfo" class="internal-link" title="ganeti.backend._GetVgInfo">_<wbr></wbr>Get<wbr></wbr>Vg<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetVgSpindlesInfo" class="internal-link" title="ganeti.backend._GetVgSpindlesInfo">_<wbr></wbr>Get<wbr></wbr>Vg<wbr></wbr>Spindles<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_GetX509Filenames" class="internal-link" title="ganeti.backend._GetX509Filenames">_<wbr></wbr>Get<wbr></wbr>X509<wbr></wbr>Filenames</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_InitSshUpdateData" class="internal-link" title="ganeti.backend._InitSshUpdateData">_<wbr></wbr>Init<wbr></wbr>Ssh<wbr></wbr>Update<wbr></wbr>Data</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_InstanceLogName" class="internal-link" title="ganeti.backend._InstanceLogName">_<wbr></wbr>Instance<wbr></wbr>Log<wbr></wbr>Name</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_IsInstanceUserDown" class="internal-link" title="ganeti.backend._IsInstanceUserDown">_<wbr></wbr>Is<wbr></wbr>Instance<wbr></wbr>User<wbr></wbr>Down</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_OpenRealBD" class="internal-link" title="ganeti.backend._OpenRealBD">_<wbr></wbr>Open<wbr></wbr>Real<wbr></wbr>BD</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_OSOndiskAPIVersion" class="internal-link" title="ganeti.backend._OSOndiskAPIVersion">_<wbr></wbr>OSOndisk<wbr></wbr>APIVersion</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_PrepareRestrictedCmd" class="internal-link" title="ganeti.backend._PrepareRestrictedCmd">_<wbr></wbr>Prepare<wbr></wbr>Restricted<wbr></wbr>Cmd</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_RecursiveAssembleBD" class="internal-link" title="ganeti.backend._RecursiveAssembleBD">_<wbr></wbr>Recursive<wbr></wbr>Assemble<wbr></wbr>BD</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_RecursiveFindBD" class="internal-link" title="ganeti.backend._RecursiveFindBD">_<wbr></wbr>Recursive<wbr></wbr>Find<wbr></wbr>BD</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_RemoveBlockDevLinks" class="internal-link" title="ganeti.backend._RemoveBlockDevLinks">_<wbr></wbr>Remove<wbr></wbr>Block<wbr></wbr>Dev<wbr></wbr>Links</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_ReplaceMasterKeyOnMaster" class="internal-link" title="ganeti.backend._ReplaceMasterKeyOnMaster">_<wbr></wbr>Replace<wbr></wbr>Master<wbr></wbr>Key<wbr></wbr>On<wbr></wbr>Master</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_RunMasterSetupScript" class="internal-link" title="ganeti.backend._RunMasterSetupScript">_<wbr></wbr>Run<wbr></wbr>Master<wbr></wbr>Setup<wbr></wbr>Script</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_StoreInstReasonTrail" class="internal-link" title="ganeti.backend._StoreInstReasonTrail">_<wbr></wbr>Store<wbr></wbr>Inst<wbr></wbr>Reason<wbr></wbr>Trail</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_SymlinkBlockDev" class="internal-link" title="ganeti.backend._SymlinkBlockDev">_<wbr></wbr>Symlink<wbr></wbr>Block<wbr></wbr>Dev</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_TransformFileStorageDir" class="internal-link" title="ganeti.backend._TransformFileStorageDir">_<wbr></wbr>Transform<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Dir</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_TryOSFromDisk" class="internal-link" title="ganeti.backend._TryOSFromDisk">_<wbr></wbr>Try<wbr></wbr>OSFrom<wbr></wbr>Disk</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifyClientCertificate" class="internal-link" title="ganeti.backend._VerifyClientCertificate">_<wbr></wbr>Verify<wbr></wbr>Client<wbr></wbr>Certificate</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifyHvparams" class="internal-link" title="ganeti.backend._VerifyHvparams">_<wbr></wbr>Verify<wbr></wbr>Hvparams</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifyHypervisors" class="internal-link" title="ganeti.backend._VerifyHypervisors">_<wbr></wbr>Verify<wbr></wbr>Hypervisors</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifyInstanceList" class="internal-link" title="ganeti.backend._VerifyInstanceList">_<wbr></wbr>Verify<wbr></wbr>Instance<wbr></wbr>List</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifyNodeInfo" class="internal-link" title="ganeti.backend._VerifyNodeInfo">_<wbr></wbr>Verify<wbr></wbr>Node<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifyRestrictedCmd" class="internal-link" title="ganeti.backend._VerifyRestrictedCmd">_<wbr></wbr>Verify<wbr></wbr>Restricted<wbr></wbr>Cmd</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifyRestrictedCmdDirectory" class="internal-link" title="ganeti.backend._VerifyRestrictedCmdDirectory">_<wbr></wbr>Verify<wbr></wbr>Restricted<wbr></wbr>Cmd<wbr></wbr>Directory</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifyRestrictedCmdName" class="internal-link" title="ganeti.backend._VerifyRestrictedCmdName">_<wbr></wbr>Verify<wbr></wbr>Restricted<wbr></wbr>Cmd<wbr></wbr>Name</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifySshClutter" class="internal-link" title="ganeti.backend._VerifySshClutter">_<wbr></wbr>Verify<wbr></wbr>Ssh<wbr></wbr>Clutter</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_VerifySshSetup" class="internal-link" title="ganeti.backend._VerifySshSetup">_<wbr></wbr>Verify<wbr></wbr>Ssh<wbr></wbr>Setup</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#SshAddNodeInfo" class="internal-link" title="ganeti.backend.SshAddNodeInfo"><wbr></wbr>Ssh<wbr></wbr>Add<wbr></wbr>Node<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#SshRemoveNodeInfo" class="internal-link" title="ganeti.backend.SshRemoveNodeInfo"><wbr></wbr>Ssh<wbr></wbr>Remove<wbr></wbr>Node<wbr></wbr>Info</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_ALLOWED_CLEAN_DIRS" class="internal-link" title="ganeti.backend._ALLOWED_CLEAN_DIRS">_ALLOWED<wbr></wbr>_CLEAN<wbr></wbr>_DIRS</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_ALLOWED_UPLOAD_FILES" class="internal-link" title="ganeti.backend._ALLOWED_UPLOAD_FILES">_ALLOWED<wbr></wbr>_UPLOAD<wbr></wbr>_FILES</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_BOOT_ID_PATH" class="internal-link" title="ganeti.backend._BOOT_ID_PATH">_BOOT<wbr></wbr>_ID<wbr></wbr>_PATH</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_IES_CA_FILE" class="internal-link" title="ganeti.backend._IES_CA_FILE">_IES<wbr></wbr>_CA<wbr></wbr>_FILE</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_IES_PID_FILE" class="internal-link" title="ganeti.backend._IES_PID_FILE">_IES<wbr></wbr>_PID<wbr></wbr>_FILE</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_IES_STATUS_FILE" class="internal-link" title="ganeti.backend._IES_STATUS_FILE">_IES<wbr></wbr>_STATUS<wbr></wbr>_FILE</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_LVSLINE_REGEX" class="internal-link" title="ganeti.backend._LVSLINE_REGEX">_LVSLINE<wbr></wbr>_REGEX</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_MASTER_START" class="internal-link" title="ganeti.backend._MASTER_START">_MASTER<wbr></wbr>_START</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_MASTER_STOP" class="internal-link" title="ganeti.backend._MASTER_STOP">_MASTER<wbr></wbr>_STOP</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_MAX_SSL_CERT_VALIDITY" class="internal-link" title="ganeti.backend._MAX_SSL_CERT_VALIDITY">_MAX<wbr></wbr>_SSL<wbr></wbr>_CERT<wbr></wbr>_VALIDITY</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_RCMD_INVALID_DELAY" class="internal-link" title="ganeti.backend._RCMD_INVALID_DELAY">_RCMD<wbr></wbr>_INVALID<wbr></wbr>_DELAY</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_RCMD_LOCK_TIMEOUT" class="internal-link" title="ganeti.backend._RCMD_LOCK_TIMEOUT">_RCMD<wbr></wbr>_LOCK<wbr></wbr>_TIMEOUT</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_RCMD_MAX_MODE" class="internal-link" title="ganeti.backend._RCMD_MAX_MODE">_RCMD<wbr></wbr>_MAX<wbr></wbr>_MODE</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_STORAGE_TYPE_INFO_FN" class="internal-link" title="ganeti.backend._STORAGE_TYPE_INFO_FN">_STORAGE<wbr></wbr>_TYPE<wbr></wbr>_INFO<wbr></wbr>_FN</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_X509_CERT_FILE" class="internal-link" title="ganeti.backend._X509_CERT_FILE">_X509<wbr></wbr>_CERT<wbr></wbr>_FILE</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_X509_KEY_FILE" class="internal-link" title="ganeti.backend._X509_KEY_FILE">_X509<wbr></wbr>_KEY<wbr></wbr>_FILE</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Package</span>
        <code><a href="ganeti.html" class="internal-link" title="The parent of this module">ganeti</a></code> 
      </div>
      
      <div>
        

        <div class="childrenKindTitle">Modules</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.build.html" class="internal-link" title="ganeti.build">build</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.client.html" class="internal-link" title="ganeti.client">client</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cmdlib.html" class="internal-link" title="ganeti.cmdlib">cmdlib</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.confd.html" class="internal-link" title="ganeti.confd">confd</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.config.html" class="internal-link" title="ganeti.config">config</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.http.html" class="internal-link" title="ganeti.http">http</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hypervisor.html" class="internal-link" title="ganeti.hypervisor">hypervisor</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.impexpd.html" class="internal-link" title="ganeti.impexpd">impexpd</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.jqueue.html" class="internal-link" title="ganeti.jqueue">jqueue</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.masterd.html" class="internal-link" title="ganeti.masterd">masterd</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.rapi.html" class="internal-link" title="ganeti.rapi">rapi</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.rpc.html" class="internal-link" title="ganeti.rpc">rpc</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.server.html" class="internal-link" title="ganeti.server">server</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.storage.html" class="internal-link" title="ganeti.storage">storage</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.tools.html" class="internal-link" title="ganeti.tools">tools</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.utils.html" class="internal-link" title="ganeti.utils">utils</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.watcher.html" class="internal-link" title="ganeti.watcher">watcher</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.asyncnotifier.html" class="internal-link" title="ganeti.asyncnotifier">asyncnotifier</a></code>
            </div>
        

    </li><li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.backend.html" class="internal-link" title="ganeti.backend">backend</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.bootstrap.html" class="internal-link" title="ganeti.bootstrap">bootstrap</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cli.html" class="internal-link" title="ganeti.cli">cli</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.cli_opts.html" class="internal-link" title="ganeti.cli_opts">cli<wbr></wbr>_opts</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.compat.html" class="internal-link" title="ganeti.compat">compat</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.constants.html" class="internal-link" title="ganeti.constants">constants</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.daemon.html" class="internal-link" title="ganeti.daemon">daemon</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.errors.html" class="internal-link" title="ganeti.errors">errors</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.hooksmaster.html" class="internal-link" title="ganeti.hooksmaster">hooksmaster</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.ht.html" class="internal-link" title="ganeti.ht">ht</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.jstore.html" class="internal-link" title="ganeti.jstore">jstore</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.locking.html" class="internal-link" title="ganeti.locking">locking</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.luxi.html" class="internal-link" title="ganeti.luxi">luxi</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.mcpu.html" class="internal-link" title="ganeti.mcpu">mcpu</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.metad.html" class="internal-link" title="ganeti.metad">metad</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.netutils.html" class="internal-link" title="ganeti.netutils">netutils</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.network.html" class="internal-link" title="ganeti.network">network</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.objects.html" class="internal-link" title="ganeti.objects">objects</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.opcodes.html" class="internal-link" title="ganeti.opcodes">opcodes</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.opcodes_base.html" class="internal-link" title="ganeti.opcodes_base">opcodes<wbr></wbr>_base</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.outils.html" class="internal-link" title="ganeti.outils">outils</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.ovf.html" class="internal-link" title="ganeti.ovf">ovf</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.pathutils.html" class="internal-link" title="ganeti.pathutils">pathutils</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.qlang.html" class="internal-link" title="ganeti.qlang">qlang</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.query.html" class="internal-link" title="ganeti.query">query</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.rpc_defs.html" class="internal-link" title="ganeti.rpc_defs">rpc<wbr></wbr>_defs</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.runtime.html" class="internal-link" title="ganeti.runtime">runtime</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.serializer.html" class="internal-link" title="ganeti.serializer">serializer</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.ssconf.html" class="internal-link" title="ganeti.ssconf">ssconf</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.ssh.html" class="internal-link" title="ganeti.ssh">ssh</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.uidpool.html" class="internal-link" title="ganeti.uidpool">uidpool</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.vcluster.html" class="internal-link" title="ganeti.vcluster">vcluster</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.wconfd.html" class="internal-link" title="ganeti.wconfd">wconfd</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="ganeti.workerpool.html" class="internal-link" title="ganeti.workerpool">workerpool</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="ganeti._constants.html" class="internal-link" title="ganeti._constants">_constants</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="ganeti._generated_rpc.html" class="internal-link" title="ganeti._generated_rpc">_generated<wbr></wbr>_rpc</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="ganeti._vcsversion.html" class="internal-link" title="ganeti._vcsversion">_vcsversion</a></code>
            </div>
        

    </li>
</ul> 

        
        

        
         

        
         

        
         

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="module"><code><code><a href="ganeti.html" class="internal-link">ganeti</a></code><wbr></wbr>.<code><a href="ganeti.backend.html" class="internal-link" title="ganeti.backend">backend</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          module documentation
        </div>

        <div class="extrasDocstring">
          
          <p></p>
        </div>

        <div class="moduleDocstring">
          <div><p>Functions used by the node daemon</p>
</div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id17">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="ganeti.backend.DevCacheManager.html" class="internal-link" title="ganeti.backend.DevCacheManager"><wbr></wbr>Dev<wbr></wbr>Cache<wbr></wbr>Manager</a></code></td>
    <td>Simple class for managing a cache of block device information.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="ganeti.backend.HooksRunner.html" class="internal-link" title="ganeti.backend.HooksRunner"><wbr></wbr>Hooks<wbr></wbr>Runner</a></code></td>
    <td>Hook runner.</td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="ganeti.backend.IAllocatorRunner.html" class="internal-link" title="ganeti.backend.IAllocatorRunner"><wbr></wbr>IAllocator<wbr></wbr>Runner</a></code></td>
    <td>IAllocator runner.</td>
  </tr><tr class="exception">
    
    <td>Exception</td>
    <td><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail"><wbr></wbr>RPCFail</a></code></td>
    <td>Class denoting RPC failure.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#AbortImportExport" class="internal-link" title="ganeti.backend.AbortImportExport"><wbr></wbr>Abort<wbr></wbr>Import<wbr></wbr>Export</a></code></td>
    <td>Sends SIGTERM to a running import/export daemon.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#AcceptInstance" class="internal-link" title="ganeti.backend.AcceptInstance"><wbr></wbr>Accept<wbr></wbr>Instance</a></code></td>
    <td>Prepare the node to accept an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ActivateMasterIp" class="internal-link" title="ganeti.backend.ActivateMasterIp"><wbr></wbr>Activate<wbr></wbr>Master<wbr></wbr>Ip</a></code></td>
    <td>Activate the IP address of the master daemon.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#AddNodeSshKey" class="internal-link" title="ganeti.backend.AddNodeSshKey"><wbr></wbr>Add<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key</a></code></td>
    <td>Distributes a node's public SSH key across the cluster.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#AddNodeSshKeyBulk" class="internal-link" title="ganeti.backend.AddNodeSshKeyBulk"><wbr></wbr>Add<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key<wbr></wbr>Bulk</a></code></td>
    <td>Distributes a node's public SSH key across the cluster.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevAddchildren" class="internal-link" title="ganeti.backend.BlockdevAddchildren"><wbr></wbr>Blockdev<wbr></wbr>Addchildren</a></code></td>
    <td>Extend a mirrored block device.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevAssemble" class="internal-link" title="ganeti.backend.BlockdevAssemble"><wbr></wbr>Blockdev<wbr></wbr>Assemble</a></code></td>
    <td>Activate a block device for an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevClose" class="internal-link" title="ganeti.backend.BlockdevClose"><wbr></wbr>Blockdev<wbr></wbr>Close</a></code></td>
    <td>Closes the given block devices.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevConvert" class="internal-link" title="ganeti.backend.BlockdevConvert"><wbr></wbr>Blockdev<wbr></wbr>Convert</a></code></td>
    <td>Copies data from source block device to target.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevCreate" class="internal-link" title="ganeti.backend.BlockdevCreate"><wbr></wbr>Blockdev<wbr></wbr>Create</a></code></td>
    <td>Creates a block device for an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevFind" class="internal-link" title="ganeti.backend.BlockdevFind"><wbr></wbr>Blockdev<wbr></wbr>Find</a></code></td>
    <td>Check if a device is activated.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevGetdimensions" class="internal-link" title="ganeti.backend.BlockdevGetdimensions"><wbr></wbr>Blockdev<wbr></wbr>Getdimensions</a></code></td>
    <td>Computes the size of the given disks.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevGetmirrorstatus" class="internal-link" title="ganeti.backend.BlockdevGetmirrorstatus"><wbr></wbr>Blockdev<wbr></wbr>Getmirrorstatus</a></code></td>
    <td>Get the mirroring status of a list of devices.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevGetmirrorstatusMulti" class="internal-link" title="ganeti.backend.BlockdevGetmirrorstatusMulti"><wbr></wbr>Blockdev<wbr></wbr>Getmirrorstatus<wbr></wbr>Multi</a></code></td>
    <td>Get the mirroring status of a list of devices.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevGrow" class="internal-link" title="ganeti.backend.BlockdevGrow"><wbr></wbr>Blockdev<wbr></wbr>Grow</a></code></td>
    <td>Grow a stack of block devices.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevImage" class="internal-link" title="ganeti.backend.BlockdevImage"><wbr></wbr>Blockdev<wbr></wbr>Image</a></code></td>
    <td>Images a block device either by dumping a local file or downloading a URL.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevOpen" class="internal-link" title="ganeti.backend.BlockdevOpen"><wbr></wbr>Blockdev<wbr></wbr>Open</a></code></td>
    <td>Opens the given block devices.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevPauseResumeSync" class="internal-link" title="ganeti.backend.BlockdevPauseResumeSync"><wbr></wbr>Blockdev<wbr></wbr>Pause<wbr></wbr>Resume<wbr></wbr>Sync</a></code></td>
    <td>Pause or resume the sync of the block device.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevRemove" class="internal-link" title="ganeti.backend.BlockdevRemove"><wbr></wbr>Blockdev<wbr></wbr>Remove</a></code></td>
    <td>Remove a block device.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevRemovechildren" class="internal-link" title="ganeti.backend.BlockdevRemovechildren"><wbr></wbr>Blockdev<wbr></wbr>Removechildren</a></code></td>
    <td>Shrink a mirrored block device.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevRename" class="internal-link" title="ganeti.backend.BlockdevRename"><wbr></wbr>Blockdev<wbr></wbr>Rename</a></code></td>
    <td>Rename a list of block devices.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevSetInfo" class="internal-link" title="ganeti.backend.BlockdevSetInfo"><wbr></wbr>Blockdev<wbr></wbr>Set<wbr></wbr>Info</a></code></td>
    <td>Sets 'metadata' information on block devices.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevShutdown" class="internal-link" title="ganeti.backend.BlockdevShutdown"><wbr></wbr>Blockdev<wbr></wbr>Shutdown</a></code></td>
    <td>Shut down a block device.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevSnapshot" class="internal-link" title="ganeti.backend.BlockdevSnapshot"><wbr></wbr>Blockdev<wbr></wbr>Snapshot</a></code></td>
    <td>Create a snapshot copy of a block device.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BlockdevWipe" class="internal-link" title="ganeti.backend.BlockdevWipe"><wbr></wbr>Blockdev<wbr></wbr>Wipe</a></code></td>
    <td>Wipes a block device.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#BridgesExist" class="internal-link" title="ganeti.backend.BridgesExist"><wbr></wbr>Bridges<wbr></wbr>Exist</a></code></td>
    <td>Check if a list of bridges exist on the current node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ChangeMasterNetmask" class="internal-link" title="ganeti.backend.ChangeMasterNetmask"><wbr></wbr>Change<wbr></wbr>Master<wbr></wbr>Netmask</a></code></td>
    <td>Change the netmask of the master IP.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CleanupImportExport" class="internal-link" title="ganeti.backend.CleanupImportExport"><wbr></wbr>Cleanup<wbr></wbr>Import<wbr></wbr>Export</a></code></td>
    <td>Cleanup after an import or export.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ConfigureOVS" class="internal-link" title="ganeti.backend.ConfigureOVS"><wbr></wbr>Configure<wbr></wbr>OVS</a></code></td>
    <td>Creates a OpenvSwitch on the node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CreateFileStorageDir" class="internal-link" title="ganeti.backend.CreateFileStorageDir"><wbr></wbr>Create<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Dir</a></code></td>
    <td>Create file storage directory.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#CreateX509Certificate" class="internal-link" title="ganeti.backend.CreateX509Certificate"><wbr></wbr>Create<wbr></wbr>X509<wbr></wbr>Certificate</a></code></td>
    <td>Creates a new X509 certificate for SSL/TLS.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#DeactivateMasterIp" class="internal-link" title="ganeti.backend.DeactivateMasterIp"><wbr></wbr>Deactivate<wbr></wbr>Master<wbr></wbr>Ip</a></code></td>
    <td>Deactivate the master IP on this node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#DemoteFromMC" class="internal-link" title="ganeti.backend.DemoteFromMC"><wbr></wbr>Demote<wbr></wbr>From<wbr></wbr>MC</a></code></td>
    <td>Demotes the current node from master candidate role.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#DiagnoseExtStorage" class="internal-link" title="ganeti.backend.DiagnoseExtStorage"><wbr></wbr>Diagnose<wbr></wbr>Ext<wbr></wbr>Storage</a></code></td>
    <td>Compute the validity for all ExtStorage Providers.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#DiagnoseOS" class="internal-link" title="ganeti.backend.DiagnoseOS"><wbr></wbr>Diagnose<wbr></wbr>OS</a></code></td>
    <td>Compute the validity for all OSes.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#DrbdAttachNet" class="internal-link" title="ganeti.backend.DrbdAttachNet"><wbr></wbr>Drbd<wbr></wbr>Attach<wbr></wbr>Net</a></code></td>
    <td>Attaches the network on a list of drbd devices.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#DrbdDisconnectNet" class="internal-link" title="ganeti.backend.DrbdDisconnectNet"><wbr></wbr>Drbd<wbr></wbr>Disconnect<wbr></wbr>Net</a></code></td>
    <td>Disconnects the network on a list of drbd devices.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#DrbdNeedsActivation" class="internal-link" title="ganeti.backend.DrbdNeedsActivation"><wbr></wbr>Drbd<wbr></wbr>Needs<wbr></wbr>Activation</a></code></td>
    <td>Checks which of the passed disks needs activation and returns their UUIDs.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#DrbdWaitSync" class="internal-link" title="ganeti.backend.DrbdWaitSync"><wbr></wbr>Drbd<wbr></wbr>Wait<wbr></wbr>Sync</a></code></td>
    <td>Wait until DRBDs have synchronized.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#EnsureDaemon" class="internal-link" title="ganeti.backend.EnsureDaemon"><wbr></wbr>Ensure<wbr></wbr>Daemon</a></code></td>
    <td>Ensures the given daemon is running or stopped.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#EtcHostsModify" class="internal-link" title="ganeti.backend.EtcHostsModify"><wbr></wbr>Etc<wbr></wbr>Hosts<wbr></wbr>Modify</a></code></td>
    <td>Modify a host entry in /etc/hosts.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ExportInfo" class="internal-link" title="ganeti.backend.ExportInfo"><wbr></wbr>Export<wbr></wbr>Info</a></code></td>
    <td>Get export configuration information.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ExportOS" class="internal-link" title="ganeti.backend.ExportOS"><wbr></wbr>Export<wbr></wbr>OS</a></code></td>
    <td>Creates a GZIPed tarball with an OS definition and environment.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#FinalizeExport" class="internal-link" title="ganeti.backend.FinalizeExport"><wbr></wbr>Finalize<wbr></wbr>Export</a></code></td>
    <td>Write out the export configuration information.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#FinalizeMigrationDst" class="internal-link" title="ganeti.backend.FinalizeMigrationDst"><wbr></wbr>Finalize<wbr></wbr>Migration<wbr></wbr>Dst</a></code></td>
    <td>Finalize any preparation to accept an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#FinalizeMigrationSource" class="internal-link" title="ganeti.backend.FinalizeMigrationSource"><wbr></wbr>Finalize<wbr></wbr>Migration<wbr></wbr>Source</a></code></td>
    <td>Finalize the instance migration on the source node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetAllInstancesInfo" class="internal-link" title="ganeti.backend.GetAllInstancesInfo"><wbr></wbr>Get<wbr></wbr>All<wbr></wbr>Instances<wbr></wbr>Info</a></code></td>
    <td>Gather data about all instances.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetBlockDevSizes" class="internal-link" title="ganeti.backend.GetBlockDevSizes"><wbr></wbr>Get<wbr></wbr>Block<wbr></wbr>Dev<wbr></wbr>Sizes</a></code></td>
    <td>Return the size of the given block devices</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetCryptoTokens" class="internal-link" title="ganeti.backend.GetCryptoTokens"><wbr></wbr>Get<wbr></wbr>Crypto<wbr></wbr>Tokens</a></code></td>
    <td>Perform actions on the node's cryptographic tokens.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetDrbdUsermodeHelper" class="internal-link" title="ganeti.backend.GetDrbdUsermodeHelper"><wbr></wbr>Get<wbr></wbr>Drbd<wbr></wbr>Usermode<wbr></wbr>Helper</a></code></td>
    <td>Returns DRBD usermode helper currently configured.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetFileInfo" class="internal-link" title="ganeti.backend.GetFileInfo"><wbr></wbr>Get<wbr></wbr>File<wbr></wbr>Info</a></code></td>
    <td>Checks if a file exists and returns information related to it.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetImportExportStatus" class="internal-link" title="ganeti.backend.GetImportExportStatus"><wbr></wbr>Get<wbr></wbr>Import<wbr></wbr>Export<wbr></wbr>Status</a></code></td>
    <td>Returns import/export daemon status.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetInstanceConsoleInfo" class="internal-link" title="ganeti.backend.GetInstanceConsoleInfo"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Console<wbr></wbr>Info</a></code></td>
    <td>Gather data about the console access of a set of instances of this node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetInstanceInfo" class="internal-link" title="ganeti.backend.GetInstanceInfo"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Info</a></code></td>
    <td>Gives back the information about an instance as a dictionary.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetInstanceList" class="internal-link" title="ganeti.backend.GetInstanceList"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>List</a></code></td>
    <td>Provides a list of instances.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetInstanceListForHypervisor" class="internal-link" title="ganeti.backend.GetInstanceListForHypervisor"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>List<wbr></wbr>For<wbr></wbr>Hypervisor</a></code></td>
    <td>Provides a list of instances of the given hypervisor.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetInstanceMigratable" class="internal-link" title="ganeti.backend.GetInstanceMigratable"><wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Migratable</a></code></td>
    <td>Computes whether an instance can be migrated.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetMasterNodeName" class="internal-link" title="ganeti.backend.GetMasterNodeName"><wbr></wbr>Get<wbr></wbr>Master<wbr></wbr>Node<wbr></wbr>Name</a></code></td>
    <td>Returns the master node name.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetMigrationStatus" class="internal-link" title="ganeti.backend.GetMigrationStatus"><wbr></wbr>Get<wbr></wbr>Migration<wbr></wbr>Status</a></code></td>
    <td>Get the migration status</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetNodeInfo" class="internal-link" title="ganeti.backend.GetNodeInfo"><wbr></wbr>Get<wbr></wbr>Node<wbr></wbr>Info</a></code></td>
    <td>Gives back a hash with different information about the node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#GetVolumeList" class="internal-link" title="ganeti.backend.GetVolumeList"><wbr></wbr>Get<wbr></wbr>Volume<wbr></wbr>List</a></code></td>
    <td>Compute list of logical volumes and their size.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#HotplugDevice" class="internal-link" title="ganeti.backend.HotplugDevice"><wbr></wbr>Hotplug<wbr></wbr>Device</a></code></td>
    <td>Hotplug a device</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#HotplugSupported" class="internal-link" title="ganeti.backend.HotplugSupported"><wbr></wbr>Hotplug<wbr></wbr>Supported</a></code></td>
    <td>Checks if hotplug is generally supported.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#InstanceBalloonMemory" class="internal-link" title="ganeti.backend.InstanceBalloonMemory"><wbr></wbr>Instance<wbr></wbr>Balloon<wbr></wbr>Memory</a></code></td>
    <td>Resize an instance's memory.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#InstanceOsAdd" class="internal-link" title="ganeti.backend.InstanceOsAdd"><wbr></wbr>Instance<wbr></wbr>Os<wbr></wbr>Add</a></code></td>
    <td>Add an OS to an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#InstanceReboot" class="internal-link" title="ganeti.backend.InstanceReboot"><wbr></wbr>Instance<wbr></wbr>Reboot</a></code></td>
    <td>Reboot an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#InstanceShutdown" class="internal-link" title="ganeti.backend.InstanceShutdown"><wbr></wbr>Instance<wbr></wbr>Shutdown</a></code></td>
    <td>Shut an instance down.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#JobQueuePurge" class="internal-link" title="ganeti.backend.JobQueuePurge"><wbr></wbr>Job<wbr></wbr>Queue<wbr></wbr>Purge</a></code></td>
    <td>Removes job queue files and archived jobs.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#JobQueueRename" class="internal-link" title="ganeti.backend.JobQueueRename"><wbr></wbr>Job<wbr></wbr>Queue<wbr></wbr>Rename</a></code></td>
    <td>Renames a job queue file.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#JobQueueUpdate" class="internal-link" title="ganeti.backend.JobQueueUpdate"><wbr></wbr>Job<wbr></wbr>Queue<wbr></wbr>Update</a></code></td>
    <td>Updates a file in the queue directory.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#LeaveCluster" class="internal-link" title="ganeti.backend.LeaveCluster"><wbr></wbr>Leave<wbr></wbr>Cluster</a></code></td>
    <td>Cleans up and remove the current node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ListExports" class="internal-link" title="ganeti.backend.ListExports"><wbr></wbr>List<wbr></wbr>Exports</a></code></td>
    <td>Return a list of exports currently available on this machine.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ListVolumeGroups" class="internal-link" title="ganeti.backend.ListVolumeGroups"><wbr></wbr>List<wbr></wbr>Volume<wbr></wbr>Groups</a></code></td>
    <td>List the volume groups and their size.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#MigrateInstance" class="internal-link" title="ganeti.backend.MigrateInstance"><wbr></wbr>Migrate<wbr></wbr>Instance</a></code></td>
    <td>Migrates an instance to another node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#MigrationInfo" class="internal-link" title="ganeti.backend.MigrationInfo"><wbr></wbr>Migration<wbr></wbr>Info</a></code></td>
    <td>Gather information about an instance to be migrated.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ModifyInstanceMetadata" class="internal-link" title="ganeti.backend.ModifyInstanceMetadata"><wbr></wbr>Modify<wbr></wbr>Instance<wbr></wbr>Metadata</a></code></td>
    <td>Sends instance data to the metadata daemon.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#NodeVolumes" class="internal-link" title="ganeti.backend.NodeVolumes"><wbr></wbr>Node<wbr></wbr>Volumes</a></code></td>
    <td>List all volumes on this node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#OSCoreEnv" class="internal-link" title="ganeti.backend.OSCoreEnv"><wbr></wbr>OSCore<wbr></wbr>Env</a></code></td>
    <td>Calculate the basic environment for an os script.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#OSEnvironment" class="internal-link" title="ganeti.backend.OSEnvironment"><wbr></wbr>OSEnvironment</a></code></td>
    <td>Calculate the environment for an os script.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#OSFromDisk" class="internal-link" title="ganeti.backend.OSFromDisk"><wbr></wbr>OSFrom<wbr></wbr>Disk</a></code></td>
    <td>Create an OS instance from disk.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#PowercycleNode" class="internal-link" title="ganeti.backend.PowercycleNode"><wbr></wbr>Powercycle<wbr></wbr>Node</a></code></td>
    <td>Hard-powercycle the node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RemoveExport" class="internal-link" title="ganeti.backend.RemoveExport"><wbr></wbr>Remove<wbr></wbr>Export</a></code></td>
    <td>Remove an existing export from the node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RemoveFileStorageDir" class="internal-link" title="ganeti.backend.RemoveFileStorageDir"><wbr></wbr>Remove<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Dir</a></code></td>
    <td>Remove file storage directory.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RemoveNodeSshKey" class="internal-link" title="ganeti.backend.RemoveNodeSshKey"><wbr></wbr>Remove<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key</a></code></td>
    <td>Removes the node's SSH keys from the key files and distributes those.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RemoveNodeSshKeyBulk" class="internal-link" title="ganeti.backend.RemoveNodeSshKeyBulk"><wbr></wbr>Remove<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key<wbr></wbr>Bulk</a></code></td>
    <td>Removes the node's SSH keys from the key files and distributes those.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RemoveX509Certificate" class="internal-link" title="ganeti.backend.RemoveX509Certificate"><wbr></wbr>Remove<wbr></wbr>X509<wbr></wbr>Certificate</a></code></td>
    <td>Removes a X509 certificate.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RenameFileStorageDir" class="internal-link" title="ganeti.backend.RenameFileStorageDir"><wbr></wbr>Rename<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Dir</a></code></td>
    <td>Rename the file storage directory.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RenewSshKeys" class="internal-link" title="ganeti.backend.RenewSshKeys"><wbr></wbr>Renew<wbr></wbr>Ssh<wbr></wbr>Keys</a></code></td>
    <td>Renews all SSH keys and updates authorized_keys and ganeti_pub_keys.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RunLocalHooks" class="internal-link" title="ganeti.backend.RunLocalHooks"><wbr></wbr>Run<wbr></wbr>Local<wbr></wbr>Hooks</a></code></td>
    <td>Decorator that runs hooks before and after the decorated function.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RunOob" class="internal-link" title="ganeti.backend.RunOob"><wbr></wbr>Run<wbr></wbr>Oob</a></code></td>
    <td>Executes oob_program with given command on given node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RunRenameInstance" class="internal-link" title="ganeti.backend.RunRenameInstance"><wbr></wbr>Run<wbr></wbr>Rename<wbr></wbr>Instance</a></code></td>
    <td>Run the OS rename script for an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#RunRestrictedCmd" class="internal-link" title="ganeti.backend.RunRestrictedCmd"><wbr></wbr>Run<wbr></wbr>Restricted<wbr></wbr>Cmd</a></code></td>
    <td>Executes a restricted command after performing strict tests.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#SetWatcherPause" class="internal-link" title="ganeti.backend.SetWatcherPause"><wbr></wbr>Set<wbr></wbr>Watcher<wbr></wbr>Pause</a></code></td>
    <td>Creates or removes the watcher pause file.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#StartImportExportDaemon" class="internal-link" title="ganeti.backend.StartImportExportDaemon"><wbr></wbr>Start<wbr></wbr>Import<wbr></wbr>Export<wbr></wbr>Daemon</a></code></td>
    <td>Starts an import or export daemon.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#StartInstance" class="internal-link" title="ganeti.backend.StartInstance"><wbr></wbr>Start<wbr></wbr>Instance</a></code></td>
    <td>Start an instance.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#StartMasterDaemons" class="internal-link" title="ganeti.backend.StartMasterDaemons"><wbr></wbr>Start<wbr></wbr>Master<wbr></wbr>Daemons</a></code></td>
    <td>Activate local node as master node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#StopMasterDaemons" class="internal-link" title="ganeti.backend.StopMasterDaemons"><wbr></wbr>Stop<wbr></wbr>Master<wbr></wbr>Daemons</a></code></td>
    <td>Stop the master daemons on this node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#UploadFile" class="internal-link" title="ganeti.backend.UploadFile"><wbr></wbr>Upload<wbr></wbr>File</a></code></td>
    <td>Write a file to the filesystem.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ValidateHVParams" class="internal-link" title="ganeti.backend.ValidateHVParams"><wbr></wbr>Validate<wbr></wbr>HVParams</a></code></td>
    <td>Validates the given hypervisor parameters.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ValidateOS" class="internal-link" title="ganeti.backend.ValidateOS"><wbr></wbr>Validate<wbr></wbr>OS</a></code></td>
    <td>Validate the given OS parameters.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#VerifyMasterIP" class="internal-link" title="ganeti.backend.VerifyMasterIP"><wbr></wbr>Verify<wbr></wbr>Master<wbr></wbr>IP</a></code></td>
    <td>Verify master IP is reachable.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#VerifyNode" class="internal-link" title="ganeti.backend.VerifyNode"><wbr></wbr>Verify<wbr></wbr>Node</a></code></td>
    <td>Verify the status of the local node.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#VerifyNodeNetTest" class="internal-link" title="ganeti.backend.VerifyNodeNetTest"><wbr></wbr>Verify<wbr></wbr>Node<wbr></wbr>Net<wbr></wbr>Test</a></code></td>
    <td>Verify nodes are reachable.</td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#SshAddNodeInfo" class="internal-link" title="ganeti.backend.SshAddNodeInfo"><wbr></wbr>Ssh<wbr></wbr>Add<wbr></wbr>Node<wbr></wbr>Info</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#SshRemoveNodeInfo" class="internal-link" title="ganeti.backend.SshRemoveNodeInfo"><wbr></wbr>Ssh<wbr></wbr>Remove<wbr></wbr>Node<wbr></wbr>Info</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_ApplyStorageInfoFunction" class="internal-link" title="ganeti.backend._ApplyStorageInfoFunction">_<wbr></wbr>Apply<wbr></wbr>Storage<wbr></wbr>Info<wbr></wbr>Function</a></code></td>
    <td>Looks up and applies the correct function to calculate free and total storage for the given storage type.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_BuildMasterIpEnv" class="internal-link" title="ganeti.backend._BuildMasterIpEnv">_<wbr></wbr>Build<wbr></wbr>Master<wbr></wbr>Ip<wbr></wbr>Env</a></code></td>
    <td>Builds environment variables for master IP hooks.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_BuildUploadFileList" class="internal-link" title="ganeti.backend._BuildUploadFileList">_<wbr></wbr>Build<wbr></wbr>Upload<wbr></wbr>File<wbr></wbr>List</a></code></td>
    <td>Build the list of allowed upload files.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CalculateDeviceURI" class="internal-link" title="ganeti.backend._CalculateDeviceURI">_<wbr></wbr>Calculate<wbr></wbr>Device<wbr></wbr>URI</a></code></td>
    <td>Get the URI for the device.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CheckExclusivePvs" class="internal-link" title="ganeti.backend._CheckExclusivePvs">_<wbr></wbr>Check<wbr></wbr>Exclusive<wbr></wbr>Pvs</a></code></td>
    <td>Check that PVs are not shared among LVs</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CheckForPlainDisk" class="internal-link" title="ganeti.backend._CheckForPlainDisk">_<wbr></wbr>Check<wbr></wbr>For<wbr></wbr>Plain<wbr></wbr>Disk</a></code></td>
    <td>Check within a disk and its children if there is a plain disk type.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CheckLvmStorageParams" class="internal-link" title="ganeti.backend._CheckLvmStorageParams">_<wbr></wbr>Check<wbr></wbr>Lvm<wbr></wbr>Storage<wbr></wbr>Params</a></code></td>
    <td>Performs sanity check for the 'exclusive storage' flag.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CheckOSPList" class="internal-link" title="ganeti.backend._CheckOSPList">_<wbr></wbr>Check<wbr></wbr>OSPList</a></code></td>
    <td>Check whether a list of parameters is supported by the OS.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CheckOSVariant" class="internal-link" title="ganeti.backend._CheckOSVariant">_<wbr></wbr>Check<wbr></wbr>OSVariant</a></code></td>
    <td>Check whether an OS name conforms to the os variants specification.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CheckStorageParams" class="internal-link" title="ganeti.backend._CheckStorageParams">_<wbr></wbr>Check<wbr></wbr>Storage<wbr></wbr>Params</a></code></td>
    <td>Performs sanity checks for storage parameters.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CleanDirectory" class="internal-link" title="ganeti.backend._CleanDirectory">_<wbr></wbr>Clean<wbr></wbr>Directory</a></code></td>
    <td>Removes all regular files in a directory.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CommonRestrictedCmdCheck" class="internal-link" title="ganeti.backend._CommonRestrictedCmdCheck">_<wbr></wbr>Common<wbr></wbr>Restricted<wbr></wbr>Cmd<wbr></wbr>Check</a></code></td>
    <td>Common checks for restricted command file system directories and files.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_CreateImportExportStatusDir" class="internal-link" title="ganeti.backend._CreateImportExportStatusDir">_<wbr></wbr>Create<wbr></wbr>Import<wbr></wbr>Export<wbr></wbr>Status<wbr></wbr>Dir</a></code></td>
    <td>Creates status directory for import/export.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_Decompress" class="internal-link" title="ganeti.backend._Decompress">_<wbr></wbr>Decompress</a></code></td>
    <td>Unpacks data compressed by the RPC client.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_DownloadAndDumpDevice" class="internal-link" title="ganeti.backend._DownloadAndDumpDevice">_<wbr></wbr>Download<wbr></wbr>And<wbr></wbr>Dump<wbr></wbr>Device</a></code></td>
    <td>This function images a device using a downloaded image file.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_DumpDevice" class="internal-link" title="ganeti.backend._DumpDevice">_<wbr></wbr>Dump<wbr></wbr>Device</a></code></td>
    <td>This function images/wipes the device using a local file.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_EnsureJobQueueFile" class="internal-link" title="ganeti.backend._EnsureJobQueueFile">_<wbr></wbr>Ensure<wbr></wbr>Job<wbr></wbr>Queue<wbr></wbr>File</a></code></td>
    <td>Checks whether the given filename is in the queue directory.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_Fail" class="internal-link" title="ganeti.backend._Fail">_<wbr></wbr>Fail</a></code></td>
    <td>Log an error and the raise an RPCFail exception.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_FindDisks" class="internal-link" title="ganeti.backend._FindDisks">_<wbr></wbr>Find<wbr></wbr>Disks</a></code></td>
    <td>Finds attached <code><a href="ganeti.storage.base.BlockDev.html" class="internal-link" title="ganeti.storage.base.BlockDev">BlockDev</a></code>s for the given disks.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GatherAndLinkBlockDevs" class="internal-link" title="ganeti.backend._GatherAndLinkBlockDevs">_<wbr></wbr>Gather<wbr></wbr>And<wbr></wbr>Link<wbr></wbr>Block<wbr></wbr>Devs</a></code></td>
    <td>Set up an instance's block device(s).</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GenerateNodeSshKey" class="internal-link" title="ganeti.backend._GenerateNodeSshKey">_<wbr></wbr>Generate<wbr></wbr>Node<wbr></wbr>Ssh<wbr></wbr>Key</a></code></td>
    <td>Generates the root SSH key pair on the node.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetBlockDevSymlinkPath" class="internal-link" title="ganeti.backend._GetBlockDevSymlinkPath">_<wbr></wbr>Get<wbr></wbr>Block<wbr></wbr>Dev<wbr></wbr>Symlink<wbr></wbr>Path</a></code></td>
    <td>Returns symlink path for block device.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetConfig" class="internal-link" title="ganeti.backend._GetConfig">_<wbr></wbr>Get<wbr></wbr>Config</a></code></td>
    <td>Simple wrapper to return a SimpleStore.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetFileStorageSpaceInfo" class="internal-link" title="ganeti.backend._GetFileStorageSpaceInfo">_<wbr></wbr>Get<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Space<wbr></wbr>Info</a></code></td>
    <td>Wrapper around filestorage.GetSpaceInfo.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetHvInfo" class="internal-link" title="ganeti.backend._GetHvInfo">_<wbr></wbr>Get<wbr></wbr>Hv<wbr></wbr>Info</a></code></td>
    <td>Retrieves node information from a hypervisor.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetHvInfoAll" class="internal-link" title="ganeti.backend._GetHvInfoAll">_<wbr></wbr>Get<wbr></wbr>Hv<wbr></wbr>Info<wbr></wbr>All</a></code></td>
    <td>Retrieves node information for all hypervisors.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetImportExportIoCommand" class="internal-link" title="ganeti.backend._GetImportExportIoCommand">_<wbr></wbr>Get<wbr></wbr>Import<wbr></wbr>Export<wbr></wbr>Io<wbr></wbr>Command</a></code></td>
    <td>Returns the command for the requested input/output.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetInstanceInfo" class="internal-link" title="ganeti.backend._GetInstanceInfo">_<wbr></wbr>Get<wbr></wbr>Instance<wbr></wbr>Info</a></code></td>
    <td>Helper function <code><a href="ganeti.backend.html#GetInstanceInfo" class="internal-link" title="ganeti.backend.GetInstanceInfo">GetInstanceInfo</a></code></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetInstReasonFilename" class="internal-link" title="ganeti.backend._GetInstReasonFilename">_<wbr></wbr>Get<wbr></wbr>Inst<wbr></wbr>Reason<wbr></wbr>Filename</a></code></td>
    <td>Path of the file containing the reason of the instance status change.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetLvmPvSpaceInfo" class="internal-link" title="ganeti.backend._GetLvmPvSpaceInfo">_<wbr></wbr>Get<wbr></wbr>Lvm<wbr></wbr>Pv<wbr></wbr>Space<wbr></wbr>Info</a></code></td>
    <td>Wrapper around <tt class="rst-docutils literal">_GetVgSpindlesInfo</tt> with sanity checks.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetLvmVgSpaceInfo" class="internal-link" title="ganeti.backend._GetLvmVgSpaceInfo">_<wbr></wbr>Get<wbr></wbr>Lvm<wbr></wbr>Vg<wbr></wbr>Space<wbr></wbr>Info</a></code></td>
    <td>Wrapper around <tt class="rst-docutils literal">_GetVgInfo</tt> which checks the storage parameters.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetMasterNodeUUID" class="internal-link" title="ganeti.backend._GetMasterNodeUUID">_<wbr></wbr>Get<wbr></wbr>Master<wbr></wbr>Node<wbr></wbr>UUID</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetNamedNodeInfo" class="internal-link" title="ganeti.backend._GetNamedNodeInfo">_<wbr></wbr>Get<wbr></wbr>Named<wbr></wbr>Node<wbr></wbr>Info</a></code></td>
    <td>Calls <tt class="rst-docutils literal">fn</tt> for all names in <tt class="rst-docutils literal">names</tt> and returns a list of dictionaries.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetNewMasterKey" class="internal-link" title="ganeti.backend._GetNewMasterKey">_<wbr></wbr>Get<wbr></wbr>New<wbr></wbr>Master<wbr></wbr>Key</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetOldMasterKeys" class="internal-link" title="ganeti.backend._GetOldMasterKeys">_<wbr></wbr>Get<wbr></wbr>Old<wbr></wbr>Master<wbr></wbr>Keys</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetSshRunner" class="internal-link" title="ganeti.backend._GetSshRunner">_<wbr></wbr>Get<wbr></wbr>Ssh<wbr></wbr>Runner</a></code></td>
    <td>Simple wrapper to return an SshRunner.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetVgInfo" class="internal-link" title="ganeti.backend._GetVgInfo">_<wbr></wbr>Get<wbr></wbr>Vg<wbr></wbr>Info</a></code></td>
    <td>Retrieves information about a LVM volume group.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetVgSpindlesInfo" class="internal-link" title="ganeti.backend._GetVgSpindlesInfo">_<wbr></wbr>Get<wbr></wbr>Vg<wbr></wbr>Spindles<wbr></wbr>Info</a></code></td>
    <td>Retrieves information about spindles in an LVM volume group.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_GetX509Filenames" class="internal-link" title="ganeti.backend._GetX509Filenames">_<wbr></wbr>Get<wbr></wbr>X509<wbr></wbr>Filenames</a></code></td>
    <td>Returns the full paths for the private key and certificate.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_InitSshUpdateData" class="internal-link" title="ganeti.backend._InitSshUpdateData">_<wbr></wbr>Init<wbr></wbr>Ssh<wbr></wbr>Update<wbr></wbr>Data</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_InstanceLogName" class="internal-link" title="ganeti.backend._InstanceLogName">_<wbr></wbr>Instance<wbr></wbr>Log<wbr></wbr>Name</a></code></td>
    <td>Compute the OS log filename for a given instance and operation.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_IsInstanceUserDown" class="internal-link" title="ganeti.backend._IsInstanceUserDown">_<wbr></wbr>Is<wbr></wbr>Instance<wbr></wbr>User<wbr></wbr>Down</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_OpenRealBD" class="internal-link" title="ganeti.backend._OpenRealBD">_<wbr></wbr>Open<wbr></wbr>Real<wbr></wbr>BD</a></code></td>
    <td>Opens the underlying block device of a disk.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_OSOndiskAPIVersion" class="internal-link" title="ganeti.backend._OSOndiskAPIVersion">_<wbr></wbr>OSOndisk<wbr></wbr>APIVersion</a></code></td>
    <td>Compute and return the API version of a given OS.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_PrepareRestrictedCmd" class="internal-link" title="ganeti.backend._PrepareRestrictedCmd">_<wbr></wbr>Prepare<wbr></wbr>Restricted<wbr></wbr>Cmd</a></code></td>
    <td>Performs a number of tests on a restricted command.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_RecursiveAssembleBD" class="internal-link" title="ganeti.backend._RecursiveAssembleBD">_<wbr></wbr>Recursive<wbr></wbr>Assemble<wbr></wbr>BD</a></code></td>
    <td>Activate a block device for an instance.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_RecursiveFindBD" class="internal-link" title="ganeti.backend._RecursiveFindBD">_<wbr></wbr>Recursive<wbr></wbr>Find<wbr></wbr>BD</a></code></td>
    <td>Check if a device is activated.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_RemoveBlockDevLinks" class="internal-link" title="ganeti.backend._RemoveBlockDevLinks">_<wbr></wbr>Remove<wbr></wbr>Block<wbr></wbr>Dev<wbr></wbr>Links</a></code></td>
    <td>Remove the block device symlinks belonging to the given instance.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_ReplaceMasterKeyOnMaster" class="internal-link" title="ganeti.backend._ReplaceMasterKeyOnMaster">_<wbr></wbr>Replace<wbr></wbr>Master<wbr></wbr>Key<wbr></wbr>On<wbr></wbr>Master</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_RunMasterSetupScript" class="internal-link" title="ganeti.backend._RunMasterSetupScript">_<wbr></wbr>Run<wbr></wbr>Master<wbr></wbr>Setup<wbr></wbr>Script</a></code></td>
    <td>Execute the master IP address setup script.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_StoreInstReasonTrail" class="internal-link" title="ganeti.backend._StoreInstReasonTrail">_<wbr></wbr>Store<wbr></wbr>Inst<wbr></wbr>Reason<wbr></wbr>Trail</a></code></td>
    <td>Serialize a reason trail related to an instance change of state to file.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_SymlinkBlockDev" class="internal-link" title="ganeti.backend._SymlinkBlockDev">_<wbr></wbr>Symlink<wbr></wbr>Block<wbr></wbr>Dev</a></code></td>
    <td>Set up symlinks to a instance's block device.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_TransformFileStorageDir" class="internal-link" title="ganeti.backend._TransformFileStorageDir">_<wbr></wbr>Transform<wbr></wbr>File<wbr></wbr>Storage<wbr></wbr>Dir</a></code></td>
    <td>Checks whether given file_storage_dir is valid.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_TryOSFromDisk" class="internal-link" title="ganeti.backend._TryOSFromDisk">_<wbr></wbr>Try<wbr></wbr>OSFrom<wbr></wbr>Disk</a></code></td>
    <td>Create an OS instance from disk.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifyClientCertificate" class="internal-link" title="ganeti.backend._VerifyClientCertificate">_<wbr></wbr>Verify<wbr></wbr>Client<wbr></wbr>Certificate</a></code></td>
    <td>Verify the existance and validity of the client SSL certificate.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifyHvparams" class="internal-link" title="ganeti.backend._VerifyHvparams">_<wbr></wbr>Verify<wbr></wbr>Hvparams</a></code></td>
    <td>Verifies the hvparams. Appends the results to the 'results' list.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifyHypervisors" class="internal-link" title="ganeti.backend._VerifyHypervisors">_<wbr></wbr>Verify<wbr></wbr>Hypervisors</a></code></td>
    <td>Verifies the hypervisor. Appends the results to the 'results' list.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifyInstanceList" class="internal-link" title="ganeti.backend._VerifyInstanceList">_<wbr></wbr>Verify<wbr></wbr>Instance<wbr></wbr>List</a></code></td>
    <td>Verifies the instance list.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifyNodeInfo" class="internal-link" title="ganeti.backend._VerifyNodeInfo">_<wbr></wbr>Verify<wbr></wbr>Node<wbr></wbr>Info</a></code></td>
    <td>Verifies the node info.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifyRestrictedCmd" class="internal-link" title="ganeti.backend._VerifyRestrictedCmd">_<wbr></wbr>Verify<wbr></wbr>Restricted<wbr></wbr>Cmd</a></code></td>
    <td>Verifies a whole restricted command and returns its executable filename.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifyRestrictedCmdDirectory" class="internal-link" title="ganeti.backend._VerifyRestrictedCmdDirectory">_<wbr></wbr>Verify<wbr></wbr>Restricted<wbr></wbr>Cmd<wbr></wbr>Directory</a></code></td>
    <td>Verifies restricted command directory.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifyRestrictedCmdName" class="internal-link" title="ganeti.backend._VerifyRestrictedCmdName">_<wbr></wbr>Verify<wbr></wbr>Restricted<wbr></wbr>Cmd<wbr></wbr>Name</a></code></td>
    <td>Verifies a restricted command name.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifySshClutter" class="internal-link" title="ganeti.backend._VerifySshClutter">_<wbr></wbr>Verify<wbr></wbr>Ssh<wbr></wbr>Clutter</a></code></td>
    <td>Verifies that the 'authorized_keys' files are not cluttered up.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_VerifySshSetup" class="internal-link" title="ganeti.backend._VerifySshSetup">_<wbr></wbr>Verify<wbr></wbr>Ssh<wbr></wbr>Setup</a></code></td>
    <td>Verifies the state of the SSH key files.</td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_ALLOWED_CLEAN_DIRS" class="internal-link" title="ganeti.backend._ALLOWED_CLEAN_DIRS">_ALLOWED<wbr></wbr>_CLEAN<wbr></wbr>_DIRS</a></code></td>
    <td>denotes which directories are accepted in the <code><a href="ganeti.backend.html#_CleanDirectory" class="internal-link" title="ganeti.backend._CleanDirectory">_CleanDirectory</a></code> function</td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_ALLOWED_UPLOAD_FILES" class="internal-link" title="ganeti.backend._ALLOWED_UPLOAD_FILES">_ALLOWED<wbr></wbr>_UPLOAD<wbr></wbr>_FILES</a></code></td>
    <td>denotes which files are accepted in the <code><a href="ganeti.backend.html#UploadFile" class="internal-link" title="ganeti.backend.UploadFile">UploadFile</a></code> function</td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_BOOT_ID_PATH" class="internal-link" title="ganeti.backend._BOOT_ID_PATH">_BOOT<wbr></wbr>_ID<wbr></wbr>_PATH</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_IES_CA_FILE" class="internal-link" title="ganeti.backend._IES_CA_FILE">_IES<wbr></wbr>_CA<wbr></wbr>_FILE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_IES_PID_FILE" class="internal-link" title="ganeti.backend._IES_PID_FILE">_IES<wbr></wbr>_PID<wbr></wbr>_FILE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_IES_STATUS_FILE" class="internal-link" title="ganeti.backend._IES_STATUS_FILE">_IES<wbr></wbr>_STATUS<wbr></wbr>_FILE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_LVSLINE_REGEX" class="internal-link" title="ganeti.backend._LVSLINE_REGEX">_LVSLINE<wbr></wbr>_REGEX</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_MASTER_START" class="internal-link" title="ganeti.backend._MASTER_START">_MASTER<wbr></wbr>_START</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_MASTER_STOP" class="internal-link" title="ganeti.backend._MASTER_STOP">_MASTER<wbr></wbr>_STOP</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_MAX_SSL_CERT_VALIDITY" class="internal-link" title="ganeti.backend._MAX_SSL_CERT_VALIDITY">_MAX<wbr></wbr>_SSL<wbr></wbr>_CERT<wbr></wbr>_VALIDITY</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_RCMD_INVALID_DELAY" class="internal-link" title="ganeti.backend._RCMD_INVALID_DELAY">_RCMD<wbr></wbr>_INVALID<wbr></wbr>_DELAY</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_RCMD_LOCK_TIMEOUT" class="internal-link" title="ganeti.backend._RCMD_LOCK_TIMEOUT">_RCMD<wbr></wbr>_LOCK<wbr></wbr>_TIMEOUT</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_RCMD_MAX_MODE" class="internal-link" title="ganeti.backend._RCMD_MAX_MODE">_RCMD<wbr></wbr>_MAX<wbr></wbr>_MODE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_STORAGE_TYPE_INFO_FN" class="internal-link" title="ganeti.backend._STORAGE_TYPE_INFO_FN">_STORAGE<wbr></wbr>_TYPE<wbr></wbr>_INFO<wbr></wbr>_FN</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_X509_CERT_FILE" class="internal-link" title="ganeti.backend._X509_CERT_FILE">_X509<wbr></wbr>_CERT<wbr></wbr>_FILE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="constant private">
    
    <td>Constant</td>
    <td><code><a href="#_X509_KEY_FILE" class="internal-link" title="ganeti.backend._X509_KEY_FILE">_X509<wbr></wbr>_KEY<wbr></wbr>_FILE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="basefunction">
  
  
  <a name="ganeti.backend.AbortImportExport">
    
  </a>
  <a name="AbortImportExport">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">AbortImportExport</span>(name):
    
    <a class="headerLink" href="#AbortImportExport" title="ganeti.backend.AbortImportExport">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Sends SIGTERM to a running import/export daemon.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.AcceptInstance">
    
  </a>
  <a name="AcceptInstance">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">AcceptInstance</span>(instance, info, target):
    
    <a class="headerLink" href="#AcceptInstance" title="ganeti.backend.AcceptInstance">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Prepare the node to accept an instance.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance definition</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info:</span>string/data (opaque)</td><td class="fieldArgDesc">migration information, from the source node</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">target:</span>string</td><td class="fieldArgDesc">target host (usually ip), on this node</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ActivateMasterIp">
    
  </a>
  <a name="ActivateMasterIp">
    
  </a>
  <div class="functionHeader">
    @<a href="#RunLocalHooks" class="internal-link" title="ganeti.backend.RunLocalHooks">RunLocalHooks</a>(<wbr></wbr><a href="ganeti._constants.html#FAKE_OP_MASTER_TURNUP" class="internal-link" title="ganeti._constants.FAKE_OP_MASTER_TURNUP">constants.FAKE_OP_MASTER_TURNUP</a>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">master-ip-turnup</span><span class="rst-variable-quote">'</span>, <wbr></wbr><a href="#_BuildMasterIpEnv" class="internal-link" title="ganeti.backend._BuildMasterIpEnv">_BuildMasterIpEnv</a>)<br />
    <span class="py-keyword">def</span> <span class="py-defname">ActivateMasterIp</span>(master_params, use_external_mip_script):
    
    <a class="headerLink" href="#ActivateMasterIp" title="ganeti.backend.ActivateMasterIp">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Activate the IP address of the master daemon.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_params:</span><code><a href="ganeti.objects.MasterNetworkParameters.html" class="internal-link" title="ganeti.objects.MasterNetworkParameters">objects.MasterNetworkParameters</a></code></td><td class="fieldArgDesc">network parameters of the master</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">use<wbr></wbr>_external<wbr></wbr>_mip<wbr></wbr>_script:</span>boolean</td><td class="fieldArgDesc">whether to use an external master IP address setup script</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>in case of errors during the IP startup</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.AddNodeSshKey">
    
  </a>
  <a name="AddNodeSshKey">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">AddNodeSshKey</span>(node_uuid, node_name, potential_master_candidates, to_authorized_keys=False, to_public_keys=False, get_public_keys=False, pub_key_file=<a href="ganeti.pathutils.html#SSH_PUB_KEYS" class="internal-link" title="ganeti.pathutils.SSH_PUB_KEYS">pathutils.SSH_PUB_KEYS</a>, ssconf_store=None, noded_cert_file=<a href="ganeti.pathutils.html#NODED_CERT_FILE" class="internal-link" title="ganeti.pathutils.NODED_CERT_FILE">pathutils.NODED_CERT_FILE</a>, run_cmd_fn=<a href="ganeti.ssh.html#RunSshCmdWithStdin" class="internal-link" title="ganeti.ssh.RunSshCmdWithStdin">ssh.RunSshCmdWithStdin</a>):
    
    <a class="headerLink" href="#AddNodeSshKey" title="ganeti.backend.AddNodeSshKey">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Distributes a node's public SSH key across the cluster.</p>
<p>Note that this function should only be executed on the master node, which then will copy the new node's key to all nodes in the cluster via SSH.</p>
<p>Also note: at least one of the flags <tt class="rst-docutils literal">to_authorized_keys</tt>, <tt class="rst-docutils literal">to_public_keys</tt>, and <tt class="rst-docutils literal">get_public_keys</tt> has to be set to <tt class="rst-docutils literal">True</tt> for the function to actually perform any actions.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_uuid:</span>str</td><td class="fieldArgDesc">the UUID of the node whose key is added</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">the name of the node whose key is added</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">potential<wbr></wbr>_master<wbr></wbr>_candidates:</span>list of str</td><td class="fieldArgDesc">list of node names of potential master candidates; this should match the list of uuids in the public key file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">to<wbr></wbr>_authorized<wbr></wbr>_keys:</span>boolean</td><td class="fieldArgDesc">whether the key should be added to the <tt class="rst-docutils literal">authorized_keys</tt> file of all nodes</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">to<wbr></wbr>_public<wbr></wbr>_keys:</span>boolean</td><td class="fieldArgDesc">whether the keys should be added to the public key file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">get<wbr></wbr>_public<wbr></wbr>_keys:</span>boolean</td><td class="fieldArgDesc">whether the node should add the clusters' public keys to its {ganeti_pub_keys} file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">pub<wbr></wbr>_key<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssconf<wbr></wbr>_store</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">noded<wbr></wbr>_cert<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">run<wbr></wbr>_cmd<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.AddNodeSshKeyBulk">
    
  </a>
  <a name="AddNodeSshKeyBulk">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">AddNodeSshKeyBulk</span>(node_list, potential_master_candidates, pub_key_file=<a href="ganeti.pathutils.html#SSH_PUB_KEYS" class="internal-link" title="ganeti.pathutils.SSH_PUB_KEYS">pathutils.SSH_PUB_KEYS</a>, ssconf_store=None, noded_cert_file=<a href="ganeti.pathutils.html#NODED_CERT_FILE" class="internal-link" title="ganeti.pathutils.NODED_CERT_FILE">pathutils.NODED_CERT_FILE</a>, run_cmd_fn=<a href="ganeti.ssh.html#RunSshCmdWithStdin" class="internal-link" title="ganeti.ssh.RunSshCmdWithStdin">ssh.RunSshCmdWithStdin</a>):
    
    <a class="headerLink" href="#AddNodeSshKeyBulk" title="ganeti.backend.AddNodeSshKeyBulk">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Distributes a node's public SSH key across the cluster.</p>
<p>Note that this function should only be executed on the master node, which then will copy the new node's key to all nodes in the cluster via SSH.</p>
<p>Also note: at least one of the flags <tt class="rst-docutils literal">to_authorized_keys</tt>, <tt class="rst-docutils literal">to_public_keys</tt>, and <tt class="rst-docutils literal">get_public_keys</tt> has to be set to <tt class="rst-docutils literal">True</tt> for the function to actually perform any actions.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_list:</span>list of SshAddNodeInfo tuples</td><td class="fieldArgDesc">list of tuples containing the necessary node information for adding their keys</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">potential<wbr></wbr>_master<wbr></wbr>_candidates:</span>list of str</td><td class="fieldArgDesc">list of node names of potential master candidates; this should match the list of uuids in the public key file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">pub<wbr></wbr>_key<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssconf<wbr></wbr>_store</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">noded<wbr></wbr>_cert<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">run<wbr></wbr>_cmd<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevAddchildren">
    
  </a>
  <a name="BlockdevAddchildren">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevAddchildren</span>(parent_cdev, new_cdevs):
    
    <a class="headerLink" href="#BlockdevAddchildren" title="ganeti.backend.BlockdevAddchildren">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Extend a mirrored block device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">parent<wbr></wbr>_cdev:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk to which we should add children</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">new<wbr></wbr>_cdevs:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the list of children which we should add</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevAssemble">
    
  </a>
  <a name="BlockdevAssemble">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevAssemble</span>(disk, instance, as_primary, idx):
    
    <a class="headerLink" href="#BlockdevAssemble" title="ganeti.backend.BlockdevAssemble">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Activate a block device for an instance.</p>
<p>This is a wrapper over _RecursiveAssembleBD.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">str or boolean</td><td class="fieldArgDesc">a tuple with the <tt class="rst-docutils literal"><span class="pre">/dev/...</span></tt> path and the created symlink for primary nodes, and (<tt class="rst-docutils literal">True</tt>, <tt class="rst-docutils literal">True</tt>) for secondary nodes</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevClose">
    
  </a>
  <a name="BlockdevClose">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevClose</span>(instance_name, disks):
    
    <a class="headerLink" href="#BlockdevClose" title="ganeti.backend.BlockdevClose">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Closes the given block devices.</p>
<p>This means they will be switched to secondary mode (in case of DRBD).</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_name</span></td><td class="fieldArgDesc">if the argument is not empty, the symlinks of this instance will be removed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the list of disks to be closed</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple (success, message)</td><td class="fieldArgDesc">a tuple of success and message, where success indicates the succes of the operation, and message which will contain the error details in case we failed</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevConvert">
    
  </a>
  <a name="BlockdevConvert">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevConvert</span>(src_disk, target_disk):
    
    <a class="headerLink" href="#BlockdevConvert" title="ganeti.backend.BlockdevConvert">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Copies data from source block device to target.</p>
<p>This function gets the export and import commands from the source and target devices respectively, and then concatenates them to a single command using a pipe ("|"). Finally, executes the unified command that will transfer the data between the devices during the disk template conversion operation.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">src<wbr></wbr>_disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk object we want to copy from</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">target<wbr></wbr>_disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk object we want to copy to</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">NoneType</td><td class="fieldArgDesc">None</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>in case of failure</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevCreate">
    
  </a>
  <a name="BlockdevCreate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevCreate</span>(disk, size, owner, on_primary, info, excl_stor):
    
    <a class="headerLink" href="#BlockdevCreate" title="ganeti.backend.BlockdevCreate">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Creates a block device for an instance.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the object describing the disk we should create</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">size:</span>int</td><td class="fieldArgDesc">the size of the physical underlying device, in MiB</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">owner:</span>str</td><td class="fieldArgDesc">the name of the instance for which disk is created, used for device cache data</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">on<wbr></wbr>_primary:</span>boolean</td><td class="fieldArgDesc">indicates if it is the primary node or not</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info:</span>string</td><td class="fieldArgDesc">string that will be sent to the physical device creation, used for example to set (LVM) tags on LVs</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">excl<wbr></wbr>_stor:</span>boolean</td><td class="fieldArgDesc">Whether exclusive_storage is active</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">the new unique_id of the device (this can sometime be computed only after creation), or None. On secondary nodes, it's not required to return anything.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevFind">
    
  </a>
  <a name="BlockdevFind">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevFind</span>(disk):
    
    <a class="headerLink" href="#BlockdevFind" title="ganeti.backend.BlockdevFind">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check if a device is activated.</p>
<p>If it is, return information about the real device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk to find</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None or objects.BlockDevStatus</td><td class="fieldArgDesc">None if the disk cannot be found, otherwise a the current information</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevGetdimensions">
    
  </a>
  <a name="BlockdevGetdimensions">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevGetdimensions</span>(disks):
    
    <a class="headerLink" href="#BlockdevGetdimensions" title="ganeti.backend.BlockdevGetdimensions">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Computes the size of the given disks.</p>
<p>If a disk is not found, returns None instead.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the list of disk to compute the size for</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list</td><td class="fieldArgDesc">list with elements None if the disk cannot be found, otherwise the pair (size, spindles), where spindles is None if the device doesn't support that</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevGetmirrorstatus">
    
  </a>
  <a name="BlockdevGetmirrorstatus">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevGetmirrorstatus</span>(disks):
    
    <a class="headerLink" href="#BlockdevGetmirrorstatus" title="ganeti.backend.BlockdevGetmirrorstatus">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Get the mirroring status of a list of devices.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the list of disks which we should query</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">disk</td><td class="fieldArgDesc">List of <code><a href="ganeti.objects.BlockDevStatus.html" class="internal-link" title="ganeti.objects.BlockDevStatus">objects.BlockDevStatus</a></code>, one for each disk</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.errors.BlockDeviceError.html" class="internal-link" title="ganeti.errors.BlockDeviceError">errors.BlockDeviceError</a></code></td><td>if any of the disks cannot be found</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevGetmirrorstatusMulti">
    
  </a>
  <a name="BlockdevGetmirrorstatusMulti">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevGetmirrorstatusMulti</span>(disks):
    
    <a class="headerLink" href="#BlockdevGetmirrorstatusMulti" title="ganeti.backend.BlockdevGetmirrorstatusMulti">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Get the mirroring status of a list of devices.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the list of disks which we should query</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">disk</td><td class="fieldArgDesc">List of tuples, (bool, status), one for each disk; bool denotes success/failure, status is <code><a href="ganeti.objects.BlockDevStatus.html" class="internal-link" title="ganeti.objects.BlockDevStatus">objects.BlockDevStatus</a></code> on success, string otherwise</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevGrow">
    
  </a>
  <a name="BlockdevGrow">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevGrow</span>(disk, amount, dryrun, backingstore, excl_stor):
    
    <a class="headerLink" href="#BlockdevGrow" title="ganeti.backend.BlockdevGrow">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Grow a stack of block devices.</p>
<p>This function is called recursively, with the childrens being the first ones to resize.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk to be grown</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">amount:</span>integer</td><td class="fieldArgDesc">the amount (in mebibytes) to grow with</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">dryrun:</span>boolean</td><td class="fieldArgDesc">whether to execute the operation in simulation mode only, without actually increasing the size</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">backingstore</span></td><td class="fieldArgDesc">whether to execute the operation on backing storage only, or on "logical" storage only; e.g. DRBD is logical storage, whereas LVM, file, RBD are backing storage</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">excl<wbr></wbr>_stor:</span>boolean</td><td class="fieldArgDesc">Whether exclusive_storage is active</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">(status, result)</td><td class="fieldArgDesc">a tuple with the status of the operation (True/False), and the errors message if status is False</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevImage">
    
  </a>
  <a name="BlockdevImage">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevImage</span>(disk, image, size):
    
    <a class="headerLink" href="#BlockdevImage" title="ganeti.backend.BlockdevImage">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Images a block device either by dumping a local file or downloading a URL.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk object we want to image</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">image:</span>string</td><td class="fieldArgDesc">file path to the disk image be dumped</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">size:</span>int</td><td class="fieldArgDesc">The size in MiB to write</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">NoneType</td><td class="fieldArgDesc">None</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>in case of failure</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevOpen">
    
  </a>
  <a name="BlockdevOpen">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevOpen</span>(instance_name, disks, exclusive):
    
    <a class="headerLink" href="#BlockdevOpen" title="ganeti.backend.BlockdevOpen">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Opens the given block devices.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevPauseResumeSync">
    
  </a>
  <a name="BlockdevPauseResumeSync">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevPauseResumeSync</span>(disks, pause):
    
    <a class="headerLink" href="#BlockdevPauseResumeSync" title="ganeti.backend.BlockdevPauseResumeSync">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Pause or resume the sync of the block device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disks object we want to pause/resume</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">pause:</span>bool</td><td class="fieldArgDesc">Wheater to pause or resume</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevRemove">
    
  </a>
  <a name="BlockdevRemove">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevRemove</span>(disk):
    
    <a class="headerLink" href="#BlockdevRemove" title="ganeti.backend.BlockdevRemove">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Remove a block device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk object we should remove</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">boolean</td><td class="fieldArgDesc">the success of the operation</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Note</td></tr><tr><td colspan="2">This is intended to be called recursively.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevRemovechildren">
    
  </a>
  <a name="BlockdevRemovechildren">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevRemovechildren</span>(parent_cdev, new_cdevs):
    
    <a class="headerLink" href="#BlockdevRemovechildren" title="ganeti.backend.BlockdevRemovechildren">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Shrink a mirrored block device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">parent<wbr></wbr>_cdev:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk from which we should remove children</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">new<wbr></wbr>_cdevs:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the list of children which we should remove</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevRename">
    
  </a>
  <a name="BlockdevRename">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevRename</span>(devlist):
    
    <a class="headerLink" href="#BlockdevRename" title="ganeti.backend.BlockdevRename">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Rename a list of block devices.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">devlist:</span>list of tuples</td><td class="fieldArgDesc">list of tuples of the form  (disk, new_unique_id); disk is an <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code> object describing the current disk, and new unique_id is the name we rename it to</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">boolean</td><td class="fieldArgDesc">True if all renames succeeded, False otherwise</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevSetInfo">
    
  </a>
  <a name="BlockdevSetInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevSetInfo</span>(disk, info):
    
    <a class="headerLink" href="#BlockdevSetInfo" title="ganeti.backend.BlockdevSetInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Sets 'metadata' information on block devices.</p>
<p>This function sets 'info' metadata on block devices. Initial information is set at device creation; this function should be used for example after renames.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk to be grown</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info:</span>string</td><td class="fieldArgDesc">new 'info' metadata</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">(status, result)</td><td class="fieldArgDesc">a tuple with the status of the operation (True/False), and the errors message if status is False</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevShutdown">
    
  </a>
  <a name="BlockdevShutdown">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevShutdown</span>(disk):
    
    <a class="headerLink" href="#BlockdevShutdown" title="ganeti.backend.BlockdevShutdown">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Shut down a block device.</p>
<p>First, if the device is assembled (Attach() is successful), then the device is shutdown. Then the children of the device are shutdown.</p>
<p>This function is called recursively. Note that we don't cache the children or such, as oppossed to assemble, shutdown of different devices doesn't require that the upper device was active.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the description of the disk we should shutdown</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevSnapshot">
    
  </a>
  <a name="BlockdevSnapshot">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevSnapshot</span>(disk, snap_name, snap_size):
    
    <a class="headerLink" href="#BlockdevSnapshot" title="ganeti.backend.BlockdevSnapshot">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Create a snapshot copy of a block device.</p>
<p>This function is called recursively, and the snapshot is actually created just for the leaf lvm backend device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk to be snapshotted</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">snap<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">the name of the snapshot</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">snap<wbr></wbr>_size:</span>int</td><td class="fieldArgDesc">the size of the snapshot</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">string</td><td class="fieldArgDesc">snapshot disk ID as (vg, lv)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BlockdevWipe">
    
  </a>
  <a name="BlockdevWipe">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BlockdevWipe</span>(disk, offset, size):
    
    <a class="headerLink" href="#BlockdevWipe" title="ganeti.backend.BlockdevWipe">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Wipes a block device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk object we want to wipe</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">offset:</span>int</td><td class="fieldArgDesc">The offset in MiB in the file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">size:</span>int</td><td class="fieldArgDesc">The size in MiB to write</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.BridgesExist">
    
  </a>
  <a name="BridgesExist">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">BridgesExist</span>(bridges_list):
    
    <a class="headerLink" href="#BridgesExist" title="ganeti.backend.BridgesExist">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check if a list of bridges exist on the current node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">boolean</td><td class="fieldArgDesc"><tt class="rst-docutils literal">True</tt> if all of them exist, <tt class="rst-docutils literal">False</tt> otherwise</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ChangeMasterNetmask">
    
  </a>
  <a name="ChangeMasterNetmask">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ChangeMasterNetmask</span>(old_netmask, netmask, master_ip, master_netdev):
    
    <a class="headerLink" href="#ChangeMasterNetmask" title="ganeti.backend.ChangeMasterNetmask">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Change the netmask of the master IP.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">old<wbr></wbr>_netmask</span></td><td class="fieldArgDesc">the old value of the netmask</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">netmask</span></td><td class="fieldArgDesc">the new value of the netmask</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_ip</span></td><td class="fieldArgDesc">the master IP</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_netdev</span></td><td class="fieldArgDesc">the master network device</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.CleanupImportExport">
    
  </a>
  <a name="CleanupImportExport">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CleanupImportExport</span>(name):
    
    <a class="headerLink" href="#CleanupImportExport" title="ganeti.backend.CleanupImportExport">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Cleanup after an import or export.</p>
<p>If the import/export daemon is still running it's killed. Afterwards the whole status directory is removed.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ConfigureOVS">
    
  </a>
  <a name="ConfigureOVS">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ConfigureOVS</span>(ovs_name, ovs_link):
    
    <a class="headerLink" href="#ConfigureOVS" title="ganeti.backend.ConfigureOVS">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Creates a OpenvSwitch on the node.</p>
<p>This function sets up a OpenvSwitch on the node with given name nad connects it via a given eth device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ovs<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">Name of the OpenvSwitch to create.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ovs<wbr></wbr>_link:</span>None or string</td><td class="fieldArgDesc">Ethernet device for outside connection (can be missing)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.CreateFileStorageDir">
    
  </a>
  <a name="CreateFileStorageDir">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CreateFileStorageDir</span>(file_storage_dir):
    
    <a class="headerLink" href="#CreateFileStorageDir" title="ganeti.backend.CreateFileStorageDir">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Create file storage directory.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">file<wbr></wbr>_storage<wbr></wbr>_dir:</span>str</td><td class="fieldArgDesc">directory to create</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple</td><td class="fieldArgDesc">tuple with first element a boolean indicating wheter dir creation was successful or not</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.CreateX509Certificate">
    
  </a>
  <a name="CreateX509Certificate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">CreateX509Certificate</span>(validity, cryptodir=<a href="ganeti.pathutils.html#CRYPTO_KEYS_DIR" class="internal-link" title="ganeti.pathutils.CRYPTO_KEYS_DIR">pathutils.CRYPTO_KEYS_DIR</a>):
    
    <a class="headerLink" href="#CreateX509Certificate" title="ganeti.backend.CreateX509Certificate">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Creates a new X509 certificate for SSL/TLS.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">validity:</span>int</td><td class="fieldArgDesc">Validity in seconds</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cryptodir</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple; (string, string)</td><td class="fieldArgDesc">Certificate name and public part</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.DeactivateMasterIp">
    
  </a>
  <a name="DeactivateMasterIp">
    
  </a>
  <div class="functionHeader">
    @<a href="#RunLocalHooks" class="internal-link" title="ganeti.backend.RunLocalHooks">RunLocalHooks</a>(<wbr></wbr><a href="ganeti._constants.html#FAKE_OP_MASTER_TURNDOWN" class="internal-link" title="ganeti._constants.FAKE_OP_MASTER_TURNDOWN">constants.FAKE_OP_MASTER_TURNDOWN</a>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">master-ip-turndown</span><span class="rst-variable-quote">'</span>, <wbr></wbr><a href="#_BuildMasterIpEnv" class="internal-link" title="ganeti.backend._BuildMasterIpEnv">_BuildMasterIpEnv</a>)<br />
    <span class="py-keyword">def</span> <span class="py-defname">DeactivateMasterIp</span>(master_params, use_external_mip_script):
    
    <a class="headerLink" href="#DeactivateMasterIp" title="ganeti.backend.DeactivateMasterIp">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Deactivate the master IP on this node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_params:</span><code><a href="ganeti.objects.MasterNetworkParameters.html" class="internal-link" title="ganeti.objects.MasterNetworkParameters">objects.MasterNetworkParameters</a></code></td><td class="fieldArgDesc">network parameters of the master</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">use<wbr></wbr>_external<wbr></wbr>_mip<wbr></wbr>_script:</span>boolean</td><td class="fieldArgDesc">whether to use an external master IP address setup script</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>in case of errors during the IP turndown</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.DemoteFromMC">
    
  </a>
  <a name="DemoteFromMC">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">DemoteFromMC</span>():
    
    <a class="headerLink" href="#DemoteFromMC" title="ganeti.backend.DemoteFromMC">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Demotes the current node from master candidate role.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.DiagnoseExtStorage">
    
  </a>
  <a name="DiagnoseExtStorage">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">DiagnoseExtStorage</span>(top_dirs=None):
    
    <a class="headerLink" href="#DiagnoseExtStorage" title="ganeti.backend.DiagnoseExtStorage">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute the validity for all ExtStorage Providers.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">top<wbr></wbr>_dirs:</span>list</td><td class="fieldArgDesc">the list of directories in which to search (if not given defaults to <code><a href="ganeti._constants.html#ES_SEARCH_PATH" class="internal-link" title="ganeti._constants.ES_SEARCH_PATH">pathutils.ES_SEARCH_PATH</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list of <code><a href="ganeti.objects.ExtStorage.html" class="internal-link" title="ganeti.objects.ExtStorage">objects.ExtStorage</a></code></td><td class="fieldArgDesc"><p>a list of tuples (name, path, status, diagnose, parameters) for all (potential) ExtStorage Providers under all search paths, where:</p>
<ul class="rst-simple">
<li>name is the (potential) ExtStorage Provider</li>
<li>path is the full path to the ExtStorage Provider</li>
<li>status True/False is the validity of the ExtStorage Provider</li>
<li>diagnose is the error message for an invalid ExtStorage Provider, otherwise empty</li>
<li>parameters is a list of (name, help) parameters, if any</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.DiagnoseOS">
    
  </a>
  <a name="DiagnoseOS">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">DiagnoseOS</span>(top_dirs=None):
    
    <a class="headerLink" href="#DiagnoseOS" title="ganeti.backend.DiagnoseOS">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute the validity for all OSes.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">top<wbr></wbr>_dirs:</span>list</td><td class="fieldArgDesc">the list of directories in which to search (if not given defaults to <code><a href="ganeti._constants.html#OS_SEARCH_PATH" class="internal-link" title="ganeti._constants.OS_SEARCH_PATH">pathutils.OS_SEARCH_PATH</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list of <code><a href="ganeti.objects.OS.html" class="internal-link" title="ganeti.objects.OS">objects.OS</a></code></td><td class="fieldArgDesc"><p>a list of tuples (name, path, status, diagnose, variants, parameters, api_version) for all (potential) OSes under all search paths, where:</p>
<ul class="rst-simple">
<li>name is the (potential) OS name</li>
<li>path is the full path to the OS</li>
<li>status True/False is the validity of the OS</li>
<li>diagnose is the error message for an invalid OS, otherwise empty</li>
<li>variants is a list of supported OS variants, if any</li>
<li>parameters is a list of (name, help) parameters, if any</li>
<li>api_version is a list of support OS API versions</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.DrbdAttachNet">
    
  </a>
  <a name="DrbdAttachNet">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">DrbdAttachNet</span>(disks, multimaster):
    
    <a class="headerLink" href="#DrbdAttachNet" title="ganeti.backend.DrbdAttachNet">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Attaches the network on a list of drbd devices.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.DrbdDisconnectNet">
    
  </a>
  <a name="DrbdDisconnectNet">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">DrbdDisconnectNet</span>(disks):
    
    <a class="headerLink" href="#DrbdDisconnectNet" title="ganeti.backend.DrbdDisconnectNet">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Disconnects the network on a list of drbd devices.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.DrbdNeedsActivation">
    
  </a>
  <a name="DrbdNeedsActivation">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">DrbdNeedsActivation</span>(disks):
    
    <a class="headerLink" href="#DrbdNeedsActivation" title="ganeti.backend.DrbdNeedsActivation">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Checks which of the passed disks needs activation and returns their UUIDs.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.DrbdWaitSync">
    
  </a>
  <a name="DrbdWaitSync">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">DrbdWaitSync</span>(disks):
    
    <a class="headerLink" href="#DrbdWaitSync" title="ganeti.backend.DrbdWaitSync">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Wait until DRBDs have synchronized.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.EnsureDaemon">
    
  </a>
  <a name="EnsureDaemon">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">EnsureDaemon</span>(daemon_name, run):
    
    <a class="headerLink" href="#EnsureDaemon" title="ganeti.backend.EnsureDaemon">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Ensures the given daemon is running or stopped.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">daemon<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">name of the daemon (e.g., constants.KVMD)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">run:</span>bool</td><td class="fieldArgDesc">whether to start or stop the daemon</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">bool</td><td class="fieldArgDesc">'True' if daemon successfully started/stopped, 'False' otherwise</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.EtcHostsModify">
    
  </a>
  <a name="EtcHostsModify">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">EtcHostsModify</span>(mode, host, ip):
    
    <a class="headerLink" href="#EtcHostsModify" title="ganeti.backend.EtcHostsModify">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Modify a host entry in /etc/hosts.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mode</span></td><td class="fieldArgDesc">The mode to operate. Either add or remove entry</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">host</span></td><td class="fieldArgDesc">The host to operate on</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ip</span></td><td class="fieldArgDesc">The ip associated with the entry</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ExportInfo">
    
  </a>
  <a name="ExportInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ExportInfo</span>(dest):
    
    <a class="headerLink" href="#ExportInfo" title="ganeti.backend.ExportInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Get export configuration information.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">dest:</span>str</td><td class="fieldArgDesc">directory containing the export</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.objects.SerializableConfigParser.html" class="internal-link" title="ganeti.objects.SerializableConfigParser">objects.SerializableConfigParser</a></code></td><td class="fieldArgDesc">a serializable config file containing the export info</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ExportOS">
    
  </a>
  <a name="ExportOS">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ExportOS</span>(instance, override_env):
    
    <a class="headerLink" href="#ExportOS" title="ganeti.backend.ExportOS">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Creates a GZIPed tarball with an OS definition and environment.</p>
<p>The archive contains a file with the environment variables needed by the OS scripts.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">instance for which the OS definition is exported</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">override<wbr></wbr>_env:</span>dict of string to string</td><td class="fieldArgDesc">if supplied, it overrides the environment on a key-by-key basis that is part of the archive</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">string</td><td class="fieldArgDesc">filepath of the archive</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.FinalizeExport">
    
  </a>
  <a name="FinalizeExport">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">FinalizeExport</span>(instance, snap_disks):
    
    <a class="headerLink" href="#FinalizeExport" title="ganeti.backend.FinalizeExport">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Write out the export configuration information.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance which we export, used for saving configuration</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">snap<wbr></wbr>_disks:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">list of snapshot block devices, which will be used to get the actual name of the dump file</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.FinalizeMigrationDst">
    
  </a>
  <a name="FinalizeMigrationDst">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">FinalizeMigrationDst</span>(instance, info, success):
    
    <a class="headerLink" href="#FinalizeMigrationDst" title="ganeti.backend.FinalizeMigrationDst">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Finalize any preparation to accept an instance.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance definition</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info:</span>string/data (opaque)</td><td class="fieldArgDesc">migration information, from the source node</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">success:</span>boolean</td><td class="fieldArgDesc">whether the migration was a success or a failure</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.FinalizeMigrationSource">
    
  </a>
  <a name="FinalizeMigrationSource">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">FinalizeMigrationSource</span>(instance, success, live):
    
    <a class="headerLink" href="#FinalizeMigrationSource" title="ganeti.backend.FinalizeMigrationSource">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Finalize the instance migration on the source node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance definition of the migrated instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">success:</span>bool</td><td class="fieldArgDesc">whether the migration succeeded or not</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">live:</span>bool</td><td class="fieldArgDesc">whether the user requested a live migration or not</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>If the execution fails for some reason</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetAllInstancesInfo">
    
  </a>
  <a name="GetAllInstancesInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetAllInstancesInfo</span>(hypervisor_list, all_hvparams):
    
    <a class="headerLink" href="#GetAllInstancesInfo" title="ganeti.backend.GetAllInstancesInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Gather data about all instances.</p>
<p>This is the equivalent of <code><a href="#GetInstanceInfo" class="internal-link" title="ganeti.backend.GetInstanceInfo">GetInstanceInfo</a></code>, except that it computes data for all instances at once, thus being faster if one needs data about more than one instance.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hypervisor<wbr></wbr>_list:</span>list</td><td class="fieldArgDesc">list of hypervisors to query for instance data</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">all<wbr></wbr>_hvparams:</span>dict of dict of strings</td><td class="fieldArgDesc">mapping of hypervisor names to hvparams</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc"><p>dictionary of instance: data, with data having the following keys:</p>
<ul class="rst-simple">
<li>memory: memory size of instance (int)</li>
<li>state: xen state of instance (string)</li>
<li>time: cpu time of instance (float)</li>
<li>vcpus: the number of vcpus</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetBlockDevSizes">
    
  </a>
  <a name="GetBlockDevSizes">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetBlockDevSizes</span>(devices):
    
    <a class="headerLink" href="#GetBlockDevSizes" title="ganeti.backend.GetBlockDevSizes">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Return the size of the given block devices</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">devices:</span>list</td><td class="fieldArgDesc">list of block device nodes to query</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc"><p>dictionary of all block devices under /dev (key). The value is their size in MiB.</p>
<p>{'/dev/disk/by-uuid/123456-12321231-312312-312': 124}</p>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetCryptoTokens">
    
  </a>
  <a name="GetCryptoTokens">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetCryptoTokens</span>(token_requests):
    
    <a class="headerLink" href="#GetCryptoTokens" title="ganeti.backend.GetCryptoTokens">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Perform actions on the node's cryptographic tokens.</p>
<p>Token types can be 'ssl' or 'ssh'. So far only some actions are implemented for 'ssl'. Action 'get' returns the digest of the public client ssl certificate. Action 'create' creates a new client certificate and private key and also returns the digest of the certificate. The third parameter of a token request are optional parameters for the actions, so far only the filename is supported.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">token<wbr></wbr>_requests:</span>list of tuples of (string, string, dict), where the first string is in constants.CRYPTO_TYPES, the second in constants.CRYPTO_ACTIONS. The third parameter is a dictionary of string to string.</td><td class="fieldArgDesc">list of requests of cryptographic tokens and actions to perform on them. The actions come with a dictionary of options.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list of tuples (string, string)</td><td class="fieldArgDesc">list of tuples of the token type and the public crypto token</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetDrbdUsermodeHelper">
    
  </a>
  <a name="GetDrbdUsermodeHelper">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetDrbdUsermodeHelper</span>():
    
    <a class="headerLink" href="#GetDrbdUsermodeHelper" title="ganeti.backend.GetDrbdUsermodeHelper">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Returns DRBD usermode helper currently configured.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetFileInfo">
    
  </a>
  <a name="GetFileInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetFileInfo</span>(file_path):
    
    <a class="headerLink" href="#GetFileInfo" title="ganeti.backend.GetFileInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Checks if a file exists and returns information related to it.</p>
<p>Currently returned information:</p>
<ul class="rst-simple">
<li>file size: int, size in bytes</li>
</ul>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">file<wbr></wbr>_path:</span>string</td><td class="fieldArgDesc">Name of file to examine.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple of bool, dict</td><td class="fieldArgDesc">Whether the file exists, and a dictionary of information about the file gathered by os.stat.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetImportExportStatus">
    
  </a>
  <a name="GetImportExportStatus">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetImportExportStatus</span>(names):
    
    <a class="headerLink" href="#GetImportExportStatus" title="ganeti.backend.GetImportExportStatus">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Returns import/export daemon status.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">names:</span>sequence</td><td class="fieldArgDesc">List of names</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">List of dicts</td><td class="fieldArgDesc">Returns a list of the state of each named import/export or None if a status couldn't be read</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetInstanceConsoleInfo">
    
  </a>
  <a name="GetInstanceConsoleInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetInstanceConsoleInfo</span>(instance_param_dict, get_hv_fn=<a href="ganeti.hypervisor.html#GetHypervisor" class="internal-link" title="ganeti.hypervisor.GetHypervisor">hypervisor.GetHypervisor</a>):
    
    <a class="headerLink" href="#GetInstanceConsoleInfo" title="ganeti.backend.GetInstanceConsoleInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Gather data about the console access of a set of instances of this node.</p>
<p>This function assumes that the caller already knows which instances are on this node, by calling a function such as <code><a href="#GetAllInstancesInfo" class="internal-link" title="ganeti.backend.GetAllInstancesInfo">GetAllInstancesInfo</a></code> or <code><a href="#GetInstanceList" class="internal-link" title="ganeti.backend.GetInstanceList">GetInstanceList</a></code>.</p>
<p>For every instance, a large amount of configuration data needs to be provided to the hypervisor interface in order to receive the console information. Whether this could or should be cut down can be discussed. The information is provided in a dictionary indexed by instance name, allowing any number of instance queries to be done.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_param<wbr></wbr>_dict:</span>dict of string to tuple of dictionaries, where the dictionaries represent: <code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code>, <code><a href="ganeti.objects.Node.html" class="internal-link" title="ganeti.objects.Node">objects.Node</a></code>, <code><a href="ganeti.objects.NodeGroup.html" class="internal-link" title="ganeti.objects.NodeGroup">objects.NodeGroup</a></code>, HvParams, BeParams</td><td class="fieldArgDesc">mapping of instance name to parameters necessary for console information retrieval</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">get<wbr></wbr>_hv<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc"><p>dictionary of instance: data, with data having the following keys:</p>
<ul class="rst-simple">
<li>instance: instance name</li>
<li>kind: console kind</li>
<li>message: used with kind == CONS_MESSAGE, indicates console to be unavailable, supplies error message</li>
<li>host: host to connect to</li>
<li>port: port to use</li>
<li>user: user for login</li>
<li>command: the command, broken into parts as an array</li>
<li>display: unknown, potentially unused?</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetInstanceInfo">
    
  </a>
  <a name="GetInstanceInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetInstanceInfo</span>(instance, hname, hvparams=None):
    
    <a class="headerLink" href="#GetInstanceInfo" title="ganeti.backend.GetInstanceInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Gives back the information about an instance as a dictionary.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span>string</td><td class="fieldArgDesc">the instance name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hname:</span>string</td><td class="fieldArgDesc">the hypervisor type of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hvparams:</span>dict of strings</td><td class="fieldArgDesc">the instance's hvparams</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc"><p>dictionary with the following keys:</p>
<ul class="rst-simple">
<li>memory: memory size of instance (int)</li>
<li>state: state of instance (HvInstanceState)</li>
<li>time: cpu time of instance (float)</li>
<li>vcpus: the number of vcpus (int)</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetInstanceList">
    
  </a>
  <a name="GetInstanceList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetInstanceList</span>(hypervisor_list, all_hvparams=None, get_hv_fn=<a href="ganeti.hypervisor.html#GetHypervisor" class="internal-link" title="ganeti.hypervisor.GetHypervisor">hypervisor.GetHypervisor</a>):
    
    <a class="headerLink" href="#GetInstanceList" title="ganeti.backend.GetInstanceList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Provides a list of instances.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hypervisor<wbr></wbr>_list:</span>list</td><td class="fieldArgDesc">the list of hypervisors to query information</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">all<wbr></wbr>_hvparams:</span>dict of dict of strings</td><td class="fieldArgDesc">a dictionary mapping hypervisor types to respective cluster-wide hypervisor parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">get<wbr></wbr>_hv<wbr></wbr>_fn:</span>function</td><td class="fieldArgDesc">function that returns a hypervisor for the given hypervisor name; optional parameter to increase testability</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list</td><td class="fieldArgDesc"><p>a list of all running instances on the current node</p>
<ul class="rst-simple">
<li>instance1.example.com</li>
<li>instance2.example.com</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetInstanceListForHypervisor">
    
  </a>
  <a name="GetInstanceListForHypervisor">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetInstanceListForHypervisor</span>(hname, hvparams=None, get_hv_fn=<a href="ganeti.hypervisor.html#GetHypervisor" class="internal-link" title="ganeti.hypervisor.GetHypervisor">hypervisor.GetHypervisor</a>):
    
    <a class="headerLink" href="#GetInstanceListForHypervisor" title="ganeti.backend.GetInstanceListForHypervisor">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Provides a list of instances of the given hypervisor.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hname:</span>string</td><td class="fieldArgDesc">name of the hypervisor</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hvparams:</span>dict of strings</td><td class="fieldArgDesc">hypervisor parameters for the given hypervisor</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">get<wbr></wbr>_hv<wbr></wbr>_fn:</span>function</td><td class="fieldArgDesc">function that returns a hypervisor for the given hypervisor name; optional parameter to increase testability</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list</td><td class="fieldArgDesc"><p>a list of all running instances on the current node</p>
<ul class="rst-simple">
<li>instance1.example.com</li>
<li>instance2.example.com</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetInstanceMigratable">
    
  </a>
  <a name="GetInstanceMigratable">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetInstanceMigratable</span>(instance):
    
    <a class="headerLink" href="#GetInstanceMigratable" title="ganeti.backend.GetInstanceMigratable">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Computes whether an instance can be migrated.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">object representing the instance to be checked.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple</td><td class="fieldArgDesc"><p>tuple of (result, description) where:</p>
<ul class="rst-simple">
<li>result: whether the instance can be migrated or not</li>
<li>description: a description of the issue, if relevant</li>
</ul>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetMasterNodeName">
    
  </a>
  <a name="GetMasterNodeName">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetMasterNodeName</span>():
    
    <a class="headerLink" href="#GetMasterNodeName" title="ganeti.backend.GetMasterNodeName">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Returns the master node name.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">string</td><td class="fieldArgDesc">name of the master node</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>in case of errors</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetMigrationStatus">
    
  </a>
  <a name="GetMigrationStatus">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetMigrationStatus</span>(instance):
    
    <a class="headerLink" href="#GetMigrationStatus" title="ganeti.backend.GetMigrationStatus">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Get the migration status</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance that is being migrated</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.objects.MigrationStatus.html" class="internal-link" title="ganeti.objects.MigrationStatus">objects.MigrationStatus</a></code></td><td class="fieldArgDesc">the status of the current migration (one of <code><a href="ganeti._constants.html#HV_MIGRATION_VALID_STATUSES" class="internal-link" title="ganeti._constants.HV_MIGRATION_VALID_STATUSES">constants.HV_MIGRATION_VALID_STATUSES</a></code>), plus any additional progress info that can be retrieved from the hypervisor</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>If the migration status cannot be retrieved</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetNodeInfo">
    
  </a>
  <a name="GetNodeInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetNodeInfo</span>(storage_units, hv_specs):
    
    <a class="headerLink" href="#GetNodeInfo" title="ganeti.backend.GetNodeInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Gives back a hash with different information about the node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">storage<wbr></wbr>_units:</span>list of tuples (string, string, list)</td><td class="fieldArgDesc">List of tuples (storage unit, identifier, parameters) to ask for disk space information. In case of lvm-vg, the identifier is the VG name. The parameters can contain additional, storage-type-specific parameters, for example exclusive storage for lvm storage.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hv<wbr></wbr>_specs:</span>list of pairs (string, dict of strings)</td><td class="fieldArgDesc">list of pairs of a hypervisor's name and its hvparams</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple; (string, None/list of dict, None/dict)</td><td class="fieldArgDesc">Tuple containing boot ID, volume group information and hypervisor information</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.GetVolumeList">
    
  </a>
  <a name="GetVolumeList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">GetVolumeList</span>(vg_names):
    
    <a class="headerLink" href="#GetVolumeList" title="ganeti.backend.GetVolumeList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute list of logical volumes and their size.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">vg<wbr></wbr>_names:</span>list</td><td class="fieldArgDesc">the volume groups whose LVs we should list, or empty for all volume groups</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc"><p>dictionary of all partions (key) with value being a tuple of their size (in MiB), inactive and online status:</p>
<pre class="rst-literal-block">
  {'xenvg/test1': ('20.06', True, True)}
</pre>
<p>in case of errors, a string is returned with the error details.</p>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.HotplugDevice">
    
  </a>
  <a name="HotplugDevice">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">HotplugDevice</span>(instance, action, dev_type, device, extra, seq):
    
    <a class="headerLink" href="#HotplugDevice" title="ganeti.backend.HotplugDevice">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Hotplug a device</p>
<p>Hotplug is currently supported only for KVM Hypervisor.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance to which we hotplug a device</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">action:</span>string</td><td class="fieldArgDesc">the hotplug action to perform</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">dev<wbr></wbr>_type:</span>string</td><td class="fieldArgDesc">the device type to hotplug</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">device:</span>either <code><a href="ganeti.objects.NIC.html" class="internal-link" title="ganeti.objects.NIC">objects.NIC</a></code> or <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the device object to hotplug</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">extra:</span>tuple</td><td class="fieldArgDesc">extra info used for disk hotplug (disk link, drive uri)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">seq:</span>int</td><td class="fieldArgDesc">the index of the device from master perspective</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>in case instance does not have KVM hypervisor</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.HotplugSupported">
    
  </a>
  <a name="HotplugSupported">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">HotplugSupported</span>(instance):
    
    <a class="headerLink" href="#HotplugSupported" title="ganeti.backend.HotplugSupported">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Checks if hotplug is generally supported.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.InstanceBalloonMemory">
    
  </a>
  <a name="InstanceBalloonMemory">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">InstanceBalloonMemory</span>(instance, memory):
    
    <a class="headerLink" href="#InstanceBalloonMemory" title="ganeti.backend.InstanceBalloonMemory">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Resize an instance's memory.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance object</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">memory:</span>int</td><td class="fieldArgDesc">new memory amount in MB</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.InstanceOsAdd">
    
  </a>
  <a name="InstanceOsAdd">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">InstanceOsAdd</span>(instance, reinstall, debug):
    
    <a class="headerLink" href="#InstanceOsAdd" title="ganeti.backend.InstanceOsAdd">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Add an OS to an instance.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">Instance whose OS is to be installed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">reinstall:</span>boolean</td><td class="fieldArgDesc">whether this is an instance reinstall</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">debug:</span>integer</td><td class="fieldArgDesc">debug level, passed to the OS scripts</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.InstanceReboot">
    
  </a>
  <a name="InstanceReboot">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">InstanceReboot</span>(instance, reboot_type, shutdown_timeout, reason):
    
    <a class="headerLink" href="#InstanceReboot" title="ganeti.backend.InstanceReboot">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Reboot an instance.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance object to reboot</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">reboot<wbr></wbr>_type:</span>str</td><td class="fieldArgDesc"><p>the type of reboot, one the following constants:</p>
<ul class="rst-simple">
<li><code><a href="ganeti._constants.html#INSTANCE_REBOOT_SOFT" class="internal-link" title="ganeti._constants.INSTANCE_REBOOT_SOFT">constants.INSTANCE_REBOOT_SOFT</a></code>: only reboot the instance OS, do not recreate the VM</li>
<li><code><a href="ganeti._constants.html#INSTANCE_REBOOT_HARD" class="internal-link" title="ganeti._constants.INSTANCE_REBOOT_HARD">constants.INSTANCE_REBOOT_HARD</a></code>: tear down and restart the VM (at the hypervisor level)</li>
<li>the other reboot type (<code><a href="ganeti._constants.html#INSTANCE_REBOOT_FULL" class="internal-link" title="ganeti._constants.INSTANCE_REBOOT_FULL">constants.INSTANCE_REBOOT_FULL</a></code>) is not accepted here, since that mode is handled differently, in cmdlib, and translates into full stop and start of the instance (instead of a call_instance_reboot RPC)</li>
</ul>
</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">shutdown<wbr></wbr>_timeout:</span>integer</td><td class="fieldArgDesc">maximum timeout for soft shutdown</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">reason:</span>list of reasons</td><td class="fieldArgDesc">the reason trail for this reboot</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.InstanceShutdown">
    
  </a>
  <a name="InstanceShutdown">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">InstanceShutdown</span>(instance, timeout, reason, store_reason=True):
    
    <a class="headerLink" href="#InstanceShutdown" title="ganeti.backend.InstanceShutdown">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Shut an instance down.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance object</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">timeout:</span>integer</td><td class="fieldArgDesc">maximum timeout for soft shutdown</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">reason:</span>list of reasons</td><td class="fieldArgDesc">the reason trail for this shutdown</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">store<wbr></wbr>_reason:</span>boolean</td><td class="fieldArgDesc">whether to store the shutdown reason trail on file</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Note</td></tr><tr><td colspan="2">this functions uses polling with a hardcoded timeout.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.JobQueuePurge">
    
  </a>
  <a name="JobQueuePurge">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">JobQueuePurge</span>():
    
    <a class="headerLink" href="#JobQueuePurge" title="ganeti.backend.JobQueuePurge">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Removes job queue files and archived jobs.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple</td><td class="fieldArgDesc">True, None</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.JobQueueRename">
    
  </a>
  <a name="JobQueueRename">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">JobQueueRename</span>(old, new):
    
    <a class="headerLink" href="#JobQueueRename" title="ganeti.backend.JobQueueRename">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Renames a job queue file.</p>
<p>This is just a wrapper over os.rename with proper checking.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">old:</span>str</td><td class="fieldArgDesc">the old (actual) file name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">new:</span>str</td><td class="fieldArgDesc">the desired file name</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple</td><td class="fieldArgDesc">the success of the operation and payload</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.JobQueueUpdate">
    
  </a>
  <a name="JobQueueUpdate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">JobQueueUpdate</span>(file_name, content):
    
    <a class="headerLink" href="#JobQueueUpdate" title="ganeti.backend.JobQueueUpdate">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Updates a file in the queue directory.</p>
<p>This is just a wrapper over <code><a href="ganeti.utils.io.html#WriteFile" class="internal-link" title="ganeti.utils.io.WriteFile">utils.io.WriteFile</a></code>, with proper checking.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">file<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">the job file name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">content:</span>str</td><td class="fieldArgDesc">the new job contents</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">boolean</td><td class="fieldArgDesc">the success of the operation</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.LeaveCluster">
    
  </a>
  <a name="LeaveCluster">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">LeaveCluster</span>(modify_ssh_setup):
    
    <a class="headerLink" href="#LeaveCluster" title="ganeti.backend.LeaveCluster">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Cleans up and remove the current node.</p>
<p>This function cleans up and prepares the current node to be removed from the cluster.</p>
<p>If processing is successful, then it raises an <code><a href="ganeti.errors.QuitGanetiException.html" class="internal-link" title="ganeti.errors.QuitGanetiException">errors.QuitGanetiException</a></code> which is used as a special case to shutdown the node daemon.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">modify<wbr></wbr>_ssh<wbr></wbr>_setup</span></td><td class="fieldArgDesc">boolean</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ListExports">
    
  </a>
  <a name="ListExports">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ListExports</span>():
    
    <a class="headerLink" href="#ListExports" title="ganeti.backend.ListExports">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Return a list of exports currently available on this machine.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list</td><td class="fieldArgDesc">list of the exports</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ListVolumeGroups">
    
  </a>
  <a name="ListVolumeGroups">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ListVolumeGroups</span>():
    
    <a class="headerLink" href="#ListVolumeGroups" title="ganeti.backend.ListVolumeGroups">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>List the volume groups and their size.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc">dictionary with keys volume name and values the size of the volume</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.MigrateInstance">
    
  </a>
  <a name="MigrateInstance">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">MigrateInstance</span>(cluster_name, instance, target, live):
    
    <a class="headerLink" href="#MigrateInstance" title="ganeti.backend.MigrateInstance">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Migrates an instance to another node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cluster<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">name of the cluster</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance definition</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">target:</span>string</td><td class="fieldArgDesc">the target node name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">live:</span>boolean</td><td class="fieldArgDesc">whether the migration should be done live or not (the interpretation of this parameter is left to the hypervisor)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>if migration fails for some reason</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.MigrationInfo">
    
  </a>
  <a name="MigrationInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">MigrationInfo</span>(instance):
    
    <a class="headerLink" href="#MigrationInfo" title="ganeti.backend.MigrationInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Gather information about an instance to be migrated.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance definition</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ModifyInstanceMetadata">
    
  </a>
  <a name="ModifyInstanceMetadata">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ModifyInstanceMetadata</span>(metadata):
    
    <a class="headerLink" href="#ModifyInstanceMetadata" title="ganeti.backend.ModifyInstanceMetadata">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Sends instance data to the metadata daemon.</p>
<p>Uses the Luxi transport layer to communicate with the metadata daemon configuration server.  It starts the metadata daemon if it is not running. The daemon must be enabled during at configuration time.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">metadata:</span>dict</td><td class="fieldArgDesc">instance metadata obtained by calling <code><a href="ganeti.objects.Instance.html#ToDict" class="internal-link" title="ganeti.objects.Instance.ToDict">objects.Instance.ToDict</a></code> on an instance object</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.NodeVolumes">
    
  </a>
  <a name="NodeVolumes">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">NodeVolumes</span>():
    
    <a class="headerLink" href="#NodeVolumes" title="ganeti.backend.NodeVolumes">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>List all volumes on this node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list</td><td class="fieldArgDesc"><p>A list of dictionaries, each having four keys:</p>
<ul class="rst-simple">
<li>name: the logical volume name,</li>
<li>size: the size of the logical volume</li>
<li>dev: the physical device on which the LV lives</li>
<li>vg: the volume group to which it belongs</li>
</ul>
<p>In case of errors, we return an empty list and log the error.</p>
<p>Note that since a logical volume can live on multiple physical volumes, the resulting list might include a logical volume multiple times.</p>
</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.OSCoreEnv">
    
  </a>
  <a name="OSCoreEnv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">OSCoreEnv</span>(os_name, inst_os, os_params, debug=0):
    
    <a class="headerLink" href="#OSCoreEnv" title="ganeti.backend.OSCoreEnv">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Calculate the basic environment for an os script.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">os<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">full operating system name (including variant)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">inst<wbr></wbr>_os:</span><code><a href="ganeti.objects.OS.html" class="internal-link" title="ganeti.objects.OS">objects.OS</a></code></td><td class="fieldArgDesc">operating system for which the environment is being built</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">os<wbr></wbr>_params:</span>dict</td><td class="fieldArgDesc">the OS parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">debug:</span>integer</td><td class="fieldArgDesc">debug level (0 or 1, for OS Api 10)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc">dict of environment variables</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.errors.BlockDeviceError.html" class="internal-link" title="ganeti.errors.BlockDeviceError">errors.BlockDeviceError</a></code></td><td>if the block device cannot be found</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.OSEnvironment">
    
  </a>
  <a name="OSEnvironment">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">OSEnvironment</span>(instance, inst_os, debug=0):
    
    <a class="headerLink" href="#OSEnvironment" title="ganeti.backend.OSEnvironment">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Calculate the environment for an os script.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">target instance for the os script run</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">inst<wbr></wbr>_os:</span><code><a href="ganeti.objects.OS.html" class="internal-link" title="ganeti.objects.OS">objects.OS</a></code></td><td class="fieldArgDesc">operating system for which the environment is being built</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">debug:</span>integer</td><td class="fieldArgDesc">debug level (0 or 1, for OS Api 10)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc">dict of environment variables</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.errors.BlockDeviceError.html" class="internal-link" title="ganeti.errors.BlockDeviceError">errors.BlockDeviceError</a></code></td><td>if the block device cannot be found</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.OSFromDisk">
    
  </a>
  <a name="OSFromDisk">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">OSFromDisk</span>(name, base_dir=None):
    
    <a class="headerLink" href="#OSFromDisk" title="ganeti.backend.OSFromDisk">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Create an OS instance from disk.</p>
<p>This function will return an OS instance if the given name is a valid OS name. Otherwise, it will raise an appropriate <code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code> exception, detailing why this is not a valid OS.</p>
<p>This is just a wrapper over <code><a href="#_TryOSFromDisk" class="internal-link" title="ganeti.backend._TryOSFromDisk">_TryOSFromDisk</a></code>, which doesn't raise an exception but returns true/false status data.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">base<wbr></wbr>_dir:</span>string</td><td class="fieldArgDesc">Base directory containing OS installations. Defaults to a search in all the OS_SEARCH_PATH dirs.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.objects.OS.html" class="internal-link" title="ganeti.objects.OS">objects.OS</a></code></td><td class="fieldArgDesc">the OS instance if we find a valid one</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>if we don't find a valid OS</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.PowercycleNode">
    
  </a>
  <a name="PowercycleNode">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">PowercycleNode</span>(hypervisor_type, hvparams=None):
    
    <a class="headerLink" href="#PowercycleNode" title="ganeti.backend.PowercycleNode">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Hard-powercycle the node.</p>
<p>Because we need to return first, and schedule the powercycle in the background, we won't be able to report failures nicely.</p>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RemoveExport">
    
  </a>
  <a name="RemoveExport">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RemoveExport</span>(export):
    
    <a class="headerLink" href="#RemoveExport" title="ganeti.backend.RemoveExport">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Remove an existing export from the node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">export:</span>str</td><td class="fieldArgDesc">the name of the export to remove</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RemoveFileStorageDir">
    
  </a>
  <a name="RemoveFileStorageDir">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RemoveFileStorageDir</span>(file_storage_dir):
    
    <a class="headerLink" href="#RemoveFileStorageDir" title="ganeti.backend.RemoveFileStorageDir">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Remove file storage directory.</p>
<p>Remove it only if it's empty. If not log an error and return.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">file<wbr></wbr>_storage<wbr></wbr>_dir:</span>str</td><td class="fieldArgDesc">the directory we should cleanup</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple (success,)</td><td class="fieldArgDesc">tuple of one element, <tt class="rst-docutils literal">success</tt>, denoting whether the operation was successful</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RemoveNodeSshKey">
    
  </a>
  <a name="RemoveNodeSshKey">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RemoveNodeSshKey</span>(node_uuid, node_name, master_candidate_uuids, potential_master_candidates, master_uuid=None, keys_to_remove=None, from_authorized_keys=False, from_public_keys=False, clear_authorized_keys=False, clear_public_keys=False, pub_key_file=<a href="ganeti.pathutils.html#SSH_PUB_KEYS" class="internal-link" title="ganeti.pathutils.SSH_PUB_KEYS">pathutils.SSH_PUB_KEYS</a>, ssconf_store=None, noded_cert_file=<a href="ganeti.pathutils.html#NODED_CERT_FILE" class="internal-link" title="ganeti.pathutils.NODED_CERT_FILE">pathutils.NODED_CERT_FILE</a>, readd=False, run_cmd_fn=<a href="ganeti.ssh.html#RunSshCmdWithStdin" class="internal-link" title="ganeti.ssh.RunSshCmdWithStdin">ssh.RunSshCmdWithStdin</a>):
    
    <a class="headerLink" href="#RemoveNodeSshKey" title="ganeti.backend.RemoveNodeSshKey">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Removes the node's SSH keys from the key files and distributes those.</p>
<p>Note that at least one of the flags <tt class="rst-docutils literal">from_authorized_keys</tt>, <tt class="rst-docutils literal">from_public_keys</tt>, <tt class="rst-docutils literal">clear_authorized_keys</tt>, and <tt class="rst-docutils literal">clear_public_keys</tt> has to be set to <tt class="rst-docutils literal">True</tt> for the function to perform any action at all. Not doing so will trigger an assertion in the function.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_uuid:</span>str</td><td class="fieldArgDesc">UUID of the node whose key is removed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">name of the node whose key is remove</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_candidate<wbr></wbr>_uuids:</span>list of str</td><td class="fieldArgDesc">list of UUIDs of the current master candidates</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">potential<wbr></wbr>_master<wbr></wbr>_candidates:</span>list of str</td><td class="fieldArgDesc">list of names of potential master candidates</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_uuid</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">keys<wbr></wbr>_to<wbr></wbr>_remove:</span>dict of str to list of str</td><td class="fieldArgDesc">a dictionary mapping node UUIDS to lists of SSH keys to be removed. This list is supposed to be used only if the keys are not in the public keys file. This is for example the case when removing a master node's key.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">from<wbr></wbr>_authorized<wbr></wbr>_keys:</span>boolean</td><td class="fieldArgDesc">whether or not the key should be removed from the <tt class="rst-docutils literal">authorized_keys</tt> file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">from<wbr></wbr>_public<wbr></wbr>_keys:</span>boolean</td><td class="fieldArgDesc">whether or not the key should be remove from the <tt class="rst-docutils literal">ganeti_pub_keys</tt> file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">clear<wbr></wbr>_authorized<wbr></wbr>_keys:</span>boolean</td><td class="fieldArgDesc">whether or not the <tt class="rst-docutils literal">authorized_keys</tt> file should be cleared on the node whose keys are removed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">clear<wbr></wbr>_public<wbr></wbr>_keys:</span>boolean</td><td class="fieldArgDesc">whether to clear the node's <tt class="rst-docutils literal">ganeti_pub_key</tt> file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">pub<wbr></wbr>_key<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssconf<wbr></wbr>_store</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">noded<wbr></wbr>_cert<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">readd:</span>boolean</td><td class="fieldArgDesc">whether this is called during a readd operation.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">run<wbr></wbr>_cmd<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list of string</td><td class="fieldArgDesc">list of feedback messages</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RemoveNodeSshKeyBulk">
    
  </a>
  <a name="RemoveNodeSshKeyBulk">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RemoveNodeSshKeyBulk</span>(node_list, master_candidate_uuids, potential_master_candidates, master_uuid=None, keys_to_remove=None, pub_key_file=<a href="ganeti.pathutils.html#SSH_PUB_KEYS" class="internal-link" title="ganeti.pathutils.SSH_PUB_KEYS">pathutils.SSH_PUB_KEYS</a>, ssconf_store=None, noded_cert_file=<a href="ganeti.pathutils.html#NODED_CERT_FILE" class="internal-link" title="ganeti.pathutils.NODED_CERT_FILE">pathutils.NODED_CERT_FILE</a>, readd=False, run_cmd_fn=<a href="ganeti.ssh.html#RunSshCmdWithStdin" class="internal-link" title="ganeti.ssh.RunSshCmdWithStdin">ssh.RunSshCmdWithStdin</a>):
    
    <a class="headerLink" href="#RemoveNodeSshKeyBulk" title="ganeti.backend.RemoveNodeSshKeyBulk">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Removes the node's SSH keys from the key files and distributes those.</p>
<p>Note that at least one of the flags <tt class="rst-docutils literal">from_authorized_keys</tt>, <tt class="rst-docutils literal">from_public_keys</tt>, <tt class="rst-docutils literal">clear_authorized_keys</tt>, and <tt class="rst-docutils literal">clear_public_keys</tt> of at least one node has to be set to <tt class="rst-docutils literal">True</tt> for the function to perform any action at all. Not doing so will trigger an assertion in the function.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_list:</span>list of <tt class="rst-docutils literal">SshRemoveNodeInfo</tt>.</td><td class="fieldArgDesc">list of information about nodes whose keys are being removed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_candidate<wbr></wbr>_uuids:</span>list of str</td><td class="fieldArgDesc">list of UUIDs of the current master candidates</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">potential<wbr></wbr>_master<wbr></wbr>_candidates:</span>list of str</td><td class="fieldArgDesc">list of names of potential master candidates</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_uuid</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">keys<wbr></wbr>_to<wbr></wbr>_remove:</span>dict of str to list of str</td><td class="fieldArgDesc">a dictionary mapping node UUIDS to lists of SSH keys to be removed. This list is supposed to be used only if the keys are not in the public keys file. This is for example the case when removing a master node's key.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">pub<wbr></wbr>_key<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssconf<wbr></wbr>_store</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">noded<wbr></wbr>_cert<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">readd:</span>boolean</td><td class="fieldArgDesc">whether this is called during a readd operation.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">run<wbr></wbr>_cmd<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list of string</td><td class="fieldArgDesc">list of feedback messages</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RemoveX509Certificate">
    
  </a>
  <a name="RemoveX509Certificate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RemoveX509Certificate</span>(name, cryptodir=<a href="ganeti.pathutils.html#CRYPTO_KEYS_DIR" class="internal-link" title="ganeti.pathutils.CRYPTO_KEYS_DIR">pathutils.CRYPTO_KEYS_DIR</a>):
    
    <a class="headerLink" href="#RemoveX509Certificate" title="ganeti.backend.RemoveX509Certificate">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Removes a X509 certificate.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span>string</td><td class="fieldArgDesc">Certificate name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cryptodir</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RenameFileStorageDir">
    
  </a>
  <a name="RenameFileStorageDir">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RenameFileStorageDir</span>(old_file_storage_dir, new_file_storage_dir):
    
    <a class="headerLink" href="#RenameFileStorageDir" title="ganeti.backend.RenameFileStorageDir">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Rename the file storage directory.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">old<wbr></wbr>_file<wbr></wbr>_storage<wbr></wbr>_dir:</span>str</td><td class="fieldArgDesc">the current path</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">new<wbr></wbr>_file<wbr></wbr>_storage<wbr></wbr>_dir:</span>str</td><td class="fieldArgDesc">the name we should rename to</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple (success,)</td><td class="fieldArgDesc">tuple of one element, <tt class="rst-docutils literal">success</tt>, denoting whether the operation was successful</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RenewSshKeys">
    
  </a>
  <a name="RenewSshKeys">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RenewSshKeys</span>(node_uuids, node_names, master_candidate_uuids, potential_master_candidates, old_key_type, new_key_type, new_key_bits, ganeti_pub_keys_file=<a href="ganeti.pathutils.html#SSH_PUB_KEYS" class="internal-link" title="ganeti.pathutils.SSH_PUB_KEYS">pathutils.SSH_PUB_KEYS</a>, ssconf_store=None, noded_cert_file=<a href="ganeti.pathutils.html#NODED_CERT_FILE" class="internal-link" title="ganeti.pathutils.NODED_CERT_FILE">pathutils.NODED_CERT_FILE</a>, run_cmd_fn=<a href="ganeti.ssh.html#RunSshCmdWithStdin" class="internal-link" title="ganeti.ssh.RunSshCmdWithStdin">ssh.RunSshCmdWithStdin</a>):
    
    <a class="headerLink" href="#RenewSshKeys" title="ganeti.backend.RenewSshKeys">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Renews all SSH keys and updates authorized_keys and ganeti_pub_keys.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_uuids:</span>list of str</td><td class="fieldArgDesc">list of node UUIDs whose keys should be renewed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_names:</span>list of str</td><td class="fieldArgDesc">list of node names whose keys should be removed. This list should match the <tt class="rst-docutils literal">node_uuids</tt> parameter</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_candidate<wbr></wbr>_uuids:</span>list of str</td><td class="fieldArgDesc">list of UUIDs of master candidates or master node</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">potential<wbr></wbr>_master<wbr></wbr>_candidates</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">old<wbr></wbr>_key<wbr></wbr>_type:</span>One of <code><a href="ganeti._constants.html#SSHK_ALL" class="internal-link" title="ganeti._constants.SSHK_ALL">constants.SSHK_ALL</a></code></td><td class="fieldArgDesc">the type of SSH key already present on nodes</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">new<wbr></wbr>_key<wbr></wbr>_type:</span>One of <code><a href="ganeti._constants.html#SSHK_ALL" class="internal-link" title="ganeti._constants.SSHK_ALL">constants.SSHK_ALL</a></code></td><td class="fieldArgDesc">the type of SSH key to be generated</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">new<wbr></wbr>_key<wbr></wbr>_bits:</span>int</td><td class="fieldArgDesc">the length of the key to be generated</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ganeti<wbr></wbr>_pub<wbr></wbr>_keys<wbr></wbr>_file:</span>str</td><td class="fieldArgDesc">file path of the the public key file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssconf<wbr></wbr>_store</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">noded<wbr></wbr>_cert<wbr></wbr>_file:</span>str</td><td class="fieldArgDesc">path of the noded SSL certificate file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">run<wbr></wbr>_cmd<wbr></wbr>_fn:</span>function</td><td class="fieldArgDesc">function to run commands on remote nodes via SSH</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code>ProgrammerError</code></td><td>if node_uuids and node_names don't match; SshUpdateError if a node's key is missing from the public key file, if a node's new SSH key could not be fetched from it, if there is none or more than one entry in the public key list for the master node.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RunLocalHooks">
    
  </a>
  <a name="RunLocalHooks">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RunLocalHooks</span>(hook_opcode, hooks_path, env_builder_fn):
    
    <a class="headerLink" href="#RunLocalHooks" title="ganeti.backend.RunLocalHooks">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Decorator that runs hooks before and after the decorated function.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hook<wbr></wbr>_opcode:</span>string</td><td class="fieldArgDesc">opcode of the hook</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hooks<wbr></wbr>_path:</span>string</td><td class="fieldArgDesc">path of the hooks</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">env<wbr></wbr>_builder<wbr></wbr>_fn:</span>function</td><td class="fieldArgDesc">function that returns a dictionary containing the environment variables for the hooks. Will get all the parameters of the decorated function.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>in case of pre-hook failure</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RunOob">
    
  </a>
  <a name="RunOob">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RunOob</span>(oob_program, command, node, timeout):
    
    <a class="headerLink" href="#RunOob" title="ganeti.backend.RunOob">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Executes oob_program with given command on given node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">oob<wbr></wbr>_program</span></td><td class="fieldArgDesc">The path to the executable oob_program</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">command</span></td><td class="fieldArgDesc">The command to invoke on oob_program</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node</span></td><td class="fieldArgDesc">The node given as an argument to the program</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">timeout</span></td><td class="fieldArgDesc">Timeout after which we kill the oob program</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">stdout</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>If execution fails for some reason</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RunRenameInstance">
    
  </a>
  <a name="RunRenameInstance">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RunRenameInstance</span>(instance, old_name, debug):
    
    <a class="headerLink" href="#RunRenameInstance" title="ganeti.backend.RunRenameInstance">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Run the OS rename script for an instance.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">Instance whose OS is to be installed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">old<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">previous instance name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">debug:</span>integer</td><td class="fieldArgDesc">debug level, passed to the OS scripts</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">boolean</td><td class="fieldArgDesc">the success of the operation</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.RunRestrictedCmd">
    
  </a>
  <a name="RunRestrictedCmd">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">RunRestrictedCmd</span>(cmd, _lock_timeout=<a href="#_RCMD_LOCK_TIMEOUT" class="internal-link" title="ganeti.backend._RCMD_LOCK_TIMEOUT">_RCMD_LOCK_TIMEOUT</a>, _lock_file=<a href="ganeti.pathutils.html#RESTRICTED_COMMANDS_LOCK_FILE" class="internal-link" title="ganeti.pathutils.RESTRICTED_COMMANDS_LOCK_FILE">pathutils.RESTRICTED_COMMANDS_LOCK_FILE</a>, _path=<a href="ganeti.pathutils.html#RESTRICTED_COMMANDS_DIR" class="internal-link" title="ganeti.pathutils.RESTRICTED_COMMANDS_DIR">pathutils.RESTRICTED_COMMANDS_DIR</a>, _sleep_fn=time.sleep, _prepare_fn=<a href="#_PrepareRestrictedCmd" class="internal-link" title="ganeti.backend._PrepareRestrictedCmd">_PrepareRestrictedCmd</a>, _runcmd_fn=<a href="ganeti.utils.process.html#RunCmd" class="internal-link" title="ganeti.utils.process.RunCmd">utils.RunCmd</a>, _enabled=<a href="ganeti._constants.html#ENABLE_RESTRICTED_COMMANDS" class="internal-link" title="ganeti._constants.ENABLE_RESTRICTED_COMMANDS">constants.ENABLE_RESTRICTED_COMMANDS</a>):
    
    <a class="headerLink" href="#RunRestrictedCmd" title="ganeti.backend.RunRestrictedCmd">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Executes a restricted command after performing strict tests.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cmd:</span>string</td><td class="fieldArgDesc">Command name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_lock<wbr></wbr>_timeout</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_lock<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_path</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_sleep<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_prepare<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_runcmd<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_enabled</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">string</td><td class="fieldArgDesc">Command output</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>In case of an error</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.SetWatcherPause">
    
  </a>
  <a name="SetWatcherPause">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">SetWatcherPause</span>(until, _filename=<a href="ganeti.pathutils.html#WATCHER_PAUSEFILE" class="internal-link" title="ganeti.pathutils.WATCHER_PAUSEFILE">pathutils.WATCHER_PAUSEFILE</a>):
    
    <a class="headerLink" href="#SetWatcherPause" title="ganeti.backend.SetWatcherPause">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Creates or removes the watcher pause file.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">until:</span>None or number</td><td class="fieldArgDesc">Unix timestamp saying until when the watcher shouldn't run</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_filename</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.StartImportExportDaemon">
    
  </a>
  <a name="StartImportExportDaemon">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">StartImportExportDaemon</span>(mode, opts, host, port, instance, component, ieio, ieioargs):
    
    <a class="headerLink" href="#StartImportExportDaemon" title="ganeti.backend.StartImportExportDaemon">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Starts an import or export daemon.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mode</span></td><td class="fieldArgDesc">Import/output mode</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">opts:</span><code><a href="ganeti.objects.ImportExportOptions.html" class="internal-link" title="ganeti.objects.ImportExportOptions">objects.ImportExportOptions</a></code></td><td class="fieldArgDesc">Daemon options</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">host:</span>string</td><td class="fieldArgDesc">Remote host for export (None for import)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">port:</span>int</td><td class="fieldArgDesc">Remote port for export (None for import)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">Instance object</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">component:</span>string</td><td class="fieldArgDesc">which part of the instance is transferred now, e.g. 'disk/0'</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ieio</span></td><td class="fieldArgDesc">Input/output type</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ieioargs</span></td><td class="fieldArgDesc">Input/output arguments</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.StartInstance">
    
  </a>
  <a name="StartInstance">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">StartInstance</span>(instance, startup_paused, reason, store_reason=True):
    
    <a class="headerLink" href="#StartInstance" title="ganeti.backend.StartInstance">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Start an instance.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">pause instance at startup?</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">startup<wbr></wbr>_paused:</span>bool</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">reason:</span>list of reasons</td><td class="fieldArgDesc">the reason trail for this startup</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">store<wbr></wbr>_reason:</span>boolean</td><td class="fieldArgDesc">whether to store the shutdown reason trail on file</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.StartMasterDaemons">
    
  </a>
  <a name="StartMasterDaemons">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">StartMasterDaemons</span>(no_voting):
    
    <a class="headerLink" href="#StartMasterDaemons" title="ganeti.backend.StartMasterDaemons">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Activate local node as master node.</p>
<p>The function will start the master daemons (ganeti-masterd and ganeti-rapi).</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">no<wbr></wbr>_voting:</span>boolean</td><td class="fieldArgDesc">whether to start ganeti-masterd without a node vote but still non-interactively</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.StopMasterDaemons">
    
  </a>
  <a name="StopMasterDaemons">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">StopMasterDaemons</span>():
    
    <a class="headerLink" href="#StopMasterDaemons" title="ganeti.backend.StopMasterDaemons">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Stop the master daemons on this node.</p>
<p>Stop the master daemons (ganeti-masterd and ganeti-rapi) on this node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.UploadFile">
    
  </a>
  <a name="UploadFile">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">UploadFile</span>(file_name, data, mode, uid, gid, atime, mtime):
    
    <a class="headerLink" href="#UploadFile" title="ganeti.backend.UploadFile">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Write a file to the filesystem.</p>
<p>This allows the master to overwrite(!) a file. It will only perform the operation if the file belongs to a list of configuration files.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">file<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">the target file name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">data:</span>str</td><td class="fieldArgDesc">the new contents of the file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mode:</span>int</td><td class="fieldArgDesc">the mode to give the file (can be None)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">uid:</span>string</td><td class="fieldArgDesc">the owner of the file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">gid:</span>string</td><td class="fieldArgDesc">the group of the file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">atime:</span>float</td><td class="fieldArgDesc">the atime to set on the file (can be None)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mtime:</span>float</td><td class="fieldArgDesc">the mtime to set on the file (can be None)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ValidateHVParams">
    
  </a>
  <a name="ValidateHVParams">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ValidateHVParams</span>(hvname, hvparams):
    
    <a class="headerLink" href="#ValidateHVParams" title="ganeti.backend.ValidateHVParams">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Validates the given hypervisor parameters.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hvname:</span>string</td><td class="fieldArgDesc">the hypervisor name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hvparams:</span>dict</td><td class="fieldArgDesc">the hypervisor parameters to be validated</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.ValidateOS">
    
  </a>
  <a name="ValidateOS">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">ValidateOS</span>(required, osname, checks, osparams, force_variant):
    
    <a class="headerLink" href="#ValidateOS" title="ganeti.backend.ValidateOS">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Validate the given OS parameters.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">required:</span>boolean</td><td class="fieldArgDesc">whether absence of the OS should translate into failure or not</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">osname:</span>string</td><td class="fieldArgDesc">the OS to be validated</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">checks:</span>list</td><td class="fieldArgDesc">list of the checks to run (currently only 'parameters')</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">osparams:</span>dict</td><td class="fieldArgDesc">dictionary with OS parameters, some of which may be private.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">force<wbr></wbr>_variant</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">boolean</td><td class="fieldArgDesc">True if the validation passed, or False if the OS was not found and <code>required</code> was false</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.VerifyMasterIP">
    
  </a>
  <a name="VerifyMasterIP">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">VerifyMasterIP</span>(my_name, test_config):
    
    <a class="headerLink" href="#VerifyMasterIP" title="ganeti.backend.VerifyMasterIP">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verify master IP is reachable.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">my<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">name of the node this test is running on</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">test<wbr></wbr>_config:</span>tuple (master_name, master_up, master_candidates)</td><td class="fieldArgDesc">configuration for test as passed from LUClusterVerify() in what[constants.NV_MASTERIP]</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">bool or None</td><td class="fieldArgDesc">Boolean test result, None if skipped</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.VerifyNode">
    
  </a>
  <a name="VerifyNode">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">VerifyNode</span>(what, cluster_name, all_hvparams):
    
    <a class="headerLink" href="#VerifyNode" title="ganeti.backend.VerifyNode">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verify the status of the local node.</p>
<p>Based on the input <code>what</code> parameter, various checks are done on the local node.</p>
<p>If the <em>filelist</em> key is present, this list of files is checksummed and the file/checksum pairs are returned.</p>
<p>If the <em>nodelist</em> key is present, we check that we have connectivity via ssh with the target nodes (and check the hostname report).</p>
<p>If the <em>node-net-test</em> key is present, we check that we have connectivity to the given nodes via both primary IP and, if applicable, secondary IPs.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">what:</span><tt class="rst-docutils literal">dict</tt></td><td class="fieldArgDesc"><p>a dictionary of things to check:</p>
<ul class="rst-simple">
<li>filelist: list of files for which to compute checksums</li>
<li>nodelist: list of nodes we should check ssh communication with</li>
<li>node-net-test: list of nodes we should check node daemon port connectivity with</li>
<li>hypervisor: list with hypervisors to run the verify for</li>
</ul>
</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cluster<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">the cluster's name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">all<wbr></wbr>_hvparams:</span>dict of dict of strings</td><td class="fieldArgDesc">a dictionary mapping hypervisor names to hvparams</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc">a dictionary with the same keys as the input dict, and values representing the result of the checks</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="ganeti.backend.VerifyNodeNetTest">
    
  </a>
  <a name="VerifyNodeNetTest">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">VerifyNodeNetTest</span>(my_name, test_config):
    
    <a class="headerLink" href="#VerifyNodeNetTest" title="ganeti.backend.VerifyNodeNetTest">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verify nodes are reachable.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">my<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">name of the node this test is running on</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">test<wbr></wbr>_config:</span>tuple (node_list, master_candidate_list)</td><td class="fieldArgDesc">configuration for test as passed from LUClusterVerify() in what[constants.NV_NODENETTEST]</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc">a dictionary with node names as keys and error messages as values</td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  
  <a name="ganeti.backend.SshAddNodeInfo">
    
  </a>
  <a name="SshAddNodeInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">SshAddNodeInfo</span> =
    
    <a class="headerLink" href="#SshAddNodeInfo" title="ganeti.backend.SshAddNodeInfo">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basevariable">
  
  
  <a name="ganeti.backend.SshRemoveNodeInfo">
    
  </a>
  <a name="SshRemoveNodeInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">SshRemoveNodeInfo</span> =
    
    <a class="headerLink" href="#SshRemoveNodeInfo" title="ganeti.backend.SshRemoveNodeInfo">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._ApplyStorageInfoFunction">
    
  </a>
  <a name="_ApplyStorageInfoFunction">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_ApplyStorageInfoFunction</span>(storage_type, storage_key, *args):
    
    <a class="headerLink" href="#_ApplyStorageInfoFunction" title="ganeti.backend._ApplyStorageInfoFunction">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Looks up and applies the correct function to calculate free and total storage for the given storage type.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">storage<wbr></wbr>_type:</span>string</td><td class="fieldArgDesc">the storage type for which the storage shall be reported.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">storage<wbr></wbr>_key:</span>string</td><td class="fieldArgDesc">identifier of a storage unit, e.g. the volume group name of an LVM storage unit</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">*args:</span>any</td><td class="fieldArgDesc">various parameters that can be used for storage reporting. These parameters and their semantics vary from storage type to storage type and are just propagated in this function.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">the results of the application of the storage space function (see _STORAGE_TYPE_INFO_FN) if storage space reporting is implemented for that storage type</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code>NotImplementedError</code></td><td>for storage types who don't support space reporting yet</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._BuildMasterIpEnv">
    
  </a>
  <a name="_BuildMasterIpEnv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_BuildMasterIpEnv</span>(master_params, use_external_mip_script=None):
    
    <a class="headerLink" href="#_BuildMasterIpEnv" title="ganeti.backend._BuildMasterIpEnv">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Builds environment variables for master IP hooks.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_params:</span><code><a href="ganeti.objects.MasterNetworkParameters.html" class="internal-link" title="ganeti.objects.MasterNetworkParameters">objects.MasterNetworkParameters</a></code></td><td class="fieldArgDesc">network parameters of the master</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">use<wbr></wbr>_external<wbr></wbr>_mip<wbr></wbr>_script:</span>boolean</td><td class="fieldArgDesc">whether to use an external master IP address setup script (unused, but necessary per the implementation of the _RunLocalHooks decorator)</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._BuildUploadFileList">
    
  </a>
  <a name="_BuildUploadFileList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_BuildUploadFileList</span>():
    
    <a class="headerLink" href="#_BuildUploadFileList" title="ganeti.backend._BuildUploadFileList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Build the list of allowed upload files.</p>
<p>This is abstracted so that it's built only once at module import time.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CalculateDeviceURI">
    
  </a>
  <a name="_CalculateDeviceURI">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CalculateDeviceURI</span>(instance, disk, device):
    
    <a class="headerLink" href="#_CalculateDeviceURI" title="ganeti.backend._CalculateDeviceURI">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Get the URI for the device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance which disk belongs to</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the target disk object</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">device:</span><code>bdev.BlockDev</code></td><td class="fieldArgDesc">the corresponding BlockDevice</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">string</td><td class="fieldArgDesc">the device uri if any else None</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CheckExclusivePvs">
    
  </a>
  <a name="_CheckExclusivePvs">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CheckExclusivePvs</span>(pvi_list):
    
    <a class="headerLink" href="#_CheckExclusivePvs" title="ganeti.backend._CheckExclusivePvs">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check that PVs are not shared among LVs</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">pvi<wbr></wbr>_list:</span>list of <code><a href="ganeti.objects.LvmPvInfo.html" class="internal-link" title="ganeti.objects.LvmPvInfo">objects.LvmPvInfo</a></code> objects</td><td class="fieldArgDesc">information about the PVs</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list of tuples (string, list of strings)</td><td class="fieldArgDesc">offending volumes, as tuples: (pv_name, [lv1_name, lv2_name...])</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CheckForPlainDisk">
    
  </a>
  <a name="_CheckForPlainDisk">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CheckForPlainDisk</span>(disk):
    
    <a class="headerLink" href="#_CheckForPlainDisk" title="ganeti.backend._CheckForPlainDisk">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check within a disk and its children if there is a plain disk type.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk we are checking</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">bool</td><td class="fieldArgDesc">whether or not there is a plain disk type</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CheckLvmStorageParams">
    
  </a>
  <a name="_CheckLvmStorageParams">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CheckLvmStorageParams</span>(params):
    
    <a class="headerLink" href="#_CheckLvmStorageParams" title="ganeti.backend._CheckLvmStorageParams">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Performs sanity check for the 'exclusive storage' flag.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">See Also</td></tr><tr><td colspan="2"><tt class="rst-docutils literal">_CheckStorageParams</tt></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CheckOSPList">
    
  </a>
  <a name="_CheckOSPList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CheckOSPList</span>(os_obj, parameters):
    
    <a class="headerLink" href="#_CheckOSPList" title="ganeti.backend._CheckOSPList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check whether a list of parameters is supported by the OS.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">os<wbr></wbr>_obj:</span><code><a href="ganeti.objects.OS.html" class="internal-link" title="ganeti.objects.OS">objects.OS</a></code></td><td class="fieldArgDesc">OS object to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">parameters:</span>list</td><td class="fieldArgDesc">the list of parameters to check</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CheckOSVariant">
    
  </a>
  <a name="_CheckOSVariant">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CheckOSVariant</span>(os_obj, name):
    
    <a class="headerLink" href="#_CheckOSVariant" title="ganeti.backend._CheckOSVariant">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check whether an OS name conforms to the os variants specification.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">os<wbr></wbr>_obj:</span><code><a href="ganeti.objects.OS.html" class="internal-link" title="ganeti.objects.OS">objects.OS</a></code></td><td class="fieldArgDesc">OS object to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span>string</td><td class="fieldArgDesc">OS name passed by the user, to check for validity</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">NoneType</td><td class="fieldArgDesc">None</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>if OS variant is not valid</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CheckStorageParams">
    
  </a>
  <a name="_CheckStorageParams">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CheckStorageParams</span>(params, num_params):
    
    <a class="headerLink" href="#_CheckStorageParams" title="ganeti.backend._CheckStorageParams">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Performs sanity checks for storage parameters.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">params:</span>list</td><td class="fieldArgDesc">list of storage parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">num<wbr></wbr>_params:</span>int</td><td class="fieldArgDesc">expected number of parameters</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CleanDirectory">
    
  </a>
  <a name="_CleanDirectory">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CleanDirectory</span>(path, exclude=None):
    
    <a class="headerLink" href="#_CleanDirectory" title="ganeti.backend._CleanDirectory">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Removes all regular files in a directory.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path:</span>str</td><td class="fieldArgDesc">the directory to clean</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">exclude:</span>list</td><td class="fieldArgDesc">list of files to be excluded, defaults to the empty list</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CommonRestrictedCmdCheck">
    
  </a>
  <a name="_CommonRestrictedCmdCheck">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CommonRestrictedCmdCheck</span>(path, owner):
    
    <a class="headerLink" href="#_CommonRestrictedCmdCheck" title="ganeti.backend._CommonRestrictedCmdCheck">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Common checks for restricted command file system directories and files.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path:</span>string</td><td class="fieldArgDesc">Path to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">owner</span></td><td class="fieldArgDesc"><tt class="rst-docutils literal">None</tt> or tuple containing UID and GID</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple; (boolean, string or <tt class="rst-docutils literal">os.stat</tt> result)</td><td class="fieldArgDesc">The tuple's first element is the status; if <tt class="rst-docutils literal">False</tt>, the second element is an error message string, otherwise it's the result of <tt class="rst-docutils literal">os.stat</tt></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._CreateImportExportStatusDir">
    
  </a>
  <a name="_CreateImportExportStatusDir">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_CreateImportExportStatusDir</span>(prefix):
    
    <a class="headerLink" href="#_CreateImportExportStatusDir" title="ganeti.backend._CreateImportExportStatusDir">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Creates status directory for import/export.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._Decompress">
    
  </a>
  <a name="_Decompress">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_Decompress</span>(data):
    
    <a class="headerLink" href="#_Decompress" title="ganeti.backend._Decompress">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Unpacks data compressed by the RPC client.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">data:</span>list or tuple</td><td class="fieldArgDesc">Data sent by RPC client</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">str</td><td class="fieldArgDesc">Decompressed data</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._DownloadAndDumpDevice">
    
  </a>
  <a name="_DownloadAndDumpDevice">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_DownloadAndDumpDevice</span>(source_url, target_path, size):
    
    <a class="headerLink" href="#_DownloadAndDumpDevice" title="ganeti.backend._DownloadAndDumpDevice">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>This function images a device using a downloaded image file.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source<wbr></wbr>_url:</span>string</td><td class="fieldArgDesc">URL of image to dump to disk</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">target<wbr></wbr>_path:</span>string</td><td class="fieldArgDesc">path of the device to image</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">size:</span>int</td><td class="fieldArgDesc">maximum size in MiB to write (data source might be smaller)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">NoneType</td><td class="fieldArgDesc">None</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>in case of download or write failures</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._DumpDevice">
    
  </a>
  <a name="_DumpDevice">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_DumpDevice</span>(source_path, target_path, offset, size, truncate):
    
    <a class="headerLink" href="#_DumpDevice" title="ganeti.backend._DumpDevice">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>This function images/wipes the device using a local file.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">source<wbr></wbr>_path:</span>string</td><td class="fieldArgDesc">path of the image or data source (e.g., "/dev/zero")</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">target<wbr></wbr>_path:</span>string</td><td class="fieldArgDesc">path of the device to image/wipe</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">offset:</span>int</td><td class="fieldArgDesc">offset in MiB in the output file</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">size:</span>int</td><td class="fieldArgDesc">maximum size in MiB to write (data source might be smaller)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">truncate:</span>bool</td><td class="fieldArgDesc">whether the file should be truncated</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">None</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>in case of failure</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._EnsureJobQueueFile">
    
  </a>
  <a name="_EnsureJobQueueFile">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_EnsureJobQueueFile</span>(file_name):
    
    <a class="headerLink" href="#_EnsureJobQueueFile" title="ganeti.backend._EnsureJobQueueFile">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Checks whether the given filename is in the queue directory.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">file<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">the file name we should check</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.backend.RPCFail.html" class="internal-link" title="ganeti.backend.RPCFail">RPCFail</a></code></td><td>if the file is not valid</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._Fail">
    
  </a>
  <a name="_Fail">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_Fail</span>(msg, *args, **kwargs):
    
    <a class="headerLink" href="#_Fail" title="ganeti.backend._Fail">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Log an error and the raise an RPCFail exception.</p>
<p>This exception is then handled specially in the ganeti daemon and turned into a 'failed' return type. As such, this function is a useful shortcut for logging the error and returning it to the master daemon.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">msg:</span>string</td><td class="fieldArgDesc">the text of the exception @raise RPCFail</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">*args</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">**kwargs</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._FindDisks">
    
  </a>
  <a name="_FindDisks">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_FindDisks</span>(disks):
    
    <a class="headerLink" href="#_FindDisks" title="ganeti.backend._FindDisks">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Finds attached <code><a href="ganeti.storage.base.BlockDev.html" class="internal-link" title="ganeti.storage.base.BlockDev">BlockDev</a></code>s for the given disks.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disks:</span>list of <code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk objects we need to find</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">list of <code><a href="ganeti.storage.base.BlockDev.html" class="internal-link" title="ganeti.storage.base.BlockDev">BlockDev</a></code> objects or <tt class="rst-docutils literal">None</tt> if a given disk was not found or was no attached.</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GatherAndLinkBlockDevs">
    
  </a>
  <a name="_GatherAndLinkBlockDevs">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GatherAndLinkBlockDevs</span>(instance):
    
    <a class="headerLink" href="#_GatherAndLinkBlockDevs" title="ganeti.backend._GatherAndLinkBlockDevs">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Set up an instance's block device(s).</p>
<p>This is run on the primary node at instance startup. The block devices must be already assembled.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">the instance whose disks we should assemble</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list</td><td class="fieldArgDesc">list of (disk_object, link_name, drive_uri)</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GenerateNodeSshKey">
    
  </a>
  <a name="_GenerateNodeSshKey">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GenerateNodeSshKey</span>(node_uuid, node_name, ssh_port_map, ssh_key_type, ssh_key_bits, pub_key_file=<a href="ganeti.pathutils.html#SSH_PUB_KEYS" class="internal-link" title="ganeti.pathutils.SSH_PUB_KEYS">pathutils.SSH_PUB_KEYS</a>, ssconf_store=None, noded_cert_file=<a href="ganeti.pathutils.html#NODED_CERT_FILE" class="internal-link" title="ganeti.pathutils.NODED_CERT_FILE">pathutils.NODED_CERT_FILE</a>, run_cmd_fn=<a href="ganeti.ssh.html#RunSshCmdWithStdin" class="internal-link" title="ganeti.ssh.RunSshCmdWithStdin">ssh.RunSshCmdWithStdin</a>, suffix=<span class="rst-variable-quote">'</span><span class="rst-variable-string"></span><span class="rst-variable-quote">'</span>):
    
    <a class="headerLink" href="#_GenerateNodeSshKey" title="ganeti.backend._GenerateNodeSshKey">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Generates the root SSH key pair on the node.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_uuid:</span>str</td><td class="fieldArgDesc">UUID of the node whose key is removed</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">name of the node whose key is remove</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssh<wbr></wbr>_port<wbr></wbr>_map:</span>dict of str to int</td><td class="fieldArgDesc">mapping of node names to their SSH port</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssh<wbr></wbr>_key<wbr></wbr>_type:</span>One of <code><a href="ganeti._constants.html#SSHK_ALL" class="internal-link" title="ganeti._constants.SSHK_ALL">constants.SSHK_ALL</a></code></td><td class="fieldArgDesc">the type of SSH key to be generated</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssh<wbr></wbr>_key<wbr></wbr>_bits:</span>int</td><td class="fieldArgDesc">the length of the key to be generated</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">pub<wbr></wbr>_key<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssconf<wbr></wbr>_store</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">noded<wbr></wbr>_cert<wbr></wbr>_file</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">run<wbr></wbr>_cmd<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">suffix</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetBlockDevSymlinkPath">
    
  </a>
  <a name="_GetBlockDevSymlinkPath">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetBlockDevSymlinkPath</span>(instance_name, idx, _dir=None):
    
    <a class="headerLink" href="#_GetBlockDevSymlinkPath" title="ganeti.backend._GetBlockDevSymlinkPath">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Returns symlink path for block device.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetConfig">
    
  </a>
  <a name="_GetConfig">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetConfig</span>():
    
    <a class="headerLink" href="#_GetConfig" title="ganeti.backend._GetConfig">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Simple wrapper to return a SimpleStore.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.ssconf.SimpleStore.html" class="internal-link" title="ganeti.ssconf.SimpleStore">ssconf.SimpleStore</a></code></td><td class="fieldArgDesc">a SimpleStore instance</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetFileStorageSpaceInfo">
    
  </a>
  <a name="_GetFileStorageSpaceInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetFileStorageSpaceInfo</span>(path, params):
    
    <a class="headerLink" href="#_GetFileStorageSpaceInfo" title="ganeti.backend._GetFileStorageSpaceInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Wrapper around filestorage.GetSpaceInfo.</p>
<p>The purpose of this wrapper is to call filestorage.GetFileStorageSpaceInfo and ignore the *args parameter to not leak it into the filestorage module's code.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">See Also</td></tr><tr><td colspan="2"><tt class="rst-docutils literal">filestorage.GetFileStorageSpaceInfo</tt> for description of the parameters.</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetHvInfo">
    
  </a>
  <a name="_GetHvInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetHvInfo</span>(name, hvparams, get_hv_fn=<a href="ganeti.hypervisor.html#GetHypervisor" class="internal-link" title="ganeti.hypervisor.GetHypervisor">hypervisor.GetHypervisor</a>):
    
    <a class="headerLink" href="#_GetHvInfo" title="ganeti.backend._GetHvInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Retrieves node information from a hypervisor.</p>
<p>The information returned depends on the hypervisor. Common items:</p>
<ul class="rst-simple">
<li>vg_size is the size of the configured volume group in MiB</li>
<li>vg_free is the free size of the volume group in MiB</li>
<li>memory_dom0 is the memory allocated for domain0 in MiB</li>
<li>memory_free is the currently available (free) ram in MiB</li>
<li>memory_total is the total number of ram in MiB</li>
<li>hv_version: the hypervisor version, if available</li>
</ul>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hvparams:</span>dict of string</td><td class="fieldArgDesc">the hypervisor's hvparams</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">get<wbr></wbr>_hv<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetHvInfoAll">
    
  </a>
  <a name="_GetHvInfoAll">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetHvInfoAll</span>(hv_specs, get_hv_fn=<a href="ganeti.hypervisor.html#GetHypervisor" class="internal-link" title="ganeti.hypervisor.GetHypervisor">hypervisor.GetHypervisor</a>):
    
    <a class="headerLink" href="#_GetHvInfoAll" title="ganeti.backend._GetHvInfoAll">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Retrieves node information for all hypervisors.</p>
<p>See <tt class="rst-docutils literal">_GetHvInfo</tt> for information on the output.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">hv<wbr></wbr>_specs:</span>list of pairs (string, dict of strings)</td><td class="fieldArgDesc">list of pairs of a hypervisor's name and its hvparams</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">get<wbr></wbr>_hv<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetImportExportIoCommand">
    
  </a>
  <a name="_GetImportExportIoCommand">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetImportExportIoCommand</span>(instance, mode, ieio, ieargs):
    
    <a class="headerLink" href="#_GetImportExportIoCommand" title="ganeti.backend._GetImportExportIoCommand">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Returns the command for the requested input/output.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span><code><a href="ganeti.objects.Instance.html" class="internal-link" title="ganeti.objects.Instance">objects.Instance</a></code></td><td class="fieldArgDesc">The instance object</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">mode</span></td><td class="fieldArgDesc">Import/export mode</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ieio</span></td><td class="fieldArgDesc">Input/output type</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ieargs</span></td><td class="fieldArgDesc">Input/output arguments</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetInstanceInfo">
    
  </a>
  <a name="_GetInstanceInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetInstanceInfo</span>(instance):
    
    <a class="headerLink" href="#_GetInstanceInfo" title="ganeti.backend._GetInstanceInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Helper function <code><a href="#GetInstanceInfo" class="internal-link" title="ganeti.backend.GetInstanceInfo">GetInstanceInfo</a></code></p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetInstReasonFilename">
    
  </a>
  <a name="_GetInstReasonFilename">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetInstReasonFilename</span>(instance_name):
    
    <a class="headerLink" href="#_GetInstReasonFilename" title="ganeti.backend._GetInstReasonFilename">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Path of the file containing the reason of the instance status change.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">The name of the instance</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">string</td><td class="fieldArgDesc">The path of the file</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetLvmPvSpaceInfo">
    
  </a>
  <a name="_GetLvmPvSpaceInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetLvmPvSpaceInfo</span>(name, params):
    
    <a class="headerLink" href="#_GetLvmPvSpaceInfo" title="ganeti.backend._GetLvmPvSpaceInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Wrapper around <tt class="rst-docutils literal">_GetVgSpindlesInfo</tt> with sanity checks.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">See Also</td></tr><tr><td colspan="2"><tt class="rst-docutils literal">_GetLvmVgSpaceInfo</tt></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetLvmVgSpaceInfo">
    
  </a>
  <a name="_GetLvmVgSpaceInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetLvmVgSpaceInfo</span>(name, params):
    
    <a class="headerLink" href="#_GetLvmVgSpaceInfo" title="ganeti.backend._GetLvmVgSpaceInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Wrapper around <tt class="rst-docutils literal">_GetVgInfo</tt> which checks the storage parameters.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span>string</td><td class="fieldArgDesc">name of the volume group</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">params:</span>list</td><td class="fieldArgDesc">list of storage parameters, which in this case should be containing only one for exclusive storage</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetMasterNodeUUID">
    
  </a>
  <a name="_GetMasterNodeUUID">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetMasterNodeUUID</span>(node_uuid_name_map, master_node_name):
    
    <a class="headerLink" href="#_GetMasterNodeUUID" title="ganeti.backend._GetMasterNodeUUID">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetNamedNodeInfo">
    
  </a>
  <a name="_GetNamedNodeInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetNamedNodeInfo</span>(names, fn):
    
    <a class="headerLink" href="#_GetNamedNodeInfo" title="ganeti.backend._GetNamedNodeInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Calls <tt class="rst-docutils literal">fn</tt> for all names in <tt class="rst-docutils literal">names</tt> and returns a list of dictionaries.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None or list of dict</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetNewMasterKey">
    
  </a>
  <a name="_GetNewMasterKey">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetNewMasterKey</span>(root_keyfiles, master_node_uuid):
    
    <a class="headerLink" href="#_GetNewMasterKey" title="ganeti.backend._GetNewMasterKey">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetOldMasterKeys">
    
  </a>
  <a name="_GetOldMasterKeys">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetOldMasterKeys</span>(master_node_uuid, pub_key_file):
    
    <a class="headerLink" href="#_GetOldMasterKeys" title="ganeti.backend._GetOldMasterKeys">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetSshRunner">
    
  </a>
  <a name="_GetSshRunner">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetSshRunner</span>(cluster_name):
    
    <a class="headerLink" href="#_GetSshRunner" title="ganeti.backend._GetSshRunner">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Simple wrapper to return an SshRunner.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cluster<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">the cluster name, which is needed by the SshRunner constructor</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.ssh.SshRunner.html" class="internal-link" title="ganeti.ssh.SshRunner">ssh.SshRunner</a></code></td><td class="fieldArgDesc">an SshRunner instance</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetVgInfo">
    
  </a>
  <a name="_GetVgInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetVgInfo</span>(name, excl_stor, info_fn=<a href="ganeti.storage.bdev.LogicalVolume.html#GetVGInfo" class="internal-link" title="ganeti.storage.bdev.LogicalVolume.GetVGInfo">bdev.LogicalVolume.GetVGInfo</a>):
    
    <a class="headerLink" href="#_GetVgInfo" title="ganeti.backend._GetVgInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Retrieves information about a LVM volume group.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetVgSpindlesInfo">
    
  </a>
  <a name="_GetVgSpindlesInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetVgSpindlesInfo</span>(name, excl_stor, info_fn=<a href="ganeti.storage.bdev.LogicalVolume.html#GetVgSpindlesInfo" class="internal-link" title="ganeti.storage.bdev.LogicalVolume.GetVgSpindlesInfo">bdev.LogicalVolume.GetVgSpindlesInfo</a>):
    
    <a class="headerLink" href="#_GetVgSpindlesInfo" title="ganeti.backend._GetVgSpindlesInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Retrieves information about spindles in an LVM volume group.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name:</span>string</td><td class="fieldArgDesc">VG name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">excl<wbr></wbr>_stor:</span>bool</td><td class="fieldArgDesc">exclusive storage</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">info<wbr></wbr>_fn</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">dict</td><td class="fieldArgDesc">dictionary whose keys are "name", "vg_free", "vg_size" for VG name, free spindles, total spindles respectively</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._GetX509Filenames">
    
  </a>
  <a name="_GetX509Filenames">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_GetX509Filenames</span>(cryptodir, name):
    
    <a class="headerLink" href="#_GetX509Filenames" title="ganeti.backend._GetX509Filenames">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Returns the full paths for the private key and certificate.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._InitSshUpdateData">
    
  </a>
  <a name="_InitSshUpdateData">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_InitSshUpdateData</span>(data, noded_cert_file, ssconf_store):
    
    <a class="headerLink" href="#_InitSshUpdateData" title="ganeti.backend._InitSshUpdateData">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._InstanceLogName">
    
  </a>
  <a name="_InstanceLogName">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_InstanceLogName</span>(kind, os_name, instance, component):
    
    <a class="headerLink" href="#_InstanceLogName" title="ganeti.backend._InstanceLogName">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute the OS log filename for a given instance and operation.</p>
<p>The instance name and os name are passed in as strings since not all operations have these as part of an instance object.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">kind:</span>string</td><td class="fieldArgDesc">the operation type (e.g. add, import, etc.)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">os<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">the os name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance:</span>string</td><td class="fieldArgDesc">the name of the instance being imported/added/etc.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">component:</span>string or None</td><td class="fieldArgDesc">the name of the component of the instance being transferred</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._IsInstanceUserDown">
    
  </a>
  <a name="_IsInstanceUserDown">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_IsInstanceUserDown</span>(instance_info):
    
    <a class="headerLink" href="#_IsInstanceUserDown" title="ganeti.backend._IsInstanceUserDown">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._OpenRealBD">
    
  </a>
  <a name="_OpenRealBD">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_OpenRealBD</span>(disk):
    
    <a class="headerLink" href="#_OpenRealBD" title="ganeti.backend._OpenRealBD">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Opens the underlying block device of a disk.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk object we want to open</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._OSOndiskAPIVersion">
    
  </a>
  <a name="_OSOndiskAPIVersion">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_OSOndiskAPIVersion</span>(os_dir):
    
    <a class="headerLink" href="#_OSOndiskAPIVersion" title="ganeti.backend._OSOndiskAPIVersion">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Compute and return the API version of a given OS.</p>
<p>This function will try to read the API version of the OS residing in the 'os_dir' directory.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">os<wbr></wbr>_dir:</span>str</td><td class="fieldArgDesc">the directory in which we should look for the OS</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple</td><td class="fieldArgDesc">tuple (status, data) with status denoting the validity and data holding either the valid versions or an error message</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._PrepareRestrictedCmd">
    
  </a>
  <a name="_PrepareRestrictedCmd">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_PrepareRestrictedCmd</span>(path, cmd, _verify_dir=<a href="#_VerifyRestrictedCmdDirectory" class="internal-link" title="ganeti.backend._VerifyRestrictedCmdDirectory">_VerifyRestrictedCmdDirectory</a>, _verify_name=<a href="#_VerifyRestrictedCmdName" class="internal-link" title="ganeti.backend._VerifyRestrictedCmdName">_VerifyRestrictedCmdName</a>, _verify_cmd=<a href="#_VerifyRestrictedCmd" class="internal-link" title="ganeti.backend._VerifyRestrictedCmd">_VerifyRestrictedCmd</a>):
    
    <a class="headerLink" href="#_PrepareRestrictedCmd" title="ganeti.backend._PrepareRestrictedCmd">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Performs a number of tests on a restricted command.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path:</span>string</td><td class="fieldArgDesc">Directory containing restricted commands</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cmd:</span>string</td><td class="fieldArgDesc">Command name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_verify<wbr></wbr>_dir</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_verify<wbr></wbr>_name</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_verify<wbr></wbr>_cmd</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">Same as <code><a href="#_VerifyRestrictedCmd" class="internal-link" title="ganeti.backend._VerifyRestrictedCmd">_VerifyRestrictedCmd</a></code></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._RecursiveAssembleBD">
    
  </a>
  <a name="_RecursiveAssembleBD">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_RecursiveAssembleBD</span>(disk, owner, as_primary):
    
    <a class="headerLink" href="#_RecursiveAssembleBD" title="ganeti.backend._RecursiveAssembleBD">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Activate a block device for an instance.</p>
<p>This is run on the primary and secondary nodes for an instance.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk we try to assemble</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">owner:</span>str</td><td class="fieldArgDesc">the name of the instance which owns the disk</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">as<wbr></wbr>_primary:</span>boolean</td><td class="fieldArgDesc">if we should make the block device read/write</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">the assembled device or None (in case no device was assembled)</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="ganeti.errors.BlockDeviceError.html" class="internal-link" title="ganeti.errors.BlockDeviceError">errors.BlockDeviceError</a></code></td><td>in case there is an error during the activation of the children or the device itself</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Note</td></tr><tr><td colspan="2">this function is called recursively.</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._RecursiveFindBD">
    
  </a>
  <a name="_RecursiveFindBD">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_RecursiveFindBD</span>(disk, lvs_cache=None):
    
    <a class="headerLink" href="#_RecursiveFindBD" title="ganeti.backend._RecursiveFindBD">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Check if a device is activated.</p>
<p>If so, return information about the real device.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">disk:</span><code><a href="ganeti.objects.Disk.html" class="internal-link" title="ganeti.objects.Disk">objects.Disk</a></code></td><td class="fieldArgDesc">the disk object we need to find</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">lvs<wbr></wbr>_cache</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">None if the device can't be found, otherwise the device instance</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._RemoveBlockDevLinks">
    
  </a>
  <a name="_RemoveBlockDevLinks">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_RemoveBlockDevLinks</span>(instance_name, disks):
    
    <a class="headerLink" href="#_RemoveBlockDevLinks" title="ganeti.backend._RemoveBlockDevLinks">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Remove the block device symlinks belonging to the given instance.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._ReplaceMasterKeyOnMaster">
    
  </a>
  <a name="_ReplaceMasterKeyOnMaster">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_ReplaceMasterKeyOnMaster</span>(root_keyfiles):
    
    <a class="headerLink" href="#_ReplaceMasterKeyOnMaster" title="ganeti.backend._ReplaceMasterKeyOnMaster">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._RunMasterSetupScript">
    
  </a>
  <a name="_RunMasterSetupScript">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_RunMasterSetupScript</span>(master_params, action, use_external_mip_script):
    
    <a class="headerLink" href="#_RunMasterSetupScript" title="ganeti.backend._RunMasterSetupScript">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Execute the master IP address setup script.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">master<wbr></wbr>_params:</span><code><a href="ganeti.objects.MasterNetworkParameters.html" class="internal-link" title="ganeti.objects.MasterNetworkParameters">objects.MasterNetworkParameters</a></code></td><td class="fieldArgDesc">network parameters of the master</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">action:</span>string</td><td class="fieldArgDesc">action to pass to the script. Must be one of <code><a href="#_MASTER_START" class="internal-link" title="ganeti.backend._MASTER_START">backend._MASTER_START</a></code> or <code><a href="#_MASTER_STOP" class="internal-link" title="ganeti.backend._MASTER_STOP">backend._MASTER_STOP</a></code></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">use<wbr></wbr>_external<wbr></wbr>_mip<wbr></wbr>_script:</span>boolean</td><td class="fieldArgDesc">whether to use an external master IP address setup script</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code>backend.RPCFail</code></td><td>if there are errors during the execution of the script</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._StoreInstReasonTrail">
    
  </a>
  <a name="_StoreInstReasonTrail">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_StoreInstReasonTrail</span>(instance_name, trail):
    
    <a class="headerLink" href="#_StoreInstReasonTrail" title="ganeti.backend._StoreInstReasonTrail">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Serialize a reason trail related to an instance change of state to file.</p>
<p>The exact location of the file depends on the name of the instance and on the configuration of the Ganeti cluster defined at deploy time.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_name:</span>string</td><td class="fieldArgDesc">The name of the instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">trail:</span>list of reasons</td><td class="fieldArgDesc">reason trail</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">None</td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._SymlinkBlockDev">
    
  </a>
  <a name="_SymlinkBlockDev">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_SymlinkBlockDev</span>(instance_name, device_path, idx):
    
    <a class="headerLink" href="#_SymlinkBlockDev" title="ganeti.backend._SymlinkBlockDev">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Set up symlinks to a instance's block device.</p>
<p>This is an auxiliary function run when an instance is start (on the primary node) or when an instance is migrated (on the target node).</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">instance<wbr></wbr>_name</span></td><td class="fieldArgDesc">the name of the target instance</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">device<wbr></wbr>_path</span></td><td class="fieldArgDesc">path of the physical block device, on the node</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">idx</span></td><td class="fieldArgDesc">the disk index</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">absolute path to the disk's symlink</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._TransformFileStorageDir">
    
  </a>
  <a name="_TransformFileStorageDir">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_TransformFileStorageDir</span>(fs_dir):
    
    <a class="headerLink" href="#_TransformFileStorageDir" title="ganeti.backend._TransformFileStorageDir">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Checks whether given file_storage_dir is valid.</p>
<p>Checks wheter the given fs_dir is within the cluster-wide default file_storage_dir or the shared_file_storage_dir, which are stored in SimpleStore. Only paths under those directories are allowed.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fs<wbr></wbr>_dir:</span>str</td><td class="fieldArgDesc">the path to check</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td colspan="2">the normalized path if valid, None otherwise</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._TryOSFromDisk">
    
  </a>
  <a name="_TryOSFromDisk">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_TryOSFromDisk</span>(name, base_dir=None):
    
    <a class="headerLink" href="#_TryOSFromDisk" title="ganeti.backend._TryOSFromDisk">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Create an OS instance from disk.</p>
<p>This function will return an OS instance if the given name is a valid OS name.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">name</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">base<wbr></wbr>_dir:</span>string</td><td class="fieldArgDesc">Base directory containing OS installations. Defaults to a search in all the OS_SEARCH_PATH dirs.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple</td><td class="fieldArgDesc">success and either the OS instance if we find a valid one, or error message</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifyClientCertificate">
    
  </a>
  <a name="_VerifyClientCertificate">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifyClientCertificate</span>(cert_file=<a href="ganeti.pathutils.html#NODED_CLIENT_CERT_FILE" class="internal-link" title="ganeti.pathutils.NODED_CLIENT_CERT_FILE">pathutils.NODED_CLIENT_CERT_FILE</a>):
    
    <a class="headerLink" href="#_VerifyClientCertificate" title="ganeti.backend._VerifyClientCertificate">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verify the existance and validity of the client SSL certificate.</p>
<p>Also, verify that the client certificate is not self-signed. Self- signed client certificates stem from Ganeti versions 2.12.0 - 2.12.4 and should be replaced by client certificates signed by the server certificate. Hence we output a warning when we encounter a self-signed one.</p>
</div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifyHvparams">
    
  </a>
  <a name="_VerifyHvparams">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifyHvparams</span>(what, vm_capable, result, get_hv_fn=<a href="ganeti.hypervisor.html#GetHypervisor" class="internal-link" title="ganeti.hypervisor.GetHypervisor">hypervisor.GetHypervisor</a>):
    
    <a class="headerLink" href="#_VerifyHvparams" title="ganeti.backend._VerifyHvparams">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verifies the hvparams. Appends the results to the 'results' list.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">what:</span><tt class="rst-docutils literal">dict</tt></td><td class="fieldArgDesc">a dictionary of things to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">vm<wbr></wbr>_capable:</span>boolean</td><td class="fieldArgDesc">whether or not this node is vm capable</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">result:</span>dict</td><td class="fieldArgDesc">dictionary of verification results; results of the verifications in this function will be added here</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">get<wbr></wbr>_hv<wbr></wbr>_fn:</span>function</td><td class="fieldArgDesc">function to retrieve the hypervisor, to improve testability</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifyHypervisors">
    
  </a>
  <a name="_VerifyHypervisors">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifyHypervisors</span>(what, vm_capable, result, all_hvparams, get_hv_fn=<a href="ganeti.hypervisor.html#GetHypervisor" class="internal-link" title="ganeti.hypervisor.GetHypervisor">hypervisor.GetHypervisor</a>):
    
    <a class="headerLink" href="#_VerifyHypervisors" title="ganeti.backend._VerifyHypervisors">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verifies the hypervisor. Appends the results to the 'results' list.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">what:</span><tt class="rst-docutils literal">dict</tt></td><td class="fieldArgDesc">a dictionary of things to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">vm<wbr></wbr>_capable:</span>boolean</td><td class="fieldArgDesc">whether or not this node is vm capable</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">result:</span>dict</td><td class="fieldArgDesc">dictionary of verification results; results of the verifications in this function will be added here</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">all<wbr></wbr>_hvparams:</span>dict of dict of string</td><td class="fieldArgDesc">dictionary mapping hypervisor names to hvparams</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">get<wbr></wbr>_hv<wbr></wbr>_fn:</span>function</td><td class="fieldArgDesc">function to retrieve the hypervisor, to improve testability</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifyInstanceList">
    
  </a>
  <a name="_VerifyInstanceList">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifyInstanceList</span>(what, vm_capable, result, all_hvparams):
    
    <a class="headerLink" href="#_VerifyInstanceList" title="ganeti.backend._VerifyInstanceList">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verifies the instance list.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">what:</span><tt class="rst-docutils literal">dict</tt></td><td class="fieldArgDesc">a dictionary of things to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">vm<wbr></wbr>_capable:</span>boolean</td><td class="fieldArgDesc">whether or not this node is vm capable</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">result:</span>dict</td><td class="fieldArgDesc">dictionary of verification results; results of the verifications in this function will be added here</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">all<wbr></wbr>_hvparams:</span>dict of dict of string</td><td class="fieldArgDesc">dictionary mapping hypervisor names to hvparams</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifyNodeInfo">
    
  </a>
  <a name="_VerifyNodeInfo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifyNodeInfo</span>(what, vm_capable, result, all_hvparams):
    
    <a class="headerLink" href="#_VerifyNodeInfo" title="ganeti.backend._VerifyNodeInfo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verifies the node info.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">what:</span><tt class="rst-docutils literal">dict</tt></td><td class="fieldArgDesc">a dictionary of things to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">vm<wbr></wbr>_capable:</span>boolean</td><td class="fieldArgDesc">whether or not this node is vm capable</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">result:</span>dict</td><td class="fieldArgDesc">dictionary of verification results; results of the verifications in this function will be added here</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">all<wbr></wbr>_hvparams:</span>dict of dict of string</td><td class="fieldArgDesc">dictionary mapping hypervisor names to hvparams</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifyRestrictedCmd">
    
  </a>
  <a name="_VerifyRestrictedCmd">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifyRestrictedCmd</span>(path, cmd, _owner=None):
    
    <a class="headerLink" href="#_VerifyRestrictedCmd" title="ganeti.backend._VerifyRestrictedCmd">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verifies a whole restricted command and returns its executable filename.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path:</span>string</td><td class="fieldArgDesc">Directory containing restricted commands</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cmd:</span>string</td><td class="fieldArgDesc">Command name</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_owner</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple; (boolean, string)</td><td class="fieldArgDesc">The tuple's first element is the status; if <tt class="rst-docutils literal">False</tt>, the second element is an error message string, otherwise the second element is the absolute path to the executable</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifyRestrictedCmdDirectory">
    
  </a>
  <a name="_VerifyRestrictedCmdDirectory">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifyRestrictedCmdDirectory</span>(path, _owner=None):
    
    <a class="headerLink" href="#_VerifyRestrictedCmdDirectory" title="ganeti.backend._VerifyRestrictedCmdDirectory">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verifies restricted command directory.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">path:</span>string</td><td class="fieldArgDesc">Path to check</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">_owner</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple; (boolean, string or None)</td><td class="fieldArgDesc">The tuple's first element is the status; if <tt class="rst-docutils literal">False</tt>, the second element is an error message string, otherwise it's <tt class="rst-docutils literal">None</tt></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifyRestrictedCmdName">
    
  </a>
  <a name="_VerifyRestrictedCmdName">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifyRestrictedCmdName</span>(cmd):
    
    <a class="headerLink" href="#_VerifyRestrictedCmdName" title="ganeti.backend._VerifyRestrictedCmdName">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verifies a restricted command name.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">cmd:</span>string</td><td class="fieldArgDesc">Command name</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">tuple; (boolean, string or None)</td><td class="fieldArgDesc">The tuple's first element is the status; if <tt class="rst-docutils literal">False</tt>, the second element is an error message string, otherwise it's <tt class="rst-docutils literal">None</tt></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifySshClutter">
    
  </a>
  <a name="_VerifySshClutter">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifySshClutter</span>(node_status_list, my_name):
    
    <a class="headerLink" href="#_VerifySshClutter" title="ganeti.backend._VerifySshClutter">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verifies that the 'authorized_keys' files are not cluttered up.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_status<wbr></wbr>_list:</span>list of tuples</td><td class="fieldArgDesc">list of nodes of the cluster associated with a couple of flags: (uuid, name, is_master_candidate, is_potential_master_candidate, online)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">my<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">name of this node</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  
  <a name="ganeti.backend._VerifySshSetup">
    
  </a>
  <a name="_VerifySshSetup">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_VerifySshSetup</span>(node_status_list, my_name, ssh_key_type, ganeti_pub_keys_file=<a href="ganeti.pathutils.html#SSH_PUB_KEYS" class="internal-link" title="ganeti.pathutils.SSH_PUB_KEYS">pathutils.SSH_PUB_KEYS</a>):
    
    <a class="headerLink" href="#_VerifySshSetup" title="ganeti.backend._VerifySshSetup">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Verifies the state of the SSH key files.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">node<wbr></wbr>_status<wbr></wbr>_list:</span>list of tuples</td><td class="fieldArgDesc">list of nodes of the cluster associated with a couple of flags: (uuid, name, is_master_candidate, is_potential_master_candidate, online)</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">my<wbr></wbr>_name:</span>str</td><td class="fieldArgDesc">name of this node</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ssh<wbr></wbr>_key<wbr></wbr>_type:</span>one of <code><a href="ganeti._constants.html#SSHK_ALL" class="internal-link" title="ganeti._constants.SSHK_ALL">constants.SSHK_ALL</a></code></td><td class="fieldArgDesc">type of key used on nodes</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ganeti<wbr></wbr>_pub<wbr></wbr>_keys<wbr></wbr>_file:</span>str</td><td class="fieldArgDesc">filename of the public keys file</td></tr></table></div>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._ALLOWED_CLEAN_DIRS">
    
  </a>
  <a name="_ALLOWED_CLEAN_DIRS">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_ALLOWED_CLEAN_DIRS</span> =
    
    <a class="headerLink" href="#_ALLOWED_CLEAN_DIRS" title="ganeti.backend._ALLOWED_CLEAN_DIRS">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>denotes which directories are accepted in the <code><a href="#_CleanDirectory" class="internal-link" title="ganeti.backend._CleanDirectory">_CleanDirectory</a></code> function</p>
</div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><a href="ganeti.compat.html#UniqueFrozenset" class="internal-link" title="ganeti.compat.UniqueFrozenset">compat.UniqueFrozenset</a>(<wbr></wbr>[<wbr></wbr><a href="ganeti.pathutils.html#DATA_DIR" class="internal-link" title="ganeti.pathutils.DATA_DIR">pathutils.DATA_DIR</a>,
                        <wbr></wbr><a href="ganeti.pathutils.html#JOB_QUEUE_ARCHIVE_DIR" class="internal-link" title="ganeti.pathutils.JOB_QUEUE_ARCHIVE_DIR">pathutils.JOB_QUEUE_ARCHIVE_DIR</a>,
                        <wbr></wbr><a href="ganeti.pathutils.html#QUEUE_DIR" class="internal-link" title="ganeti.pathutils.QUEUE_DIR">pathutils.QUEUE_DIR</a>,
                        <wbr></wbr><a href="ganeti.pathutils.html#CRYPTO_KEYS_DIR" class="internal-link" title="ganeti.pathutils.CRYPTO_KEYS_DIR">pathutils.CRYPTO_KEYS_DIR</a>])</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._ALLOWED_UPLOAD_FILES">
    
  </a>
  <a name="_ALLOWED_UPLOAD_FILES">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_ALLOWED_UPLOAD_FILES</span> =
    
    <a class="headerLink" href="#_ALLOWED_UPLOAD_FILES" title="ganeti.backend._ALLOWED_UPLOAD_FILES">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>denotes which files are accepted in the <code><a href="#UploadFile" class="internal-link" title="ganeti.backend.UploadFile">UploadFile</a></code> function</p>
</div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><a href="#_BuildUploadFileList" class="internal-link" title="ganeti.backend._BuildUploadFileList">_BuildUploadFileList</a>()</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._BOOT_ID_PATH">
    
  </a>
  <a name="_BOOT_ID_PATH">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_BOOT_ID_PATH</span>: <code>str</code> =
    
    <a class="headerLink" href="#_BOOT_ID_PATH" title="ganeti.backend._BOOT_ID_PATH">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">/proc/sys/kernel/random/boot_id</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._IES_CA_FILE">
    
  </a>
  <a name="_IES_CA_FILE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_IES_CA_FILE</span>: <code>str</code> =
    
    <a class="headerLink" href="#_IES_CA_FILE" title="ganeti.backend._IES_CA_FILE">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">ca</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._IES_PID_FILE">
    
  </a>
  <a name="_IES_PID_FILE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_IES_PID_FILE</span>: <code>str</code> =
    
    <a class="headerLink" href="#_IES_PID_FILE" title="ganeti.backend._IES_PID_FILE">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">pid</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._IES_STATUS_FILE">
    
  </a>
  <a name="_IES_STATUS_FILE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_IES_STATUS_FILE</span>: <code>str</code> =
    
    <a class="headerLink" href="#_IES_STATUS_FILE" title="ganeti.backend._IES_STATUS_FILE">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">status</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._LVSLINE_REGEX">
    
  </a>
  <a name="_LVSLINE_REGEX">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_LVSLINE_REGEX</span> =
    
    <a class="headerLink" href="#_LVSLINE_REGEX" title="ganeti.backend._LVSLINE_REGEX">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>re.compile(r<span class="rst-variable-quote">'</span>^ <span class="rst-re-op">*</span><span class="rst-re-group">(</span><span class="rst-re-group">[^</span>\|<span class="rst-re-group">]</span><span class="rst-re-op">+</span><span class="rst-re-group">)</span>\|<span class="rst-re-group">(</span><span class="rst-re-group">[^</span>\|<span class="rst-re-group">]</span><span class="rst-re-op">+</span><span class="rst-re-group">)</span>\|<span class="rst-re-group">(</span><span class="rst-re-group">[</span>0<span class="rst-re-op">-</span>9\.<span class="rst-re-group">]</span><span class="rst-re-op">+</span><span class="rst-re-group">)</span>\|<span class="rst-re-group">(</span><span class="rst-re-group">[^</span>\|<span class="rst-re-group">]</span><span class="rst-re-op">{6,}</span><span class="rst-re-group">)</span>\|<span class="rst-re-op">?</span>$<span class="rst-variable-quote">'</span>)</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._MASTER_START">
    
  </a>
  <a name="_MASTER_START">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_MASTER_START</span>: <code>str</code> =
    
    <a class="headerLink" href="#_MASTER_START" title="ganeti.backend._MASTER_START">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">start</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._MASTER_STOP">
    
  </a>
  <a name="_MASTER_STOP">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_MASTER_STOP</span>: <code>str</code> =
    
    <a class="headerLink" href="#_MASTER_STOP" title="ganeti.backend._MASTER_STOP">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">stop</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._MAX_SSL_CERT_VALIDITY">
    
  </a>
  <a name="_MAX_SSL_CERT_VALIDITY">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_MAX_SSL_CERT_VALIDITY</span> =
    
    <a class="headerLink" href="#_MAX_SSL_CERT_VALIDITY" title="ganeti.backend._MAX_SSL_CERT_VALIDITY">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>((7*24)*60)*60</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._RCMD_INVALID_DELAY">
    
  </a>
  <a name="_RCMD_INVALID_DELAY">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_RCMD_INVALID_DELAY</span>: <code>int</code> =
    
    <a class="headerLink" href="#_RCMD_INVALID_DELAY" title="ganeti.backend._RCMD_INVALID_DELAY">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>10</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._RCMD_LOCK_TIMEOUT">
    
  </a>
  <a name="_RCMD_LOCK_TIMEOUT">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_RCMD_LOCK_TIMEOUT</span> =
    
    <a class="headerLink" href="#_RCMD_LOCK_TIMEOUT" title="ganeti.backend._RCMD_LOCK_TIMEOUT">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><a href="#_RCMD_INVALID_DELAY" class="internal-link" title="ganeti.backend._RCMD_INVALID_DELAY">_RCMD_INVALID_DELAY</a>*0.8</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._RCMD_MAX_MODE">
    
  </a>
  <a name="_RCMD_MAX_MODE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_RCMD_MAX_MODE</span> =
    
    <a class="headerLink" href="#_RCMD_MAX_MODE" title="ganeti.backend._RCMD_MAX_MODE">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>(((stat.S_IRWXU|stat.S_IRGRP)|stat.S_IXGRP)|stat.S_IROTH)|stat.S_IXOTH</code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._STORAGE_TYPE_INFO_FN">
    
  </a>
  <a name="_STORAGE_TYPE_INFO_FN">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_STORAGE_TYPE_INFO_FN</span> =
    
    <a class="headerLink" href="#_STORAGE_TYPE_INFO_FN" title="ganeti.backend._STORAGE_TYPE_INFO_FN">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code>{<wbr></wbr><a href="ganeti._constants.html#ST_BLOCK" class="internal-link" title="ganeti._constants.ST_BLOCK">constants.ST_BLOCK</a>: None,
 <wbr></wbr><a href="ganeti._constants.html#ST_DISKLESS" class="internal-link" title="ganeti._constants.ST_DISKLESS">constants.ST_DISKLESS</a>: None,
 <wbr></wbr><a href="ganeti._constants.html#ST_EXT" class="internal-link" title="ganeti._constants.ST_EXT">constants.ST_EXT</a>: None,
 <wbr></wbr><a href="ganeti._constants.html#ST_FILE" class="internal-link" title="ganeti._constants.ST_FILE">constants.ST_FILE</a>: <a href="#_GetFileStorageSpaceInfo" class="internal-link" title="ganeti.backend._GetFileStorageSpaceInfo">_GetFileStorageSpaceInfo</a>,
 <wbr></wbr><a href="ganeti._constants.html#ST_LVM_PV" class="internal-link" title="ganeti._constants.ST_LVM_PV">constants.ST_LVM_PV</a>: <a href="#_GetLvmPvSpaceInfo" class="internal-link" title="ganeti.backend._GetLvmPvSpaceInfo">_GetLvmPvSpaceInfo</a>,
 <wbr></wbr><a href="ganeti._constants.html#ST_LVM_VG" class="internal-link" title="ganeti._constants.ST_LVM_VG">constants.ST_LVM_VG</a>: <a href="#_GetLvmVgSpaceInfo" class="internal-link" title="ganeti.backend._GetLvmVgSpaceInfo">_GetLvmVgSpaceInfo</a>,
 <wbr></wbr><a href="ganeti._constants.html#ST_SHARED_FILE" class="internal-link" title="ganeti._constants.ST_SHARED_FILE">constants.ST_SHARED_FILE</a>: None,
<span class="rst-variable-ellipsis">...</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._X509_CERT_FILE">
    
  </a>
  <a name="_X509_CERT_FILE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_X509_CERT_FILE</span>: <code>str</code> =
    
    <a class="headerLink" href="#_X509_CERT_FILE" title="ganeti.backend._X509_CERT_FILE">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">cert</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div><div class="baseconstant private">
  
  
  <a name="ganeti.backend._X509_KEY_FILE">
    
  </a>
  <a name="_X509_KEY_FILE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_X509_KEY_FILE</span>: <code>str</code> =
    
    <a class="headerLink" href="#_X509_KEY_FILE" title="ganeti.backend._X509_KEY_FILE">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    <table class="valueTable"><tr class="fieldStart"><td class="fieldName">Value</td></tr><tr><td><pre class="constant-value"><code><span class="rst-variable-quote">'</span><span class="rst-variable-string">key</span><span class="rst-variable-quote">'</span></code></pre></td></tr></table>
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for ganeti/server,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.9.1 at 2024-05-06 13:21:37.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>