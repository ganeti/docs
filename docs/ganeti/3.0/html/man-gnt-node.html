
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>gnt-node &#8212; Ganeti 3.0.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="gnt-os" href="man-gnt-os.html" />
    <link rel="prev" title="gnt-network" href="man-gnt-network.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="man-gnt-os.html" title="gnt-os"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="man-gnt-network.html" title="gnt-network"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Ganeti 3.0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="manpages.html" accesskey="U">Man pages</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="gnt-node">
<h1>gnt-node<a class="headerlink" href="#gnt-node" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>gnt-node - Node administration</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>gnt-node</strong> {command} [arguments…]</p>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <strong>gnt-node</strong> is used for managing the (physical) nodes in the
Ganeti system.</p>
</div>
<div class="section" id="commands">
<h2>COMMANDS<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="add">
<h3>ADD<a class="headerlink" href="#add" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>add</strong> [–readd] [{-s|–secondary-ip} <em>secondary_ip</em>]</div>
<div class="line">[{-g|–node-group} <em>nodegroup</em>]</div>
<div class="line">[–master-capable=``yes|no``] [–vm-capable=``yes|no``]</div>
<div class="line">[–node-parameters <em>ndparams</em>]</div>
<div class="line">[–disk-state <em>diskstate</em>]</div>
<div class="line">[–hypervisor-state <em>hvstate</em>]</div>
<div class="line">[–no-node-setup]</div>
<div class="line">{<em>node-name</em>}</div>
</div>
<p>Adds the given node to the cluster.</p>
<p>This command is used to join a new node to the cluster. You will
have to provide credentials to ssh as root to the node to be added.
Forwarding of an ssh agent (the <code class="docutils literal notranslate"><span class="pre">-A</span></code> option of ssh) works, if an
appropriate authorized key is set up on the node to be added. If
the other node allows password authentication for root, another
way of providing credentials is to provide the root password once
asked for it. The command needs to be run on the Ganeti master.</p>
<p>Note that the command is potentially destructive, as it will
forcibly join the specified host to the cluster, not paying attention
to its current status (it could be already in a cluster, etc.)</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">(--secondary-ip)</span></code> is used in dual-home clusters and
specifies the new node’s IP in the secondary network. See the
discussion in <strong>gnt-cluster</strong>(8) for more information.</p>
<p>In case you’re re-adding a node after hardware failure, you can use
the <code class="docutils literal notranslate"><span class="pre">--readd</span></code> parameter. In this case, you don’t need to pass the
secondary IP again, it will be reused from the cluster. Also, the
drained and offline flags of the node will be cleared before
re-adding it. Note that even for re-added nodes, a new SSH key is
generated and distributed and previous Ganeti keys are removed
from the machine.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-g</span> <span class="pre">(--node-group)</span></code> option is used to add the new node into a
specific node group, specified by UUID or name. If only one node group
exists you can skip this option, otherwise it’s mandatory.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--no-node-setup</span></code> option that used to prevent Ganeti from performing
the initial SSH setup on the new node is no longer valid. Instead,
Ganeti considers the <code class="docutils literal notranslate"><span class="pre">modify</span> <span class="pre">ssh</span> <span class="pre">setup</span></code> configuration parameter
(which is set using <code class="docutils literal notranslate"><span class="pre">--no-ssh-init</span></code> during cluster initialization)
to determine whether or not to do the SSH setup on a new node or not.
If this parameter is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, Ganeti will not touch the SSH
keys or the <code class="docutils literal notranslate"><span class="pre">authorized_keys</span></code> file of the node at all. Using this option,
it lies in the administrators responsibility to ensure SSH connectivity
between the hosts by other means.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">vm_capable</span></code>, <code class="docutils literal notranslate"><span class="pre">master_capable</span></code>, <code class="docutils literal notranslate"><span class="pre">ndparams</span></code>, <code class="docutils literal notranslate"><span class="pre">diskstate</span></code> and
<code class="docutils literal notranslate"><span class="pre">hvstate</span></code> options are described in <strong>ganeti</strong>(7), and are used to set
the properties of the new node.</p>
<p>The command performs some operations that change the state of the master
and the new node, like copying certificates and starting the node daemon
on the new node, or updating <code class="docutils literal notranslate"><span class="pre">/etc/hosts</span></code> on the master node.  If the
command fails at a later stage, it doesn’t undo such changes.  This
should not be a problem, as a successful run of <code class="docutils literal notranslate"><span class="pre">gnt-node</span> <span class="pre">add</span></code> will
bring everything back in sync.</p>
<p>If the node was previously part of another cluster and still has daemons
running, the <code class="docutils literal notranslate"><span class="pre">node-cleanup</span></code> tool can be run on the machine to be added
to clean remains of the previous cluster from the node.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node add node5.example.com</span>
<span class="c1"># gnt-node add -s 192.0.2.5 node5.example.com</span>
<span class="c1"># gnt-node add -g group2 -s 192.0.2.9 node9.group2.example.com</span>
</pre></div>
</div>
</div>
<div class="section" id="evacuate">
<h3>EVACUATE<a class="headerlink" href="#evacuate" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>evacuate</strong> [-f] [–early-release] [–submit] [–print-jobid]</div>
<div class="line">[{-I|–iallocator} <em>name</em> | {-n|–new-secondary} <em>destination_node</em>]</div>
<div class="line">[–ignore-soft-errors]</div>
<div class="line">[{-p|–primary-only} | {-s|–secondary-only} ]</div>
<div class="line-block">
<div class="line">{<em>node</em>}</div>
</div>
</div>
<p>This command will move instances away from the given node. If
<code class="docutils literal notranslate"><span class="pre">--primary-only</span></code> is given, only primary instances are evacuated, with
<code class="docutils literal notranslate"><span class="pre">--secondary-only</span></code> only secondaries. If neither is given, all
instances are evacuated. It works only for instances having a drbd disk
template.</p>
<p>The new location for the instances can be specified in two ways:</p>
<ul class="simple">
<li>as a single node for all instances, via the <code class="docutils literal notranslate"><span class="pre">-n</span> <span class="pre">(--new-secondary)</span></code>
option</li>
<li>or via the <code class="docutils literal notranslate"><span class="pre">-I</span> <span class="pre">(--iallocator)</span></code> option, giving a script name as
parameter (or <code class="docutils literal notranslate"><span class="pre">.</span></code> to use the default allocator), so each instance
will be in turn placed on the (per the script) optimal node</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">--early-release</span></code> changes the code so that the old storage on
node being evacuated is removed early (before the resync is
completed) and the internal Ganeti locks are also released for both
the current secondary and the new secondary, thus allowing more
parallelism in the cluster operation. This should be used only when
recovering from a disk failure on the current secondary (thus the
old storage is already broken) or when the storage on the primary
node is known to be fine (thus we won’t need the old storage for
potential recovery).</p>
<p>Note that this command is equivalent to using per-instance commands for
each affected instance individually:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">--primary-only</span></code> is equivalent to performing <code class="docutils literal notranslate"><span class="pre">gnt-instance</span>
<span class="pre">migrate</span></code> for every primary instance running on the node that can be
migrated and <code class="docutils literal notranslate"><span class="pre">gnt-instance</span> <span class="pre">failover</span></code> for every primary instance that
cannot be migrated.</li>
<li><code class="docutils literal notranslate"><span class="pre">--secondary-only</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">gnt-instance</span> <span class="pre">replace-disks</span></code>
in secondary node change mode (<code class="docutils literal notranslate"><span class="pre">--new-secondary</span></code>) for every DRBD
instance that the node is a secondary for.</li>
<li>when neither of the above is done a combination of the two cases is run</li>
</ul>
<p>Note that the iallocator currently only considers disk information of
the default disk template, even if the instance’s disk templates differ
from that.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--ignore-soft-errors</span></code> option is passed through to the allocator.</p>
<p>See <strong>ganeti</strong>(7) for a description of <code class="docutils literal notranslate"><span class="pre">--submit</span></code> and other common
options.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node evacuate -I hail node3.example.com</span>
</pre></div>
</div>
<p>Note that, due to an issue with the iallocator interface, evacuation of
all instances at once is not yet implemented. Full evacuation can
currently be achieved by sequentially evacuating primaries and
secondaries.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node evacuate -p node3.example.com</span>
<span class="c1"># gnt-node evacuate -s node3.example.com</span>
</pre></div>
</div>
</div>
<div class="section" id="failover">
<h3>FAILOVER<a class="headerlink" href="#failover" title="Permalink to this headline">¶</a></h3>
<p><strong>failover</strong> [-f] [–ignore-consistency] {<em>node</em>}</p>
<p>This command will fail over all instances having the given node as
primary to their secondary nodes. This works only for instances having
a drbd disk template.</p>
<p>Note that failover will stop any running instances on the given node and
restart them again on the new primary.
See also FAILOVER in <strong>gnt-instance</strong>(8).</p>
<p>Normally the failover will check the consistency of the disks before
failing over the instance. If you are trying to migrate instances off
a dead node, this will fail. Use the <code class="docutils literal notranslate"><span class="pre">--ignore-consistency</span></code> option
for this purpose.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node failover node1.example.com</span>
</pre></div>
</div>
</div>
<div class="section" id="info">
<h3>INFO<a class="headerlink" href="#info" title="Permalink to this headline">¶</a></h3>
<p><strong>info</strong> [<em>node</em>…]</p>
<p>Show detailed information about the nodes in the cluster. If you
don’t give any arguments, all nodes will be shown, otherwise the
output will be restricted to the given names.</p>
</div>
<div class="section" id="list">
<h3>LIST<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>list</strong></div>
<div class="line">[–no-headers] [–separator=*SEPARATOR*]</div>
<div class="line">[–units=*UNITS*] [-v] [{-o|–output} <em>[+]FIELD,…</em>]</div>
<div class="line">[–filter]</div>
<div class="line">[<em>node-name</em>…]</div>
</div>
<p>Lists the nodes in the cluster.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--no-headers</span></code> option will skip the initial header line. The
<code class="docutils literal notranslate"><span class="pre">--separator</span></code> option takes an argument which denotes what will be
used between the output fields. Both these options are to help
scripting.</p>
<p>The units used to display the numeric values in the output varies,
depending on the options given. By default, the values will be
formatted in the most appropriate unit. If the <code class="docutils literal notranslate"><span class="pre">--separator</span></code>
option is given, then the values are shown in mebibytes to allow
parsing by scripts. In both cases, the <code class="docutils literal notranslate"><span class="pre">--units</span></code> option can be
used to enforce a given output unit.</p>
<p>Queries of nodes will be done in parallel with any running jobs. This might
give inconsistent results for the free disk/memory.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-v</span></code> option activates verbose mode, which changes the display of
special field states (see <strong>ganeti</strong>(7)).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">(--output)</span></code> option takes a comma-separated list of output
fields. The available fields and their meaning are:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">bootid</span></code></dt>
<dd>Random UUID renewed for each system reboot, can be used for detecting reboots by tracking changes</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cnodes</span></code></dt>
<dd>Number of NUMA domains on node (if exported by hypervisor)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cnos</span></code></dt>
<dd>Number of logical processors used by the node OS (dom0 for Xen)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">csockets</span></code></dt>
<dd>Number of physical CPU sockets (if exported by hypervisor)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ctime</span></code></dt>
<dd>Creation timestamp</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ctotal</span></code></dt>
<dd>Number of logical processors</dd>
<dt><code class="docutils literal notranslate"><span class="pre">custom_ndparams</span></code></dt>
<dd>Custom node parameters</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dfree</span></code></dt>
<dd>Available storage space in storage unit</dd>
<dt><code class="docutils literal notranslate"><span class="pre">disk_state</span></code></dt>
<dd>Disk state</dd>
<dt><code class="docutils literal notranslate"><span class="pre">drained</span></code></dt>
<dd>Whether node is drained</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dtotal</span></code></dt>
<dd>Total storage space in storage unit used for instance disk allocation</dd>
<dt><code class="docutils literal notranslate"><span class="pre">group</span></code></dt>
<dd>Node group</dd>
<dt><code class="docutils literal notranslate"><span class="pre">group.uuid</span></code></dt>
<dd>UUID of node group</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hv_state</span></code></dt>
<dd>Hypervisor state</dd>
<dt><code class="docutils literal notranslate"><span class="pre">master</span></code></dt>
<dd>Whether node is master</dd>
<dt><code class="docutils literal notranslate"><span class="pre">master_candidate</span></code></dt>
<dd>Whether node is a master candidate</dd>
<dt><code class="docutils literal notranslate"><span class="pre">master_capable</span></code></dt>
<dd>Whether node can become a master candidate</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mfree</span></code></dt>
<dd>Memory available for instance allocations</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mnode</span></code></dt>
<dd>Amount of memory used by node (dom0 for Xen)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mtime</span></code></dt>
<dd>Modification timestamp</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mtotal</span></code></dt>
<dd>Total amount of memory of physical machine</dd>
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt>
<dd>Node name</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndp/cpu_speed</span></code></dt>
<dd>The “cpu_speed” node parameter</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndp/exclusive_storage</span></code></dt>
<dd>The “exclusive_storage” node parameter</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndp/oob_program</span></code></dt>
<dd>The “oob_program” node parameter</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndp/ovs</span></code></dt>
<dd>The “ovs” node parameter</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndp/ovs_link</span></code></dt>
<dd>The “ovs_link” node parameter</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndp/ovs_name</span></code></dt>
<dd>The “ovs_name” node parameter</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndp/spindle_count</span></code></dt>
<dd>The “spindle_count” node parameter</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndp/ssh_port</span></code></dt>
<dd>The “ssh_port” node parameter</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ndparams</span></code></dt>
<dd>Merged node parameters</dd>
<dt><code class="docutils literal notranslate"><span class="pre">offline</span></code></dt>
<dd>Whether node is marked offline</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pinst_cnt</span></code></dt>
<dd>Number of instances with this node as primary</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pinst_list</span></code></dt>
<dd>List of instances with this node as primary</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pip</span></code></dt>
<dd>Primary IP address</dd>
<dt><code class="docutils literal notranslate"><span class="pre">powered</span></code></dt>
<dd>Whether node is thought to be powered on</dd>
<dt><code class="docutils literal notranslate"><span class="pre">role</span></code></dt>
<dd>Node role; “M” for master, “C” for master candidate, “R” for regular, “D” for drained, “O” for offline</dd>
<dt><code class="docutils literal notranslate"><span class="pre">serial_no</span></code></dt>
<dd>Node object serial number, incremented on each modification</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sinst_cnt</span></code></dt>
<dd>Number of instances with this node as secondary</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sinst_list</span></code></dt>
<dd>List of instances with this node as secondary</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sip</span></code></dt>
<dd>Secondary IP address</dd>
<dt><code class="docutils literal notranslate"><span class="pre">spfree</span></code></dt>
<dd>Available spindles in volume group (exclusive storage only)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sptotal</span></code></dt>
<dd>Total spindles in volume group (exclusive storage only)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tags</span></code></dt>
<dd>Tags</dd>
<dt><code class="docutils literal notranslate"><span class="pre">uuid</span></code></dt>
<dd>Node UUID</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vm_capable</span></code></dt>
<dd>Whether node can host instances</dd>
</dl>
<p>If the value of the option starts with the character <code class="docutils literal notranslate"><span class="pre">+</span></code>, the new
fields will be added to the default list. This allows one to quickly
see the default list plus a few other fields, instead of retyping
the entire list of fields.</p>
<p>Note that some of these fields are known from the configuration of the
cluster (e.g. <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">pinst</span></code>, <code class="docutils literal notranslate"><span class="pre">sinst</span></code>, <code class="docutils literal notranslate"><span class="pre">pip</span></code>, <code class="docutils literal notranslate"><span class="pre">sip</span></code>) and thus
the master does not need to contact the node for this data (making the
listing fast if only fields from this set are selected), whereas the
other fields are “live” fields and require a query to the cluster nodes.</p>
<p>Depending on the virtualization type and implementation details, the
<code class="docutils literal notranslate"><span class="pre">mtotal</span></code>, <code class="docutils literal notranslate"><span class="pre">mnode</span></code> and <code class="docutils literal notranslate"><span class="pre">mfree</span></code> fields may have slightly varying
meanings. For example, some solutions share the node memory with the
pool of memory used for instances (KVM), whereas others have separate
memory for the node and for the instances (Xen).</p>
<p>Note that the field ‘dtotal’ and ‘dfree’ refer to the storage type
that is defined by the default disk template. The default disk template
is the first on in the list of cluster-wide enabled disk templates and
can be set with <code class="docutils literal notranslate"><span class="pre">gnt-cluster</span> <span class="pre">modify</span></code>. Currently, only the disk
templates ‘plain’, ‘drbd’, ‘file’, and ‘sharedfile’ support storage
reporting, for all others ‘0’ is displayed.</p>
<p>If exactly one argument is given and it appears to be a query filter
(see <strong>ganeti</strong>(7)), the query result is filtered accordingly. For
ambiguous cases (e.g. a single field name as a filter) the <code class="docutils literal notranslate"><span class="pre">--filter</span></code>
(<code class="docutils literal notranslate"><span class="pre">-F</span></code>) option forces the argument to be treated as a filter (e.g.
<code class="docutils literal notranslate"><span class="pre">gnt-node</span> <span class="pre">list</span> <span class="pre">-F</span> <span class="pre">master_candidate</span></code>).</p>
<p>If no node names are given, then all nodes are queried. Otherwise,
only the given nodes will be listed.</p>
</div>
<div class="section" id="list-drbd">
<h3>LIST-DRBD<a class="headerlink" href="#list-drbd" title="Permalink to this headline">¶</a></h3>
<p><strong>list-drbd</strong> [–no-headers] [–separator=*SEPARATOR*] <em>node</em></p>
<p>Lists the mapping of DRBD minors for a given node. This outputs a static
list of fields (it doesn’t accept the <code class="docutils literal notranslate"><span class="pre">--output</span></code> option), as follows:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">Node</span></code></dt>
<dd>The (full) name of the node we are querying</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Minor</span></code></dt>
<dd>The DRBD minor</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Instance</span></code></dt>
<dd>The instance the DRBD minor belongs to</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Disk</span></code></dt>
<dd>The disk index that the DRBD minor belongs to</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Role</span></code></dt>
<dd>Either <code class="docutils literal notranslate"><span class="pre">primary</span></code> or <code class="docutils literal notranslate"><span class="pre">secondary</span></code>, denoting the role of the node for
the instance (note: this is not the live status of the DRBD device,
but the configuration value)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PeerNode</span></code></dt>
<dd>The node that the minor is connected to on the other end</dd>
</dl>
<p>This command can be used as a reverse lookup (from node and minor) to a
given instance, which can be useful when debugging DRBD issues.</p>
<p>Note that this command queries Ganeti via <strong>ganeti-confd</strong>(8), so
it won’t be available if support for <code class="docutils literal notranslate"><span class="pre">confd</span></code> has not been enabled at
build time; furthermore, in Ganeti 2.6 this is only available via the
Haskell version of confd (again selected at build time).</p>
</div>
<div class="section" id="list-fields">
<h3>LIST-FIELDS<a class="headerlink" href="#list-fields" title="Permalink to this headline">¶</a></h3>
<p><strong>list-fields</strong> [field…]</p>
<p>Lists available fields for nodes.</p>
</div>
<div class="section" id="migrate">
<h3>MIGRATE<a class="headerlink" href="#migrate" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>migrate</strong> [-f] [–non-live] [–migration-mode=live|non-live]</div>
<div class="line">[–ignore-ipolicy] [–submit] [–print-jobid] {<em>node</em>}</div>
</div>
<p>This command will migrate all instances having the given node as
primary to their secondary nodes. This works only for instances
having a drbd disk template.</p>
<p>As for the <strong>gnt-instance migrate</strong> command, the options
<code class="docutils literal notranslate"><span class="pre">--no-live</span></code>, <code class="docutils literal notranslate"><span class="pre">--migration-mode</span></code> and <code class="docutils literal notranslate"><span class="pre">--no-runtime-changes</span></code>
can be given to influence the migration type.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">--ignore-ipolicy</span></code> is given any instance policy violations
occurring during this operation are ignored.</p>
<p>See <strong>ganeti</strong>(7) for a description of <code class="docutils literal notranslate"><span class="pre">--submit</span></code> and other common
options.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node migrate node1.example.com</span>
</pre></div>
</div>
</div>
<div class="section" id="modify">
<h3>MODIFY<a class="headerlink" href="#modify" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>modify</strong> [-f] [–submit] [–print-jobid]</div>
<div class="line">[{-C|–master-candidate} <code class="docutils literal notranslate"><span class="pre">yes|no</span></code>]</div>
<div class="line">[{-D|–drained} <code class="docutils literal notranslate"><span class="pre">yes|no</span></code>] [{-O|–offline} <code class="docutils literal notranslate"><span class="pre">yes|no</span></code>]</div>
<div class="line">[–master-capable=``yes|no``] [–vm-capable=``yes|no``] [–auto-promote]</div>
<div class="line">[{-s|–secondary-ip} <em>secondary_ip</em>]</div>
<div class="line">[–node-parameters <em>ndparams</em>]</div>
<div class="line">[–node-powered=``yes|no``]</div>
<div class="line">[–hypervisor-state <em>hvstate</em>]</div>
<div class="line">[–disk-state <em>diskstate</em>]</div>
<div class="line">{<em>node-name</em>}</div>
</div>
<p>This command changes the role of the node. Each options takes
either a literal yes or no, and only one option should be given as
yes. The meaning of the roles and flags are described in the
manpage <strong>ganeti</strong>(7).</p>
<p>The option <code class="docutils literal notranslate"><span class="pre">--node-powered</span></code> can be used to modify state-of-record if
it doesn’t reflect the reality anymore.</p>
<p>In case a node is demoted from the master candidate role, the
operation will be refused unless you pass the <code class="docutils literal notranslate"><span class="pre">--auto-promote</span></code>
option. This option will cause the operation to lock all cluster nodes
(thus it will not be able to run in parallel with most other jobs),
but it allows automated maintenance of the cluster candidate pool. If
locking all cluster node is too expensive, another option is to
promote manually another node to master candidate before demoting the
current one.</p>
<p>Example (setting a node offline, which will demote it from master
candidate role if is in that role):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node modify --offline=yes node1.example.com</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">(--secondary-ip)</span></code> option can be used to change the node’s
secondary ip. No drbd instances can be running on the node, while this
operation is taking place. Remember that the secondary ip must be
reachable from the master secondary ip, when being changed, so be sure
that the node has the new IP already configured and active. In order to
convert a cluster from single homed to multi-homed or vice versa
<code class="docutils literal notranslate"><span class="pre">--force</span></code> is needed as well, and the target node for the first change
must be the master.</p>
<p>See <strong>ganeti</strong>(7) for a description of <code class="docutils literal notranslate"><span class="pre">--submit</span></code> and other common
options.</p>
<p>Example (setting the node back to online and master candidate):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node modify --offline=no --master-candidate=yes node1.example.com</span>
</pre></div>
</div>
</div>
<div class="section" id="remove">
<h3>REMOVE<a class="headerlink" href="#remove" title="Permalink to this headline">¶</a></h3>
<p><strong>remove</strong> {<em>node-name</em>}</p>
<p>Removes a node from the cluster. Instances must be removed or
migrated to another cluster before.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node remove node5.example.com</span>
</pre></div>
</div>
</div>
<div class="section" id="volumes">
<h3>VOLUMES<a class="headerlink" href="#volumes" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>volumes</strong> [–no-headers] [–human-readable]</div>
<div class="line">[–separator=*SEPARATOR*] [{-o|–output} <em>FIELDS</em>]</div>
<div class="line">[<em>node-name</em>…]</div>
</div>
<p>Lists all logical volumes and their physical disks from the node(s)
provided.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--no-headers</span></code> option will skip the initial header line. The
<code class="docutils literal notranslate"><span class="pre">--separator</span></code> option takes an argument which denotes what will be
used between the output fields. Both these options are to help
scripting.</p>
<p>The units used to display the numeric values in the output varies,
depending on the options given. By default, the values will be
formatted in the most appropriate unit. If the <code class="docutils literal notranslate"><span class="pre">--separator</span></code>
option is given, then the values are shown in mebibytes to allow
parsing by scripts. In both cases, the <code class="docutils literal notranslate"><span class="pre">--units</span></code> option can be
used to enforce a given output unit.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">(--output)</span></code> option takes a comma-separated list of output
fields. The available fields and their meaning are:</p>
<dl class="docutils">
<dt>node</dt>
<dd>the node name on which the volume exists</dd>
<dt>phys</dt>
<dd>the physical drive (on which the LVM physical volume lives)</dd>
<dt>vg</dt>
<dd>the volume group name</dd>
<dt>name</dt>
<dd>the logical volume name</dd>
<dt>size</dt>
<dd>the logical volume size</dd>
<dt>instance</dt>
<dd>The name of the instance to which this volume belongs, or (in case
it’s an orphan volume) the character “-“</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node volumes node5.example.com</span>
<span class="n">Node</span>              <span class="n">PhysDev</span>   <span class="n">VG</span>    <span class="n">Name</span>                                 <span class="n">Size</span> <span class="n">Instance</span>
<span class="n">node1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">hdc1</span> <span class="n">xenvg</span> <span class="n">instance1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">-</span><span class="n">sda_11000</span><span class="o">.</span><span class="n">meta</span> <span class="mi">128</span>  <span class="n">instance1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="n">node1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">hdc1</span> <span class="n">xenvg</span> <span class="n">instance1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">-</span><span class="n">sda_11001</span><span class="o">.</span><span class="n">data</span> <span class="mi">256</span>  <span class="n">instance1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
</div>
<div class="section" id="list-storage">
<h3>LIST-STORAGE<a class="headerlink" href="#list-storage" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>list-storage</strong> [–no-headers] [–human-readable]</div>
<div class="line">[–separator=*SEPARATOR*] [–storage-type=*STORAGE_TYPE*]</div>
<div class="line">[{-o|–output} <em>FIELDS</em>]</div>
<div class="line">[<em>node-name</em>…]</div>
</div>
<p>Lists the available storage units and their details for the given
node(s).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--no-headers</span></code> option will skip the initial header line. The
<code class="docutils literal notranslate"><span class="pre">--separator</span></code> option takes an argument which denotes what will be
used between the output fields. Both these options are to help
scripting.</p>
<p>The units used to display the numeric values in the output varies,
depending on the options given. By default, the values will be
formatted in the most appropriate unit. If the <code class="docutils literal notranslate"><span class="pre">--separator</span></code>
option is given, then the values are shown in mebibytes to allow
parsing by scripts. In both cases, the <code class="docutils literal notranslate"><span class="pre">--units</span></code> option can be
used to enforce a given output unit.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--storage-type</span></code> option can be used to choose a storage unit
type. Possible choices are lvm-pv, lvm-vg, file, sharedfile and gluster.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">(--output)</span></code> option takes a comma-separated list of output
fields. The available fields and their meaning are:</p>
<dl class="docutils">
<dt>node</dt>
<dd>the node name on which the volume exists</dd>
<dt>type</dt>
<dd>the type of the storage unit (currently just what is passed in via
<code class="docutils literal notranslate"><span class="pre">--storage-type</span></code>)</dd>
<dt>name</dt>
<dd>the path/identifier of the storage unit</dd>
<dt>size</dt>
<dd>total size of the unit; for the file type see a note below</dd>
<dt>used</dt>
<dd>used space in the unit; for the file type see a note below</dd>
<dt>free</dt>
<dd>available disk space</dd>
<dt>allocatable</dt>
<dd>whether we the unit is available for allocation (only lvm-pv can
change this setting, the other types always report true)</dd>
</dl>
<p>Note that for the “file” type, the total disk space might not equal
to the sum of used and free, due to the method Ganeti uses to
compute each of them. The total and free values are computed as the
total and free space values for the filesystem to which the
directory belongs, but the used space is computed from the used
space under that directory <em>only</em>, which might not be necessarily
the root of the filesystem, and as such there could be files
outside the file storage directory using disk space and causing a
mismatch in the values.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">node1</span><span class="c1"># gnt-node list-storage node2</span>
<span class="n">Node</span>  <span class="n">Type</span>   <span class="n">Name</span>        <span class="n">Size</span> <span class="n">Used</span>   <span class="n">Free</span> <span class="n">Allocatable</span>
<span class="n">node2</span> <span class="n">lvm</span><span class="o">-</span><span class="n">pv</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda7</span> <span class="mf">673.8</span><span class="n">G</span> <span class="mf">1.5</span><span class="n">G</span> <span class="mf">672.3</span><span class="n">G</span> <span class="n">Y</span>
<span class="n">node2</span> <span class="n">lvm</span><span class="o">-</span><span class="n">pv</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb1</span> <span class="mf">698.6</span><span class="n">G</span>   <span class="mi">0</span><span class="n">M</span> <span class="mf">698.6</span><span class="n">G</span> <span class="n">Y</span>
</pre></div>
</div>
</div>
<div class="section" id="modify-storage">
<h3>MODIFY-STORAGE<a class="headerlink" href="#modify-storage" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>modify-storage</strong> [–allocatable={yes|no}] [–submit] [–print-jobid]</div>
<div class="line">{<em>node-name</em>} {<em>storage-type</em>} {<em>volume-name</em>}</div>
</div>
<p>Modifies storage volumes on a node. Only LVM physical volumes can
be modified at the moment. They have a storage type of “lvm-pv”.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node modify-storage --allocatable no node5.example.com lvm-pv /dev/sdb1</span>
</pre></div>
</div>
</div>
<div class="section" id="repair-storage">
<h3>REPAIR-STORAGE<a class="headerlink" href="#repair-storage" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>repair-storage</strong> [–ignore-consistency] ]–submit]</div>
<div class="line">{<em>node-name</em>} {<em>storage-type</em>} {<em>volume-name</em>}</div>
</div>
<p>Repairs a storage volume on a node. Only LVM volume groups can be
repaired at this time. They have the storage type “lvm-vg”.</p>
<p>On LVM volume groups, <strong>repair-storage</strong> runs <code class="docutils literal notranslate"><span class="pre">vgreduce</span>
<span class="pre">--removemissing</span></code>.</p>
<p><strong>Caution:</strong> Running this command can lead to data loss. Use it with
care.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--ignore-consistency</span></code> option will ignore any inconsistent
disks (on the nodes paired with this one). Use of this option is
most likely to lead to data-loss.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node repair-storage node5.example.com lvm-vg xenvg</span>
</pre></div>
</div>
</div>
<div class="section" id="powercycle">
<h3>POWERCYCLE<a class="headerlink" href="#powercycle" title="Permalink to this headline">¶</a></h3>
<p><strong>powercycle</strong> [–yes] [–force] [–submit] [–print-jobid] {<em>node-name</em>}</p>
<p>This command (tries to) forcefully reboot a node. It is a command
that can be used if the node environment is broken, such that the
admin can no longer login over SSH, but the Ganeti node daemon is
still working.</p>
<p>Note that this command is not guaranteed to work; it depends on the
hypervisor how effective is the reboot attempt. For Linux, this
command requires the kernel option <code class="docutils literal notranslate"><span class="pre">CONFIG_MAGIC_SYSRQ</span></code> to be
enabled.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--yes</span></code> option can be used to skip confirmation, while the
<code class="docutils literal notranslate"><span class="pre">--force</span></code> option is needed if the target node is the master
node.</p>
<p>See <strong>ganeti</strong>(7) for a description of <code class="docutils literal notranslate"><span class="pre">--submit</span></code> and other common
options.</p>
</div>
<div class="section" id="power">
<h3>POWER<a class="headerlink" href="#power" title="Permalink to this headline">¶</a></h3>
<p><strong>power</strong> [<code class="docutils literal notranslate"><span class="pre">--force</span></code>] [<code class="docutils literal notranslate"><span class="pre">--ignore-status</span></code>] [<code class="docutils literal notranslate"><span class="pre">--all</span></code>]
[<code class="docutils literal notranslate"><span class="pre">--power-delay</span></code>] on|off|cycle|status [<em>node-name</em>…]</p>
<p>This command calls out to out-of-band management to change the power
state of given node. With <code class="docutils literal notranslate"><span class="pre">status</span></code> you get the power status as reported
by the out-of-band management script.</p>
<p>Note that this command will only work if the out-of-band functionality
is configured and enabled on the cluster. If this is not the case,
please use the <strong>powercycle</strong> command above.</p>
<p>Currently this only has effect for <code class="docutils literal notranslate"><span class="pre">off</span></code> and <code class="docutils literal notranslate"><span class="pre">cycle</span></code>.  For safety,
Ganeti will not allow either of these operations to be run on the master
node. However, it will print a command line which can then be run
manually on the master. Note that powering off the master is potentially
dangerous, and Ganeti does not support doing this.</p>
<p>Providing <code class="docutils literal notranslate"><span class="pre">--force</span></code> will skip confirmations for the operation.</p>
<p>Providing <code class="docutils literal notranslate"><span class="pre">--ignore-status</span></code> will ignore the offline=N state of a node
and continue with power off.</p>
<p><code class="docutils literal notranslate"><span class="pre">--power-delay</span></code> specifies the time in seconds (factions allowed)
waited between powering on the next node. This is by default 2 seconds
but can increased if needed with this option.</p>
<p>The list of node names is optional. If not provided it will call out for every
node in the cluster. Except for the <code class="docutils literal notranslate"><span class="pre">off</span></code> and <code class="docutils literal notranslate"><span class="pre">cycle</span></code> command where you’ve
to explicit use <code class="docutils literal notranslate"><span class="pre">--all</span></code> to select all.</p>
</div>
<div class="section" id="health">
<h3>HEALTH<a class="headerlink" href="#health" title="Permalink to this headline">¶</a></h3>
<p><strong>health</strong> [<em>node-name</em>…]</p>
<p>This command calls out to out-of-band management to ask for the health status
of all or given nodes. The health contains the node name and then the items
element with their status in a <code class="docutils literal notranslate"><span class="pre">item=status</span></code> manner. Where <code class="docutils literal notranslate"><span class="pre">item</span></code> is script
specific and <code class="docutils literal notranslate"><span class="pre">status</span></code> can be one of <code class="docutils literal notranslate"><span class="pre">OK</span></code>, <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>, <code class="docutils literal notranslate"><span class="pre">CRITICAL</span></code> or
<code class="docutils literal notranslate"><span class="pre">UNKNOWN</span></code>. Items with status <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> or <code class="docutils literal notranslate"><span class="pre">CRITICAL</span></code> are logged and
annotated in the command line output.</p>
</div>
<div class="section" id="restricted-command">
<h3>RESTRICTED-COMMAND<a class="headerlink" href="#restricted-command" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>restricted-command</strong> [-M] [–sync]</div>
<div class="line">{ -g <em>group</em> <em>command</em> | <em>command</em> <em>node-name</em>… }</div>
</div>
<p>Executes a restricted command on the specified nodes. Restricted commands are
not arbitrary, but must reside in
<code class="docutils literal notranslate"><span class="pre">/etc/ganeti/restricted-commands</span></code> on a node, either as a regular
file or as a symlink. The directory must be owned by root and not be
world- or group-writable. If a command fails verification or otherwise
fails to start, the node daemon log must be consulted for more detailed
information.</p>
<p>Example for running a command on two nodes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node restricted-command mycommand \</span>
  <span class="n">node1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span> <span class="n">node2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-g</span></code> option can be used to run a command only on a specific node
group, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># gnt-node restricted-command -g default mycommand</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-M</span></code> option can be used to prepend the node name to all command
output lines. <code class="docutils literal notranslate"><span class="pre">--sync</span></code> forces the opcode to acquire the node lock(s)
in exclusive mode.</p>
</div>
<div class="section" id="tags">
<h3>Tags<a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h3>
<div class="section" id="add-tags">
<h4>ADD-TAGS<a class="headerlink" href="#add-tags" title="Permalink to this headline">¶</a></h4>
<p><strong>add-tags</strong> [–from <em>file</em>] {<em>node-name</em>} {<em>tag</em>…}</p>
<p>Add tags to the given node. If any of the tags contains invalid
characters, the entire operation will abort.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">--from</span></code> option is given, the list of tags will be
extended with the contents of that file (each line becomes a tag).
In this case, there is not need to pass tags on the command line
(if you do, both sources will be used). A file name of - will be
interpreted as stdin.</p>
</div>
<div class="section" id="list-tags">
<h4>LIST-TAGS<a class="headerlink" href="#list-tags" title="Permalink to this headline">¶</a></h4>
<p><strong>list-tags</strong> {<em>node-name</em>}</p>
<p>List the tags of the given node.</p>
</div>
<div class="section" id="remove-tags">
<h4>REMOVE-TAGS<a class="headerlink" href="#remove-tags" title="Permalink to this headline">¶</a></h4>
<p><strong>remove-tags</strong> [–from <em>file</em>] {<em>node-name</em>} {<em>tag</em>…}</p>
<p>Remove tags from the given node. If any of the tags are not
existing on the node, the entire operation will abort.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">--from</span></code> option is given, the list of tags to be removed will
be extended with the contents of that file (each line becomes a tag).
In this case, there is not need to pass tags on the command line (if
you do, tags from both sources will be removed). A file name of - will
be interpreted as stdin.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">gnt-node</a><ul>
<li><a class="reference internal" href="#name">Name</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li><a class="reference internal" href="#commands">COMMANDS</a><ul>
<li><a class="reference internal" href="#add">ADD</a></li>
<li><a class="reference internal" href="#evacuate">EVACUATE</a></li>
<li><a class="reference internal" href="#failover">FAILOVER</a></li>
<li><a class="reference internal" href="#info">INFO</a></li>
<li><a class="reference internal" href="#list">LIST</a></li>
<li><a class="reference internal" href="#list-drbd">LIST-DRBD</a></li>
<li><a class="reference internal" href="#list-fields">LIST-FIELDS</a></li>
<li><a class="reference internal" href="#migrate">MIGRATE</a></li>
<li><a class="reference internal" href="#modify">MODIFY</a></li>
<li><a class="reference internal" href="#remove">REMOVE</a></li>
<li><a class="reference internal" href="#volumes">VOLUMES</a></li>
<li><a class="reference internal" href="#list-storage">LIST-STORAGE</a></li>
<li><a class="reference internal" href="#modify-storage">MODIFY-STORAGE</a></li>
<li><a class="reference internal" href="#repair-storage">REPAIR-STORAGE</a></li>
<li><a class="reference internal" href="#powercycle">POWERCYCLE</a></li>
<li><a class="reference internal" href="#power">POWER</a></li>
<li><a class="reference internal" href="#health">HEALTH</a></li>
<li><a class="reference internal" href="#restricted-command">RESTRICTED-COMMAND</a></li>
<li><a class="reference internal" href="#tags">Tags</a><ul>
<li><a class="reference internal" href="#add-tags">ADD-TAGS</a></li>
<li><a class="reference internal" href="#list-tags">LIST-TAGS</a></li>
<li><a class="reference internal" href="#remove-tags">REMOVE-TAGS</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="man-gnt-network.html"
                        title="previous chapter">gnt-network</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="man-gnt-os.html"
                        title="next chapter">gnt-os</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/man-gnt-node.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="man-gnt-os.html" title="gnt-os"
             >next</a></li>
        <li class="right" >
          <a href="man-gnt-network.html" title="gnt-network"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Ganeti 3.0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="manpages.html" >Man pages</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015 Google Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>