<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>gnt-job</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="AEN1"
></A
>gnt-job</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN12"
></A
><H2
>Name</H2
>gnt-job&nbsp;--&nbsp;Job commands</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN15"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>gnt-job </B
>  {command} [arguments...]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN20"
></A
><H2
>DESCRIPTION</H2
><P
>      The <B
CLASS="COMMAND"
>gnt-job</B
> is used for examining and
      manipulating the job queue.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN24"
></A
><H2
>COMMANDS</H2
><DIV
CLASS="REFSECT2"
><A
NAME="AEN26"
></A
><H3
>ARCHIVE</H3
><P
><B
CLASS="COMMAND"
>archive</B
>  {id...}</P
><P
>This command can be used to archive job by their IDs. Only
      jobs that have finished execution (i.e either
      <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>success</I
></SPAN
>, <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>error</I
></SPAN
> or
      <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>canceled</I
></SPAN
> jobs).</P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN35"
></A
><H3
>AUTOARCHIVE</H3
><P
><B
CLASS="COMMAND"
>autoarchive</B
>  {<TT
CLASS="REPLACEABLE"
><I
>age</I
></TT
> | all}</P
><P
>        Archive jobs by their age. This command can archive jobs older
        than <TT
CLASS="REPLACEABLE"
><I
>age</I
></TT
> seconds, or alternatively
        all finished jobs can be archived if the string <TT
CLASS="LITERAL"
>all
        </TT
> is passed.
      </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN46"
></A
><H3
>CANCEL</H3
><P
><B
CLASS="COMMAND"
>cancel</B
>  {<TT
CLASS="REPLACEABLE"
><I
>id</I
></TT
>}</P
><P
>        Cancel the job identified by the given
        <TT
CLASS="REPLACEABLE"
><I
>id</I
></TT
>. Only jobs that have not yet
        started to run can be canceled; that is, jobs in either the
        <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>queued</I
></SPAN
> or <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>waiting</I
></SPAN
>
        state.
      </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN56"
></A
><H3
>INFO</H3
><P
><B
CLASS="COMMAND"
>info</B
>  {<TT
CLASS="REPLACEABLE"
><I
>id</I
></TT
>...}</P
><P
>        Show detailed information about the given job id(s). If no job
        id is given, all jobs are examined (warning, this is a lot of
        information).
      </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN63"
></A
><H3
>LIST</H3
><P
><B
CLASS="COMMAND"
>list</B
>  [--no-headers] [--separator=<TT
CLASS="REPLACEABLE"
><I
>SEPARATOR</I
></TT
>]<BR> [-o <TT
CLASS="REPLACEABLE"
><I
>[+]FIELD,...</I
></TT
>]<BR></P
><P
>        Lists the jobs and their status. By default, the job id, job
        status, and a small job description is listed, but additional
        parameters can be selected.
      </P
><P
>        The <CODE
CLASS="OPTION"
>--no-headers</CODE
> option will skip the initial
        header line. The <CODE
CLASS="OPTION"
>--separator</CODE
> option takes an
        argument which denotes what will be used between the output
        fields. Both these options are to help scripting.
      </P
><P
>        The <CODE
CLASS="OPTION"
>-o</CODE
> option takes a comma-separated list of
        output fields. The available fields and their meaning are:
        <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>id</DT
><DD
><P
>the job id</P
></DD
><DT
>status</DT
><DD
><P
>the status of the job</P
></DD
><DT
>received_ts</DT
><DD
><P
>the timestamp the job was received</P
></DD
><DT
>start_ts</DT
><DD
><P
>the timestamp when the job was started</P
></DD
><DT
>end_ts</DT
><DD
><P
>the timestamp when the job was ended</P
></DD
><DT
>summary</DT
><DD
><P
>a summary of the opcodes that define the job</P
></DD
><DT
>ops</DT
><DD
><P
>the list of opcodes defining the job</P
></DD
><DT
>opresult</DT
><DD
><P
>the list of opcode results</P
></DD
><DT
>opstatus</DT
><DD
><P
>the list of opcode statuses</P
></DD
><DT
>oplog</DT
><DD
><P
>the list of opcode logs</P
></DD
><DT
>opstart</DT
><DD
><P
>the list of opcode start times (before
              acquiring locks)</P
></DD
><DT
>opexec</DT
><DD
><P
>the list of opcode execution start times (after
              acquiring any necessary locks)</P
></DD
><DT
>opend</DT
><DD
><P
>the list of opcode end times</P
></DD
></DL
></DIV
>
      </P
><P
>        If the value of the option starts with the character
        <CODE
CLASS="CONSTANT"
>+</CODE
>, the new fields will be added to the
        default list. This allows to quickly see the default list plus
        a few other fields, instead of retyping the entire list of
        fields.
      </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN135"
></A
><H3
>WATCH</H3
><P
><B
CLASS="COMMAND"
>watch</B
>  [id]</P
><P
>        This command follows the output of the job by the given
        <TT
CLASS="REPLACEABLE"
><I
>id</I
></TT
> and prints it.
      </P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN142"
></A
><H2
>REPORTING BUGS</H2
><P
>      Report bugs to <A
HREF="http://code.google.com/p/ganeti/"
TARGET="_top"
>http://code.google.com/p/ganeti/</A
> or contact the
      developers using the Ganeti mailing list
      &lt;ganeti@googlegroups.com&gt;.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN146"
></A
><H2
>SEE ALSO</H2
><P
>      Ganeti overview and specifications:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti</SPAN
>(7)</SPAN
> (general overview),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-os-interface</SPAN
>(7)</SPAN
> (guest OS definitions).

    </P
><P
>Ganeti commands:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-cluster</SPAN
>(8)</SPAN
> (cluster-wide commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-job</SPAN
>(8)</SPAN
> (job-related commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-node</SPAN
>(8)</SPAN
> (node-related commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-instance</SPAN
>(8)</SPAN
> (instance commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-os</SPAN
>(8)</SPAN
> (guest OS commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-backup</SPAN
>(8)</SPAN
> (instance import/export commands),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gnt-debug</SPAN
>(8)</SPAN
> (debug commands).
    </P
><P
>Ganeti daemons:
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-watcher</SPAN
>(8)</SPAN
> (automatic instance restarter),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-cleaner</SPAN
>(8)</SPAN
> (job queue cleaner),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-noded</SPAN
>(8)</SPAN
> (node daemon),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-masterd</SPAN
>(8)</SPAN
> (master daemon),
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ganeti-rapi</SPAN
>(8)</SPAN
> (remote API daemon).
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN193"
></A
><H2
>COPYRIGHT</H2
><P
>      Copyright (C) 2006, 2007, 2008, 2009, 2010 Google Inc. Permission is
      granted to copy, distribute and/or modify under the terms of the
      <ACRONYM
CLASS="ACRONYM"
>GNU</ACRONYM
> General Public License as published by the Free Software
      Foundation; either version 2 of the License, or (at your option)
      any later version.
    </P
><P
>      On Debian systems, the complete text of the GNU General Public
      License can be found in /usr/share/common-licenses/GPL.
    </P
></DIV
></BODY
></HTML
>