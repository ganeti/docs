<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.backend</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        Module&nbsp;backend
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.backend-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module backend</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.backend-pysrc.html">source&nbsp;code</a></span></p>
<p>Functions used by the node daemon</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend.RPCFail-class.html" class="summary-name">RPCFail</a><br />
      Class denoting RPC failure.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend.HooksRunner-class.html" class="summary-name">HooksRunner</a><br />
      Hook runner.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend.IAllocatorRunner-class.html" class="summary-name">IAllocatorRunner</a><br />
      IAllocator runner.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend.DevCacheManager-class.html" class="summary-name">DevCacheManager</a><br />
      Simple class for managing a cache of block device information.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetInstReasonFilename" class="summary-sig-name" onclick="show_private();">_GetInstReasonFilename</a>(<span class="summary-sig-arg">instance_name</span>)</span><br />
      Path of the file containing the reason of the instance status change.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetInstReasonFilename">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_StoreInstReasonTrail" class="summary-sig-name" onclick="show_private();">_StoreInstReasonTrail</a>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">trail</span>)</span><br />
      Serialize a reason trail related to an instance change of state to 
      file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_StoreInstReasonTrail">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_Fail" class="summary-sig-name" onclick="show_private();">_Fail</a>(<span class="summary-sig-arg">msg</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Log an error and the raise an RPCFail exception.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_Fail">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.ssconf.SimpleStore-class.html" 
      class="link">ssconf.SimpleStore</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetConfig" class="summary-sig-name" onclick="show_private();">_GetConfig</a>()</span><br />
      Simple wrapper to return a SimpleStore.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetConfig">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.ssh.SshRunner-class.html" 
      class="link">ssh.SshRunner</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetSshRunner" class="summary-sig-name" onclick="show_private();">_GetSshRunner</a>(<span class="summary-sig-arg">cluster_name</span>)</span><br />
      Simple wrapper to return an SshRunner.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetSshRunner">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_Decompress" class="summary-sig-name" onclick="show_private();">_Decompress</a>(<span class="summary-sig-arg">data</span>)</span><br />
      Unpacks data compressed by the RPC client.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_Decompress">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_CleanDirectory" class="summary-sig-name" onclick="show_private();">_CleanDirectory</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">exclude</span>=<span class="summary-sig-default">None</span>)</span><br />
      Removes all regular files in a directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CleanDirectory">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_BuildUploadFileList" class="summary-sig-name" onclick="show_private();">_BuildUploadFileList</a>()</span><br />
      Build the list of allowed upload files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_BuildUploadFileList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#JobQueuePurge" class="summary-sig-name">JobQueuePurge</a>()</span><br />
      Removes job queue files and archived jobs.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueuePurge">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetMasterNodeName" class="summary-sig-name">GetMasterNodeName</a>()</span><br />
      Returns the master node name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetMasterNodeName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RunLocalHooks" class="summary-sig-name">RunLocalHooks</a>(<span class="summary-sig-arg">hook_opcode</span>,
        <span class="summary-sig-arg">hooks_path</span>,
        <span class="summary-sig-arg">env_builder_fn</span>)</span><br />
      Decorator that runs hooks before and after the decorated function.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RunLocalHooks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_BuildMasterIpEnv" class="summary-sig-name" onclick="show_private();">_BuildMasterIpEnv</a>(<span class="summary-sig-arg">master_params</span>,
        <span class="summary-sig-arg">use_external_mip_script</span>=<span class="summary-sig-default">None</span>)</span><br />
      Builds environment variables for master IP hooks.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_BuildMasterIpEnv">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_RunMasterSetupScript" class="summary-sig-name" onclick="show_private();">_RunMasterSetupScript</a>(<span class="summary-sig-arg">master_params</span>,
        <span class="summary-sig-arg">action</span>,
        <span class="summary-sig-arg">use_external_mip_script</span>)</span><br />
      Execute the master IP address setup script.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_RunMasterSetupScript">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ActivateMasterIp" class="summary-sig-name">ActivateMasterIp</a>(<span class="summary-sig-arg">master_params</span>,
        <span class="summary-sig-arg">use_external_mip_script</span>)</span><br />
      Activate the IP address of the master daemon.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ActivateMasterIp">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#StartMasterDaemons" class="summary-sig-name">StartMasterDaemons</a>(<span class="summary-sig-arg">no_voting</span>)</span><br />
      Activate local node as master node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#StartMasterDaemons">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#DeactivateMasterIp" class="summary-sig-name">DeactivateMasterIp</a>(<span class="summary-sig-arg">master_params</span>,
        <span class="summary-sig-arg">use_external_mip_script</span>)</span><br />
      Deactivate the master IP on this node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DeactivateMasterIp">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#StopMasterDaemons" class="summary-sig-name">StopMasterDaemons</a>()</span><br />
      Stop the master daemons on this node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#StopMasterDaemons">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ChangeMasterNetmask" class="summary-sig-name">ChangeMasterNetmask</a>(<span class="summary-sig-arg">old_netmask</span>,
        <span class="summary-sig-arg">netmask</span>,
        <span class="summary-sig-arg">master_ip</span>,
        <span class="summary-sig-arg">master_netdev</span>)</span><br />
      Change the netmask of the master IP.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ChangeMasterNetmask">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#EtcHostsModify" class="summary-sig-name">EtcHostsModify</a>(<span class="summary-sig-arg">mode</span>,
        <span class="summary-sig-arg">host</span>,
        <span class="summary-sig-arg">ip</span>)</span><br />
      Modify a host entry in /etc/hosts.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#EtcHostsModify">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#LeaveCluster" class="summary-sig-name">LeaveCluster</a>(<span class="summary-sig-arg">modify_ssh_setup</span>)</span><br />
      Cleans up and remove the current node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#LeaveCluster">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_CheckStorageParams" class="summary-sig-name" onclick="show_private();">_CheckStorageParams</a>(<span class="summary-sig-arg">params</span>,
        <span class="summary-sig-arg">num_params</span>)</span><br />
      Performs sanity checks for storage parameters.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckStorageParams">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_CheckLvmStorageParams" class="summary-sig-name" onclick="show_private();">_CheckLvmStorageParams</a>(<span class="summary-sig-arg">params</span>)</span><br />
      Performs sanity check for the 'exclusive storage' flag.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckLvmStorageParams">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetLvmVgSpaceInfo" class="summary-sig-name" onclick="show_private();">_GetLvmVgSpaceInfo</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">params</span>)</span><br />
      Wrapper around <code>_GetVgInfo</code> which checks the storage 
      parameters.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetLvmVgSpaceInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetVgInfo"></a><span class="summary-sig-name">_GetVgInfo</span>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">excl_stor</span>,
        <span class="summary-sig-arg">info_fn</span>=<span class="summary-sig-default">bdev.LogicalVolume.GetVGInfo</span>)</span><br />
      Retrieves information about a LVM volume group.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetVgInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetLvmPvSpaceInfo" class="summary-sig-name" onclick="show_private();">_GetLvmPvSpaceInfo</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">params</span>)</span><br />
      Wrapper around <code>_GetVgSpindlesInfo</code> with sanity checks.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetLvmPvSpaceInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetVgSpindlesInfo" class="summary-sig-name" onclick="show_private();">_GetVgSpindlesInfo</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">excl_stor</span>,
        <span class="summary-sig-arg">info_fn</span>=<span class="summary-sig-default">bdev.LogicalVolume.GetVgSpindlesInfo</span>)</span><br />
      Retrieves information about spindles in an LVM volume group.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetVgSpindlesInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetHvInfo" class="summary-sig-name" onclick="show_private();">_GetHvInfo</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">hvparams</span>,
        <span class="summary-sig-arg">get_hv_fn</span>=<span class="summary-sig-default">hypervisor.GetHypervisor</span>)</span><br />
      Retrieves node information from a hypervisor.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetHvInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetHvInfoAll" class="summary-sig-name" onclick="show_private();">_GetHvInfoAll</a>(<span class="summary-sig-arg">hv_specs</span>,
        <span class="summary-sig-arg">get_hv_fn</span>=<span class="summary-sig-default">hypervisor.GetHypervisor</span>)</span><br />
      Retrieves node information for all hypervisors.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetHvInfoAll">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None or dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetNamedNodeInfo"></a><span class="summary-sig-name">_GetNamedNodeInfo</span>(<span class="summary-sig-arg">names</span>,
        <span class="summary-sig-arg">fn</span>)</span><br />
      Calls <code>fn</code> for all names in <code>names</code> and returns
      a dictionary.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetNamedNodeInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple; (string, None/dict, None/dict)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetNodeInfo" class="summary-sig-name">GetNodeInfo</a>(<span class="summary-sig-arg">storage_units</span>,
        <span class="summary-sig-arg">hv_specs</span>)</span><br />
      Gives back a hash with different information about the node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetNodeInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetFileStorageSpaceInfo" class="summary-sig-name" onclick="show_private();">_GetFileStorageSpaceInfo</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">params</span>)</span><br />
      Wrapper around filestorage.GetSpaceInfo.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetFileStorageSpaceInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_ApplyStorageInfoFunction" class="summary-sig-name" onclick="show_private();">_ApplyStorageInfoFunction</a>(<span class="summary-sig-arg">storage_type</span>,
        <span class="summary-sig-arg">storage_key</span>,
        <span class="summary-sig-arg">*args</span>)</span><br />
      Looks up and applies the correct function to calculate free and total
      storage for the given storage type.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_ApplyStorageInfoFunction">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of tuples (string, list of strings)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_CheckExclusivePvs" class="summary-sig-name" onclick="show_private();">_CheckExclusivePvs</a>(<span class="summary-sig-arg">pvi_list</span>)</span><br />
      Check that PVs are not shared among LVs</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckExclusivePvs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifyHypervisors" class="summary-sig-name" onclick="show_private();">_VerifyHypervisors</a>(<span class="summary-sig-arg">what</span>,
        <span class="summary-sig-arg">vm_capable</span>,
        <span class="summary-sig-arg">result</span>,
        <span class="summary-sig-arg">all_hvparams</span>,
        <span class="summary-sig-arg">get_hv_fn</span>=<span class="summary-sig-default">hypervisor.GetHypervisor</span>)</span><br />
      Verifies the hypervisor.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyHypervisors">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifyHvparams" class="summary-sig-name" onclick="show_private();">_VerifyHvparams</a>(<span class="summary-sig-arg">what</span>,
        <span class="summary-sig-arg">vm_capable</span>,
        <span class="summary-sig-arg">result</span>,
        <span class="summary-sig-arg">get_hv_fn</span>=<span class="summary-sig-default">hypervisor.GetHypervisor</span>)</span><br />
      Verifies the hvparams.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyHvparams">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifyInstanceList" class="summary-sig-name" onclick="show_private();">_VerifyInstanceList</a>(<span class="summary-sig-arg">what</span>,
        <span class="summary-sig-arg">vm_capable</span>,
        <span class="summary-sig-arg">result</span>,
        <span class="summary-sig-arg">all_hvparams</span>)</span><br />
      Verifies the instance list.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyInstanceList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifyNodeInfo" class="summary-sig-name" onclick="show_private();">_VerifyNodeInfo</a>(<span class="summary-sig-arg">what</span>,
        <span class="summary-sig-arg">vm_capable</span>,
        <span class="summary-sig-arg">result</span>,
        <span class="summary-sig-arg">all_hvparams</span>)</span><br />
      Verifies the node info.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyNodeInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifyClientCertificate" class="summary-sig-name" onclick="show_private();">_VerifyClientCertificate</a>(<span class="summary-sig-arg">cert_file</span>=<span class="summary-sig-default">pathutils.NODED_CLIENT_CERT_FILE</span>)</span><br />
      Verify the existance and validity of the client SSL certificate.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyClientCertificate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifySshSetup" class="summary-sig-name" onclick="show_private();">_VerifySshSetup</a>(<span class="summary-sig-arg">node_status_list</span>,
        <span class="summary-sig-arg">my_name</span>,
        <span class="summary-sig-arg">ssh_key_type</span>,
        <span class="summary-sig-arg">ganeti_pub_keys_file</span>=<span class="summary-sig-default">pathutils.SSH_PUB_KEYS</span>)</span><br />
      Verifies the state of the SSH key files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifySshSetup">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifySshClutter" class="summary-sig-name" onclick="show_private();">_VerifySshClutter</a>(<span class="summary-sig-arg">node_status_list</span>,
        <span class="summary-sig-arg">my_name</span>)</span><br />
      Verifies that the 'authorized_keys' files are not cluttered up.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifySshClutter">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#VerifyNode" class="summary-sig-name">VerifyNode</a>(<span class="summary-sig-arg">what</span>,
        <span class="summary-sig-arg">cluster_name</span>,
        <span class="summary-sig-arg">all_hvparams</span>)</span><br />
      Verify the status of the local node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#VerifyNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of tuples (string, string)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetCryptoTokens" class="summary-sig-name">GetCryptoTokens</a>(<span class="summary-sig-arg">token_requests</span>)</span><br />
      Perform actions on the node's cryptographic tokens.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetCryptoTokens">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">bool</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#EnsureDaemon" class="summary-sig-name">EnsureDaemon</a>(<span class="summary-sig-arg">daemon_name</span>,
        <span class="summary-sig-arg">run</span>)</span><br />
      Ensures the given daemon is running or stopped.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#EnsureDaemon">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_InitSshUpdateData"></a><span class="summary-sig-name">_InitSshUpdateData</span>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">noded_cert_file</span>,
        <span class="summary-sig-arg">ssconf_store</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_InitSshUpdateData">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#AddNodeSshKey" class="summary-sig-name">AddNodeSshKey</a>(<span class="summary-sig-arg">node_uuid</span>,
        <span class="summary-sig-arg">node_name</span>,
        <span class="summary-sig-arg">potential_master_candidates</span>,
        <span class="summary-sig-arg">to_authorized_keys</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">to_public_keys</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">get_public_keys</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">pub_key_file</span>=<span class="summary-sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="summary-sig-arg">ssconf_store</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">noded_cert_file</span>=<span class="summary-sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="summary-sig-arg">run_cmd_fn</span>=<span class="summary-sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="summary-sig-arg">ssh_update_debug</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">ssh_update_verbose</span>=<span class="summary-sig-default">False</span>)</span><br />
      Distributes a node's public SSH key across the cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#AddNodeSshKey">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#AddNodeSshKeyBulk" class="summary-sig-name">AddNodeSshKeyBulk</a>(<span class="summary-sig-arg">node_list</span>,
        <span class="summary-sig-arg">potential_master_candidates</span>,
        <span class="summary-sig-arg">pub_key_file</span>=<span class="summary-sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="summary-sig-arg">ssconf_store</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">noded_cert_file</span>=<span class="summary-sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="summary-sig-arg">run_cmd_fn</span>=<span class="summary-sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="summary-sig-arg">ssh_update_debug</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">ssh_update_verbose</span>=<span class="summary-sig-default">False</span>)</span><br />
      Distributes a node's public SSH key across the cluster.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#AddNodeSshKeyBulk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RemoveNodeSshKey" class="summary-sig-name">RemoveNodeSshKey</a>(<span class="summary-sig-arg">node_uuid</span>,
        <span class="summary-sig-arg">node_name</span>,
        <span class="summary-sig-arg">master_candidate_uuids</span>,
        <span class="summary-sig-arg">potential_master_candidates</span>,
        <span class="summary-sig-arg">master_uuid</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">keys_to_remove</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">from_authorized_keys</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">from_public_keys</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">clear_authorized_keys</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">clear_public_keys</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">pub_key_file</span>=<span class="summary-sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="summary-sig-arg">ssconf_store</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">noded_cert_file</span>=<span class="summary-sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="summary-sig-arg">readd</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">run_cmd_fn</span>=<span class="summary-sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="summary-sig-arg">ssh_update_debug</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">ssh_update_verbose</span>=<span class="summary-sig-default">False</span>)</span><br />
      Removes the node's SSH keys from the key files and distributes those.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveNodeSshKey">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RemoveNodeSshKeyBulk" class="summary-sig-name">RemoveNodeSshKeyBulk</a>(<span class="summary-sig-arg">node_list</span>,
        <span class="summary-sig-arg">master_candidate_uuids</span>,
        <span class="summary-sig-arg">potential_master_candidates</span>,
        <span class="summary-sig-arg">master_uuid</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">keys_to_remove</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">pub_key_file</span>=<span class="summary-sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="summary-sig-arg">ssconf_store</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">noded_cert_file</span>=<span class="summary-sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="summary-sig-arg">readd</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">run_cmd_fn</span>=<span class="summary-sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="summary-sig-arg">ssh_update_debug</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">ssh_update_verbose</span>=<span class="summary-sig-default">False</span>)</span><br />
      Removes the node's SSH keys from the key files and distributes those.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveNodeSshKeyBulk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RemoveSshKeyFromPublicKeyFile" class="summary-sig-name">RemoveSshKeyFromPublicKeyFile</a>(<span class="summary-sig-arg">node_name</span>,
        <span class="summary-sig-arg">pub_key_file</span>=<span class="summary-sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="summary-sig-arg">ssconf_store</span>=<span class="summary-sig-default">None</span>)</span><br />
      Removes a SSH key from the master's public key file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveSshKeyFromPublicKeyFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GenerateNodeSshKey" class="summary-sig-name" onclick="show_private();">_GenerateNodeSshKey</a>(<span class="summary-sig-arg">node_name</span>,
        <span class="summary-sig-arg">ssh_port_map</span>,
        <span class="summary-sig-arg">ssh_key_type</span>,
        <span class="summary-sig-arg">ssh_key_bits</span>,
        <span class="summary-sig-arg">ssconf_store</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">noded_cert_file</span>=<span class="summary-sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="summary-sig-arg">run_cmd_fn</span>=<span class="summary-sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="summary-sig-arg">suffix</span>=<span class="summary-sig-default">&quot;&quot;</span>,
        <span class="summary-sig-arg">ssh_update_debug</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">ssh_update_verbose</span>=<span class="summary-sig-default">False</span>)</span><br />
      Generates the root SSH key pair on the node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GenerateNodeSshKey">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetMasterNodeUUID"></a><span class="summary-sig-name">_GetMasterNodeUUID</span>(<span class="summary-sig-arg">node_uuid_name_map</span>,
        <span class="summary-sig-arg">master_node_name</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetMasterNodeUUID">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetOldMasterKeys"></a><span class="summary-sig-name">_GetOldMasterKeys</span>(<span class="summary-sig-arg">master_node_uuid</span>,
        <span class="summary-sig-arg">pub_key_file</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetOldMasterKeys">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RenewSshKeys" class="summary-sig-name">RenewSshKeys</a>(<span class="summary-sig-arg">node_uuids</span>,
        <span class="summary-sig-arg">node_names</span>,
        <span class="summary-sig-arg">master_candidate_uuids</span>,
        <span class="summary-sig-arg">potential_master_candidates</span>,
        <span class="summary-sig-arg">old_key_type</span>,
        <span class="summary-sig-arg">new_key_type</span>,
        <span class="summary-sig-arg">new_key_bits</span>,
        <span class="summary-sig-arg">ganeti_pub_keys_file</span>=<span class="summary-sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="summary-sig-arg">ssconf_store</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">noded_cert_file</span>=<span class="summary-sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="summary-sig-arg">run_cmd_fn</span>=<span class="summary-sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="summary-sig-arg">ssh_update_debug</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">ssh_update_verbose</span>=<span class="summary-sig-default">False</span>)</span><br />
      Renews all SSH keys and updates authorized_keys and ganeti_pub_keys.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RenewSshKeys">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetBlockDevSizes" class="summary-sig-name">GetBlockDevSizes</a>(<span class="summary-sig-arg">devices</span>)</span><br />
      Return the size of the given block devices</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetBlockDevSizes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetVolumeList" class="summary-sig-name">GetVolumeList</a>(<span class="summary-sig-arg">vg_names</span>)</span><br />
      Compute list of logical volumes and their size.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetVolumeList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ListVolumeGroups" class="summary-sig-name">ListVolumeGroups</a>()</span><br />
      List the volume groups and their size.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ListVolumeGroups">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#NodeVolumes" class="summary-sig-name">NodeVolumes</a>()</span><br />
      List all volumes on this node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#NodeVolumes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BridgesExist" class="summary-sig-name">BridgesExist</a>(<span class="summary-sig-arg">bridges_list</span>)</span><br />
      Check if a list of bridges exist on the current node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BridgesExist">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetInstanceListForHypervisor" class="summary-sig-name">GetInstanceListForHypervisor</a>(<span class="summary-sig-arg">hname</span>,
        <span class="summary-sig-arg">hvparams</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">get_hv_fn</span>=<span class="summary-sig-default">hypervisor.GetHypervisor</span>)</span><br />
      Provides a list of instances of the given hypervisor.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceListForHypervisor">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetInstanceList" class="summary-sig-name">GetInstanceList</a>(<span class="summary-sig-arg">hypervisor_list</span>,
        <span class="summary-sig-arg">all_hvparams</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">get_hv_fn</span>=<span class="summary-sig-default">hypervisor.GetHypervisor</span>)</span><br />
      Provides a list of instances.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetInstanceInfo" class="summary-sig-name">GetInstanceInfo</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">hname</span>,
        <span class="summary-sig-arg">hvparams</span>=<span class="summary-sig-default">None</span>)</span><br />
      Gives back the information about an instance as a dictionary.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetInstanceMigratable" class="summary-sig-name">GetInstanceMigratable</a>(<span class="summary-sig-arg">instance</span>)</span><br />
      Computes whether an instance can be migrated.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceMigratable">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetAllInstancesInfo" class="summary-sig-name">GetAllInstancesInfo</a>(<span class="summary-sig-arg">hypervisor_list</span>,
        <span class="summary-sig-arg">all_hvparams</span>)</span><br />
      Gather data about all instances.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetAllInstancesInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetInstanceConsoleInfo" class="summary-sig-name">GetInstanceConsoleInfo</a>(<span class="summary-sig-arg">instance_param_dict</span>,
        <span class="summary-sig-arg">get_hv_fn</span>=<span class="summary-sig-default">hypervisor.GetHypervisor</span>)</span><br />
      Gather data about the console access of a set of instances of this 
      node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceConsoleInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_InstanceLogName" class="summary-sig-name" onclick="show_private();">_InstanceLogName</a>(<span class="summary-sig-arg">kind</span>,
        <span class="summary-sig-arg">os_name</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">component</span>)</span><br />
      Compute the OS log filename for a given instance and operation.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_InstanceLogName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#InstanceOsAdd" class="summary-sig-name">InstanceOsAdd</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">reinstall</span>,
        <span class="summary-sig-arg">debug</span>)</span><br />
      Add an OS to an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceOsAdd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RunRenameInstance" class="summary-sig-name">RunRenameInstance</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">old_name</span>,
        <span class="summary-sig-arg">debug</span>)</span><br />
      Run the OS rename script for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RunRenameInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetBlockDevSymlinkPath"></a><span class="summary-sig-name">_GetBlockDevSymlinkPath</span>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">idx</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">uuid</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">_dir</span>=<span class="summary-sig-default">None</span>)</span><br />
      Returns symlink path for block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetBlockDevSymlinkPath">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_SymlinkBlockDev" class="summary-sig-name" onclick="show_private();">_SymlinkBlockDev</a>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">device_path</span>,
        <span class="summary-sig-arg">idx</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">uuid</span>=<span class="summary-sig-default">None</span>)</span><br />
      Set up symlinks to a instance's block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_SymlinkBlockDev">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_RemoveBlockDevLinks"></a><span class="summary-sig-name">_RemoveBlockDevLinks</span>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">disks</span>)</span><br />
      Remove the block device symlinks belonging to the given instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_RemoveBlockDevLinks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_CalculateDeviceURI" class="summary-sig-name" onclick="show_private();">_CalculateDeviceURI</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">device</span>)</span><br />
      Get the URI for the device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CalculateDeviceURI">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GatherAndLinkBlockDevs" class="summary-sig-name" onclick="show_private();">_GatherAndLinkBlockDevs</a>(<span class="summary-sig-arg">instance</span>)</span><br />
      Set up an instance's block device(s).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GatherAndLinkBlockDevs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_IsInstanceUserDown"></a><span class="summary-sig-name">_IsInstanceUserDown</span>(<span class="summary-sig-arg">instance_info</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_IsInstanceUserDown">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetInstanceInfo"></a><span class="summary-sig-name">_GetInstanceInfo</span>(<span class="summary-sig-arg">instance</span>)</span><br />
      Helper function <a href="ganeti.backend-module.html#GetInstanceInfo" 
      class="link">GetInstanceInfo</a></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetInstanceInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#StartInstance" class="summary-sig-name">StartInstance</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">startup_paused</span>,
        <span class="summary-sig-arg">reason</span>,
        <span class="summary-sig-arg">store_reason</span>=<span class="summary-sig-default">True</span>)</span><br />
      Start an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#StartInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#InstanceShutdown" class="summary-sig-name">InstanceShutdown</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">timeout</span>,
        <span class="summary-sig-arg">reason</span>,
        <span class="summary-sig-arg">store_reason</span>=<span class="summary-sig-default">True</span>)</span><br />
      Shut an instance down.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceShutdown">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#InstanceReboot" class="summary-sig-name">InstanceReboot</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">reboot_type</span>,
        <span class="summary-sig-arg">shutdown_timeout</span>,
        <span class="summary-sig-arg">reason</span>)</span><br />
      Reboot an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceReboot">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#InstanceBalloonMemory" class="summary-sig-name">InstanceBalloonMemory</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">memory</span>)</span><br />
      Resize an instance's memory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceBalloonMemory">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#MigrationInfo" class="summary-sig-name">MigrationInfo</a>(<span class="summary-sig-arg">instance</span>)</span><br />
      Gather information about an instance to be migrated.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#MigrationInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#AcceptInstance" class="summary-sig-name">AcceptInstance</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">info</span>,
        <span class="summary-sig-arg">target</span>)</span><br />
      Prepare the node to accept an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#AcceptInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#FinalizeMigrationDst" class="summary-sig-name">FinalizeMigrationDst</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">info</span>,
        <span class="summary-sig-arg">success</span>)</span><br />
      Finalize any preparation to accept an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeMigrationDst">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#MigrateInstance" class="summary-sig-name">MigrateInstance</a>(<span class="summary-sig-arg">cluster_name</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">target</span>,
        <span class="summary-sig-arg">live</span>)</span><br />
      Migrates an instance to another node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#MigrateInstance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#FinalizeMigrationSource" class="summary-sig-name">FinalizeMigrationSource</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">success</span>,
        <span class="summary-sig-arg">live</span>)</span><br />
      Finalize the instance migration on the source node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeMigrationSource">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.objects.MigrationStatus-class.html" class="link" 
      onclick="show_private();">objects.MigrationStatus</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetMigrationStatus" class="summary-sig-name">GetMigrationStatus</a>(<span class="summary-sig-arg">instance</span>)</span><br />
      Get the migration status</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetMigrationStatus">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#HotplugDevice" class="summary-sig-name">HotplugDevice</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">action</span>,
        <span class="summary-sig-arg">dev_type</span>,
        <span class="summary-sig-arg">device</span>,
        <span class="summary-sig-arg">extra</span>,
        <span class="summary-sig-arg">seq</span>)</span><br />
      Hotplug a device</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#HotplugDevice">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="HotplugSupported"></a><span class="summary-sig-name">HotplugSupported</span>(<span class="summary-sig-arg">instance</span>)</span><br />
      Checks if hotplug is generally supported.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#HotplugSupported">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ModifyInstanceMetadata" class="summary-sig-name">ModifyInstanceMetadata</a>(<span class="summary-sig-arg">metadata</span>)</span><br />
      Sends instance data to the metadata daemon.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ModifyInstanceMetadata">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevCreate" class="summary-sig-name">BlockdevCreate</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">size</span>,
        <span class="summary-sig-arg">owner</span>,
        <span class="summary-sig-arg">on_primary</span>,
        <span class="summary-sig-arg">info</span>,
        <span class="summary-sig-arg">excl_stor</span>)</span><br />
      Creates a block device for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevCreate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_DumpDevice" class="summary-sig-name" onclick="show_private();">_DumpDevice</a>(<span class="summary-sig-arg">source_path</span>,
        <span class="summary-sig-arg">target_path</span>,
        <span class="summary-sig-arg">offset</span>,
        <span class="summary-sig-arg">size</span>,
        <span class="summary-sig-arg">truncate</span>)</span><br />
      This function images/wipes the device using a local file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_DumpDevice">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">NoneType</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_DownloadAndDumpDevice" class="summary-sig-name" onclick="show_private();">_DownloadAndDumpDevice</a>(<span class="summary-sig-arg">source_url</span>,
        <span class="summary-sig-arg">target_path</span>,
        <span class="summary-sig-arg">size</span>)</span><br />
      This function images a device using a downloaded image file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_DownloadAndDumpDevice">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">NoneType</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevConvert" class="summary-sig-name">BlockdevConvert</a>(<span class="summary-sig-arg">src_disk</span>,
        <span class="summary-sig-arg">target_disk</span>)</span><br />
      Copies data from source block device to target.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevConvert">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevWipe" class="summary-sig-name">BlockdevWipe</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">offset</span>,
        <span class="summary-sig-arg">size</span>)</span><br />
      Wipes a block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevWipe">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">NoneType</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevImage" class="summary-sig-name">BlockdevImage</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">image</span>,
        <span class="summary-sig-arg">size</span>)</span><br />
      Images a block device either by dumping a local file or downloading a
      URL.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevImage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevPauseResumeSync" class="summary-sig-name">BlockdevPauseResumeSync</a>(<span class="summary-sig-arg">disks</span>,
        <span class="summary-sig-arg">pause</span>)</span><br />
      Pause or resume the sync of the block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevPauseResumeSync">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevRemove" class="summary-sig-name">BlockdevRemove</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Remove a block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRemove">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_RecursiveAssembleBD" class="summary-sig-name" onclick="show_private();">_RecursiveAssembleBD</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">owner</span>,
        <span class="summary-sig-arg">as_primary</span>)</span><br />
      Activate a block device for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_RecursiveAssembleBD">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str or boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevAssemble" class="summary-sig-name">BlockdevAssemble</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">as_primary</span>,
        <span class="summary-sig-arg">idx</span>)</span><br />
      Activate a block device for an instance.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevAssemble">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevShutdown" class="summary-sig-name">BlockdevShutdown</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Shut down a block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevShutdown">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevAddchildren" class="summary-sig-name">BlockdevAddchildren</a>(<span class="summary-sig-arg">parent_cdev</span>,
        <span class="summary-sig-arg">new_cdevs</span>)</span><br />
      Extend a mirrored block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevAddchildren">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevRemovechildren" class="summary-sig-name">BlockdevRemovechildren</a>(<span class="summary-sig-arg">parent_cdev</span>,
        <span class="summary-sig-arg">new_cdevs</span>)</span><br />
      Shrink a mirrored block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRemovechildren">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">disk</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevGetmirrorstatus" class="summary-sig-name">BlockdevGetmirrorstatus</a>(<span class="summary-sig-arg">disks</span>)</span><br />
      Get the mirroring status of a list of devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetmirrorstatus">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">disk</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevGetmirrorstatusMulti" class="summary-sig-name">BlockdevGetmirrorstatusMulti</a>(<span class="summary-sig-arg">disks</span>)</span><br />
      Get the mirroring status of a list of devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetmirrorstatusMulti">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_RecursiveFindBD" class="summary-sig-name" onclick="show_private();">_RecursiveFindBD</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Check if a device is activated.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_RecursiveFindBD">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_OpenRealBD" class="summary-sig-name" onclick="show_private();">_OpenRealBD</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Opens the underlying block device of a disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_OpenRealBD">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None or objects.BlockDevStatus</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevFind" class="summary-sig-name">BlockdevFind</a>(<span class="summary-sig-arg">disk</span>)</span><br />
      Check if a device is activated.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevFind">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevGetdimensions" class="summary-sig-name">BlockdevGetdimensions</a>(<span class="summary-sig-arg">disks</span>)</span><br />
      Computes the size of the given disks.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetdimensions">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#UploadFile" class="summary-sig-name">UploadFile</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">mode</span>,
        <span class="summary-sig-arg">uid</span>,
        <span class="summary-sig-arg">gid</span>,
        <span class="summary-sig-arg">atime</span>,
        <span class="summary-sig-arg">mtime</span>)</span><br />
      Write a file to the filesystem.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#UploadFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RunOob" class="summary-sig-name">RunOob</a>(<span class="summary-sig-arg">oob_program</span>,
        <span class="summary-sig-arg">command</span>,
        <span class="summary-sig-arg">node</span>,
        <span class="summary-sig-arg">timeout</span>)</span><br />
      Executes oob_program with given command on given node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RunOob">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_OSOndiskAPIVersion" class="summary-sig-name" onclick="show_private();">_OSOndiskAPIVersion</a>(<span class="summary-sig-arg">os_dir</span>)</span><br />
      Compute and return the API version of a given OS.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_OSOndiskAPIVersion">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of <a href="ganeti.objects.OS-class.html" 
      class="link">objects.OS</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#DiagnoseOS" class="summary-sig-name">DiagnoseOS</a>(<span class="summary-sig-arg">top_dirs</span>=<span class="summary-sig-default">None</span>)</span><br />
      Compute the validity for all OSes.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DiagnoseOS">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_TryOSFromDisk" class="summary-sig-name" onclick="show_private();">_TryOSFromDisk</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">base_dir</span>=<span class="summary-sig-default">None</span>)</span><br />
      Create an OS instance from disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_TryOSFromDisk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.objects.OS-class.html" class="link">objects.OS</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#OSFromDisk" class="summary-sig-name">OSFromDisk</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">base_dir</span>=<span class="summary-sig-default">None</span>)</span><br />
      Create an OS instance from disk.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#OSFromDisk">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#OSCoreEnv" class="summary-sig-name">OSCoreEnv</a>(<span class="summary-sig-arg">os_name</span>,
        <span class="summary-sig-arg">inst_os</span>,
        <span class="summary-sig-arg">os_params</span>,
        <span class="summary-sig-arg">debug</span>=<span class="summary-sig-default">0</span>)</span><br />
      Calculate the basic environment for an os script.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#OSCoreEnv">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#OSEnvironment" class="summary-sig-name">OSEnvironment</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">inst_os</span>,
        <span class="summary-sig-arg">debug</span>=<span class="summary-sig-default">0</span>)</span><br />
      Calculate the environment for an os script.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#OSEnvironment">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of <a href="ganeti.objects.ExtStorage-class.html" class="link" 
      onclick="show_private();">objects.ExtStorage</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#DiagnoseExtStorage" class="summary-sig-name">DiagnoseExtStorage</a>(<span class="summary-sig-arg">top_dirs</span>=<span class="summary-sig-default">None</span>)</span><br />
      Compute the validity for all ExtStorage Providers.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DiagnoseExtStorage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">(status, result)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevGrow" class="summary-sig-name">BlockdevGrow</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">amount</span>,
        <span class="summary-sig-arg">dryrun</span>,
        <span class="summary-sig-arg">backingstore</span>,
        <span class="summary-sig-arg">excl_stor</span>)</span><br />
      Grow a stack of block devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGrow">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevSnapshot" class="summary-sig-name">BlockdevSnapshot</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">snap_name</span>,
        <span class="summary-sig-arg">snap_size</span>)</span><br />
      Create a snapshot copy of a block device.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevSnapshot">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">(status, result)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevSetInfo" class="summary-sig-name">BlockdevSetInfo</a>(<span class="summary-sig-arg">disk</span>,
        <span class="summary-sig-arg">info</span>)</span><br />
      Sets 'metadata' information on block devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevSetInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#FinalizeExport" class="summary-sig-name">FinalizeExport</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">snap_disks</span>)</span><br />
      Write out the export configuration information.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeExport">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="ganeti.objects.SerializableConfigParser-class.html" 
      class="link" 
      onclick="show_private();">objects.SerializableConfigParser</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ExportInfo" class="summary-sig-name">ExportInfo</a>(<span class="summary-sig-arg">dest</span>)</span><br />
      Get export configuration information.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ExportInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ListExports" class="summary-sig-name">ListExports</a>()</span><br />
      Return a list of exports currently available on this machine.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ListExports">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RemoveExport" class="summary-sig-name">RemoveExport</a>(<span class="summary-sig-arg">export</span>)</span><br />
      Remove an existing export from the node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveExport">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevRename" class="summary-sig-name">BlockdevRename</a>(<span class="summary-sig-arg">devlist</span>)</span><br />
      Rename a list of block devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRename">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_TransformFileStorageDir" class="summary-sig-name" onclick="show_private();">_TransformFileStorageDir</a>(<span class="summary-sig-arg">fs_dir</span>)</span><br />
      Checks whether given file_storage_dir is valid.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_TransformFileStorageDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#CreateFileStorageDir" class="summary-sig-name">CreateFileStorageDir</a>(<span class="summary-sig-arg">file_storage_dir</span>)</span><br />
      Create file storage directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#CreateFileStorageDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple (success,)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RemoveFileStorageDir" class="summary-sig-name">RemoveFileStorageDir</a>(<span class="summary-sig-arg">file_storage_dir</span>)</span><br />
      Remove file storage directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveFileStorageDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple (success,)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RenameFileStorageDir" class="summary-sig-name">RenameFileStorageDir</a>(<span class="summary-sig-arg">old_file_storage_dir</span>,
        <span class="summary-sig-arg">new_file_storage_dir</span>)</span><br />
      Rename the file storage directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RenameFileStorageDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_EnsureJobQueueFile" class="summary-sig-name" onclick="show_private();">_EnsureJobQueueFile</a>(<span class="summary-sig-arg">file_name</span>)</span><br />
      Checks whether the given filename is in the queue directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_EnsureJobQueueFile">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#JobQueueUpdate" class="summary-sig-name">JobQueueUpdate</a>(<span class="summary-sig-arg">file_name</span>,
        <span class="summary-sig-arg">content</span>)</span><br />
      Updates a file in the queue directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueUpdate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#JobQueueRename" class="summary-sig-name">JobQueueRename</a>(<span class="summary-sig-arg">old</span>,
        <span class="summary-sig-arg">new</span>)</span><br />
      Renames a job queue file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueRename">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple (success, message)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#BlockdevClose" class="summary-sig-name">BlockdevClose</a>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">disks</span>)</span><br />
      Closes the given block devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevClose">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="BlockdevOpen"></a><span class="summary-sig-name">BlockdevOpen</span>(<span class="summary-sig-arg">instance_name</span>,
        <span class="summary-sig-arg">disks</span>,
        <span class="summary-sig-arg">exclusive</span>)</span><br />
      Opens the given block devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevOpen">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ValidateHVParams" class="summary-sig-name">ValidateHVParams</a>(<span class="summary-sig-arg">hvname</span>,
        <span class="summary-sig-arg">hvparams</span>)</span><br />
      Validates the given hypervisor parameters.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ValidateHVParams">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_CheckOSPList" class="summary-sig-name" onclick="show_private();">_CheckOSPList</a>(<span class="summary-sig-arg">os_obj</span>,
        <span class="summary-sig-arg">parameters</span>)</span><br />
      Check whether a list of parameters is supported by the OS.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckOSPList">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">NoneType</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_CheckOSVariant" class="summary-sig-name" onclick="show_private();">_CheckOSVariant</a>(<span class="summary-sig-arg">os_obj</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Check whether an OS name conforms to the os variants specification.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckOSVariant">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ValidateOS" class="summary-sig-name">ValidateOS</a>(<span class="summary-sig-arg">required</span>,
        <span class="summary-sig-arg">osname</span>,
        <span class="summary-sig-arg">checks</span>,
        <span class="summary-sig-arg">osparams</span>,
        <span class="summary-sig-arg">force_variant</span>)</span><br />
      Validate the given OS parameters.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ValidateOS">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ExportOS" class="summary-sig-name">ExportOS</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">override_env</span>)</span><br />
      Creates a GZIPed tarball with an OS definition and environment.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ExportOS">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DemoteFromMC"></a><span class="summary-sig-name">DemoteFromMC</span>()</span><br />
      Demotes the current node from master candidate role.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DemoteFromMC">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_GetX509Filenames"></a><span class="summary-sig-name">_GetX509Filenames</span>(<span class="summary-sig-arg">cryptodir</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Returns the full paths for the private key and certificate.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetX509Filenames">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple; (string, string)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#CreateX509Certificate" class="summary-sig-name">CreateX509Certificate</a>(<span class="summary-sig-arg">validity</span>,
        <span class="summary-sig-arg">cryptodir</span>=<span class="summary-sig-default">pathutils.CRYPTO_KEYS_DIR</span>)</span><br />
      Creates a new X509 certificate for SSL/TLS.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#CreateX509Certificate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RemoveX509Certificate" class="summary-sig-name">RemoveX509Certificate</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">cryptodir</span>=<span class="summary-sig-default">pathutils.CRYPTO_KEYS_DIR</span>)</span><br />
      Removes a X509 certificate.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveX509Certificate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_GetImportExportIoCommand" class="summary-sig-name" onclick="show_private();">_GetImportExportIoCommand</a>(<span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">mode</span>,
        <span class="summary-sig-arg">ieio</span>,
        <span class="summary-sig-arg">ieargs</span>)</span><br />
      Returns the command for the requested input/output.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_GetImportExportIoCommand">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_CreateImportExportStatusDir"></a><span class="summary-sig-name">_CreateImportExportStatusDir</span>(<span class="summary-sig-arg">prefix</span>)</span><br />
      Creates status directory for import/export.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CreateImportExportStatusDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#StartImportExportDaemon" class="summary-sig-name">StartImportExportDaemon</a>(<span class="summary-sig-arg">mode</span>,
        <span class="summary-sig-arg">opts</span>,
        <span class="summary-sig-arg">host</span>,
        <span class="summary-sig-arg">port</span>,
        <span class="summary-sig-arg">instance</span>,
        <span class="summary-sig-arg">component</span>,
        <span class="summary-sig-arg">ieio</span>,
        <span class="summary-sig-arg">ieioargs</span>)</span><br />
      Starts an import or export daemon.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#StartImportExportDaemon">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">List of dicts</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetImportExportStatus" class="summary-sig-name">GetImportExportStatus</a>(<span class="summary-sig-arg">names</span>)</span><br />
      Returns import/export daemon status.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetImportExportStatus">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="AbortImportExport"></a><span class="summary-sig-name">AbortImportExport</span>(<span class="summary-sig-arg">name</span>)</span><br />
      Sends SIGTERM to a running import/export daemon.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#AbortImportExport">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#CleanupImportExport" class="summary-sig-name">CleanupImportExport</a>(<span class="summary-sig-arg">name</span>)</span><br />
      Cleanup after an import or export.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#CleanupImportExport">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_FindDisks" class="summary-sig-name" onclick="show_private();">_FindDisks</a>(<span class="summary-sig-arg">disks</span>)</span><br />
      Finds attached <a href="ganeti.storage.base.BlockDev-class.html" 
      class="link">BlockDev</a>s for the given disks.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_FindDisks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DrbdDisconnectNet"></a><span class="summary-sig-name">DrbdDisconnectNet</span>(<span class="summary-sig-arg">disks</span>)</span><br />
      Disconnects the network on a list of drbd devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DrbdDisconnectNet">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DrbdAttachNet"></a><span class="summary-sig-name">DrbdAttachNet</span>(<span class="summary-sig-arg">disks</span>,
        <span class="summary-sig-arg">multimaster</span>)</span><br />
      Attaches the network on a list of drbd devices.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DrbdAttachNet">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DrbdWaitSync"></a><span class="summary-sig-name">DrbdWaitSync</span>(<span class="summary-sig-arg">disks</span>)</span><br />
      Wait until DRBDs have synchronized.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DrbdWaitSync">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="DrbdNeedsActivation"></a><span class="summary-sig-name">DrbdNeedsActivation</span>(<span class="summary-sig-arg">disks</span>)</span><br />
      Checks which of the passed disks needs activation and returns their 
      UUIDs.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#DrbdNeedsActivation">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="GetDrbdUsermodeHelper"></a><span class="summary-sig-name">GetDrbdUsermodeHelper</span>()</span><br />
      Returns DRBD usermode helper currently configured.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetDrbdUsermodeHelper">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#PowercycleNode" class="summary-sig-name">PowercycleNode</a>(<span class="summary-sig-arg">hypervisor_type</span>,
        <span class="summary-sig-arg">hvparams</span>=<span class="summary-sig-default">None</span>)</span><br />
      Hard-powercycle the node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#PowercycleNode">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple; (boolean, string or None)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifyRestrictedCmdName" class="summary-sig-name" onclick="show_private();">_VerifyRestrictedCmdName</a>(<span class="summary-sig-arg">cmd</span>)</span><br />
      Verifies a restricted command name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyRestrictedCmdName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple; (boolean, string or <code>os.stat</code> result)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_CommonRestrictedCmdCheck" class="summary-sig-name" onclick="show_private();">_CommonRestrictedCmdCheck</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">owner</span>)</span><br />
      Common checks for restricted command file system directories and 
      files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_CommonRestrictedCmdCheck">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple; (boolean, string or None)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifyRestrictedCmdDirectory" class="summary-sig-name" onclick="show_private();">_VerifyRestrictedCmdDirectory</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">_owner</span>=<span class="summary-sig-default">None</span>)</span><br />
      Verifies restricted command directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyRestrictedCmdDirectory">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple; (boolean, string)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_VerifyRestrictedCmd" class="summary-sig-name" onclick="show_private();">_VerifyRestrictedCmd</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">_owner</span>=<span class="summary-sig-default">None</span>)</span><br />
      Verifies a whole restricted command and returns its executable 
      filename.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyRestrictedCmd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#_PrepareRestrictedCmd" class="summary-sig-name" onclick="show_private();">_PrepareRestrictedCmd</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">_verify_dir</span>=<span class="summary-sig-default">_VerifyRestrictedCmdDirectory</span>,
        <span class="summary-sig-arg">_verify_name</span>=<span class="summary-sig-default">_VerifyRestrictedCmdName</span>,
        <span class="summary-sig-arg">_verify_cmd</span>=<span class="summary-sig-default">_VerifyRestrictedCmd</span>)</span><br />
      Performs a number of tests on a restricted command.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#_PrepareRestrictedCmd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">string</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#RunConstrainedCmd" class="summary-sig-name">RunConstrainedCmd</a>(<span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">lock_file</span>,
        <span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">inp</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">_lock_timeout</span>=<span class="summary-sig-default">_RCMD_LOCK_TIMEOUT</span>,
        <span class="summary-sig-arg">_sleep_fn</span>=<span class="summary-sig-default">time.sleep</span>,
        <span class="summary-sig-arg">_prepare_fn</span>=<span class="summary-sig-default">_PrepareRestrictedCmd</span>,
        <span class="summary-sig-arg">_runcmd_fn</span>=<span class="summary-sig-default">utils.RunCmd</span>,
        <span class="summary-sig-arg">_enabled</span>=<span class="summary-sig-default">constants.ENABLE_RESTRICTED_COMMANDS</span>)</span><br />
      Executes a command after performing strict tests.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#RunConstrainedCmd">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#SetWatcherPause" class="summary-sig-name">SetWatcherPause</a>(<span class="summary-sig-arg">until</span>,
        <span class="summary-sig-arg">_filename</span>=<span class="summary-sig-default">pathutils.WATCHER_PAUSEFILE</span>)</span><br />
      Creates or removes the watcher pause file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#SetWatcherPause">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#ConfigureOVS" class="summary-sig-name">ConfigureOVS</a>(<span class="summary-sig-arg">ovs_name</span>,
        <span class="summary-sig-arg">ovs_link</span>)</span><br />
      Creates a OpenvSwitch on the node.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#ConfigureOVS">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple of bool, dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.backend-module.html#GetFileInfo" class="summary-sig-name">GetFileInfo</a>(<span class="summary-sig-arg">file_path</span>)</span><br />
      Checks if a file exists and returns information related to it.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.backend-pysrc.html#GetFileInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_BOOT_ID_PATH"></a><span class="summary-name">_BOOT_ID_PATH</span> = <code title="&quot;/proc/sys/kernel/random/boot_id&quot;">&quot;/proc/sys/kernel/random/boot_id&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend-module.html#_ALLOWED_CLEAN_DIRS" class="summary-name" onclick="show_private();">_ALLOWED_CLEAN_DIRS</a> = <code title="compat.UniqueFrozenset([pathutils.DATA_DIR, pathutils.JOB_QUEUE_ARCHIV\
E_DIR, pathutils.QUEUE_DIR, pathutils.CRYPTO_KEYS_DIR,])">compat.UniqueFrozenset([pathutils.DATA_D<code class="variable-ellipsis">...</code></code><br />
      denotes which directories are accepted in the <a 
      href="ganeti.backend-module.html#_CleanDirectory" class="link" 
      onclick="show_private();">_CleanDirectory</a> function
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_MAX_SSL_CERT_VALIDITY"></a><span class="summary-name">_MAX_SSL_CERT_VALIDITY</span> = <code title="7* 24* 60* 60">7* 24* 60* 60</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_X509_KEY_FILE"></a><span class="summary-name">_X509_KEY_FILE</span> = <code title="&quot;key&quot;">&quot;key&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_X509_CERT_FILE"></a><span class="summary-name">_X509_CERT_FILE</span> = <code title="&quot;cert&quot;">&quot;cert&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_IES_STATUS_FILE"></a><span class="summary-name">_IES_STATUS_FILE</span> = <code title="&quot;status&quot;">&quot;status&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_IES_PID_FILE"></a><span class="summary-name">_IES_PID_FILE</span> = <code title="&quot;pid&quot;">&quot;pid&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_IES_CA_FILE"></a><span class="summary-name">_IES_CA_FILE</span> = <code title="&quot;ca&quot;">&quot;ca&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend-module.html#_LVSLINE_REGEX" class="summary-name" onclick="show_private();">_LVSLINE_REGEX</a> = <code title="re.compile(r&quot;^ *([^|]+)\|([^|]+)\|([0-9.]+)\|([^|]{6,})\|?$&quot;)">re.compile(r&quot;^ *([^|]+)\|([^|]+)\|([0-9.]+)\|<code class="variable-ellipsis">...</code></code><br />
      Valid LVS output line regex
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_MASTER_START"></a><span class="summary-name">_MASTER_START</span> = <code title="&quot;start&quot;">&quot;start&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_MASTER_STOP"></a><span class="summary-name">_MASTER_STOP</span> = <code title="&quot;stop&quot;">&quot;stop&quot;</code>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend-module.html#_RCMD_MAX_MODE" class="summary-name" onclick="show_private();">_RCMD_MAX_MODE</a> = <code title="stat.S_IRWXU | stat.S_IRGRP | stat.S_IXGRP | stat.S_IROTH | stat.S_IXO\
TH">stat.S_IRWXU | stat.S_IRGRP | stat.S_IXGRP | <code class="variable-ellipsis">...</code></code><br />
      Maximum file permissions for restricted command directory and 
      executables
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_RCMD_INVALID_DELAY"></a><span class="summary-name">_RCMD_INVALID_DELAY</span> = <code title="10">10</code><br />
      Delay before returning an error for restricted commands
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_RCMD_LOCK_TIMEOUT"></a><span class="summary-name">_RCMD_LOCK_TIMEOUT</span> = <code title="_RCMD_INVALID_DELAY* 0.8">_RCMD_INVALID_DELAY* 0.8</code><br />
      How long to wait to acquire lock for restricted commands (shorter 
      than <a href="ganeti.backend-module.html#_RCMD_INVALID_DELAY" 
      class="link" onclick="show_private();">_RCMD_INVALID_DELAY</a>) to 
      reduce blockage of noded forks when many command requests arrive
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_ALLOWED_UPLOAD_FILES"></a><span class="summary-name">_ALLOWED_UPLOAD_FILES</span> = <code title="_BuildUploadFileList()">_BuildUploadFileList()</code><br />
      denotes which files are accepted in the <a 
      href="ganeti.backend-module.html#UploadFile" 
      class="link">UploadFile</a> function
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend-module.html#_STORAGE_TYPE_INFO_FN" class="summary-name" onclick="show_private();">_STORAGE_TYPE_INFO_FN</a> = <code title="{constants.ST_BLOCK: None, constants.ST_DISKLESS: None, constants.ST_E\
XT: None, constants.ST_FILE: _GetFileStorageSpaceInfo, constants.ST_LV\
M_PV: _GetLvmPvSpaceInfo, constants.ST_LVM_VG: _GetLvmVgSpaceInfo, con\
stants.ST_SHARED_FILE: None, constants.ST_GLUSTER: None, constants.ST_\
RADOS: None,}">{constants.ST_BLOCK: None, constants.S<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend-module.html#SshAddNodeInfo" class="summary-name">SshAddNodeInfo</a> = <code title="collections.namedtuple(&quot;SshAddNodeInfo&quot;, [&quot;uuid&quot;, &quot;name&quot;, &quot;to_authoriz\
ed_keys&quot;, &quot;to_public_keys&quot;, &quot;get_public_keys&quot;])">collections.namedtuple(&quot;SshAddNodeInfo&quot;, [&quot;uu<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.backend-module.html#SshRemoveNodeInfo" class="summary-name">SshRemoveNodeInfo</a> = <code title="collections.namedtuple(&quot;SshRemoveNodeInfo&quot;, [&quot;uuid&quot;, &quot;name&quot;, &quot;from_aut\
horized_keys&quot;, &quot;from_public_keys&quot;, &quot;clear_authorized_keys&quot;, &quot;clear_pub\
lic_keys&quot;])">collections.namedtuple(&quot;SshRemoveNodeInfo&quot;<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <span title="base64">base64</span>,
  <span title="errno">errno</span>,
  <span title="logging">logging</span>,
  <span title="os">os</span>,
  <span title="pycurl">pycurl</span>,
  <span title="random">random</span>,
  <span title="re">re</span>,
  <span title="shutil">shutil</span>,
  <span title="signal">signal</span>,
  <span title="stat">stat</span>,
  <span title="tempfile">tempfile</span>,
  <span title="time">time</span>,
  <span title="zlib">zlib</span>,
  <span title="contextlib">contextlib</span>,
  <span title="collections">collections</span>,
  <a href="ganeti.errors-module.html" title="ganeti.errors">errors</a>,
  <a href="ganeti.http-module.html" title="ganeti.http">http</a>,
  <a href="ganeti.utils-module.html" title="ganeti.utils">utils</a>,
  <a href="ganeti.ssh-module.html" title="ganeti.ssh">ssh</a>,
  <a href="ganeti.hypervisor-module.html" title="ganeti.hypervisor">hypervisor</a>,
  <a href="ganeti.hypervisor.hv_base-module.html" title="ganeti.hypervisor.hv_base">hv_base</a>,
  <a href="ganeti.constants-module.html" title="ganeti.constants">constants</a>,
  <a href="ganeti.storage.bdev-module.html" title="ganeti.storage.bdev">bdev</a>,
  <a href="ganeti.storage.drbd-module.html" title="ganeti.storage.drbd">drbd</a>,
  <a href="ganeti.storage.extstorage-module.html" title="ganeti.storage.extstorage">extstorage</a>,
  <a href="ganeti.storage.filestorage-module.html" title="ganeti.storage.filestorage">filestorage</a>,
  <a href="ganeti.objects-module.html" title="ganeti.objects">objects</a>,
  <a href="ganeti.ssconf-module.html" title="ganeti.ssconf">ssconf</a>,
  <a href="ganeti.serializer-module.html" title="ganeti.serializer">serializer</a>,
  <a href="ganeti.netutils-module.html" title="ganeti.netutils">netutils</a>,
  <a href="ganeti.runtime-module.html" title="ganeti.runtime">runtime</a>,
  <a href="ganeti.compat-module.html" title="ganeti.compat">compat</a>,
  <a href="ganeti.pathutils-module.html" title="ganeti.pathutils">pathutils</a>,
  <a href="ganeti.vcluster-module.html" title="ganeti.vcluster">vcluster</a>,
  <a href="ganeti.ht-module.html" title="ganeti.ht">ht</a>,
  <a href="ganeti.storage.base.BlockDev-class.html" title="ganeti.storage.base.BlockDev">BlockDev</a>,
  <a href="ganeti.storage.drbd.DRBD8-class.html" title="ganeti.storage.drbd.DRBD8">DRBD8</a>,
  <a href="ganeti.hooksmaster-module.html" title="ganeti.hooksmaster">hooksmaster</a>,
  <a href="ganeti.metad-module.html" title="ganeti.metad">metad</a>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_GetInstReasonFilename"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetInstReasonFilename</span>(<span class="sig-arg">instance_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetInstReasonFilename">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Path of the file containing the reason of the instance status 
  change.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance_name</code></strong> (string) - The name of the instance</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>The path of the file</dd>
  </dl>
</td></tr></table>
</div>
<a name="_StoreInstReasonTrail"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_StoreInstReasonTrail</span>(<span class="sig-arg">instance_name</span>,
        <span class="sig-arg">trail</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_StoreInstReasonTrail">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Serialize a reason trail related to an instance change of state to 
  file.</p>
  <p>The exact location of the file depends on the name of the instance and
  on the configuration of the Ganeti cluster defined at deploy time.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance_name</code></strong> (string) - The name of the instance</li>
        <li><strong class="pname"><code>trail</code></strong> (list of reasons) - reason trail</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="_Fail"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_Fail</span>(<span class="sig-arg">msg</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_Fail">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Log an error and the raise an RPCFail exception.</p>
  <p>This exception is then handled specially in the ganeti daemon and 
  turned into a 'failed' return type. As such, this function is a useful 
  shortcut for logging the error and returning it to the master daemon.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>msg</code></strong> (string) - the text of the exception @raise RPCFail</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetConfig"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetConfig</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetConfig">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Simple wrapper to return a SimpleStore.</p>
  <dl class="fields">
    <dt>Returns: <a href="ganeti.ssconf.SimpleStore-class.html" 
      class="link">ssconf.SimpleStore</a></dt>
        <dd>a SimpleStore instance</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetSshRunner"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetSshRunner</span>(<span class="sig-arg">cluster_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetSshRunner">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Simple wrapper to return an SshRunner.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cluster_name</code></strong> (str) - the cluster name, which is needed by the SshRunner constructor</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.ssh.SshRunner-class.html" 
      class="link">ssh.SshRunner</a></dt>
        <dd>an SshRunner instance</dd>
  </dl>
</td></tr></table>
</div>
<a name="_Decompress"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_Decompress</span>(<span class="sig-arg">data</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_Decompress">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Unpacks data compressed by the RPC client.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>data</code></strong> (list or tuple) - Data sent by RPC client</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>Decompressed data</dd>
  </dl>
</td></tr></table>
</div>
<a name="_CleanDirectory"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CleanDirectory</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">exclude</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_CleanDirectory">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes all regular files in a directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (str) - the directory to clean</li>
        <li><strong class="pname"><code>exclude</code></strong> (list) - list of files to be excluded, defaults to the empty list</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_BuildUploadFileList"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_BuildUploadFileList</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_BuildUploadFileList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Build the list of allowed upload files.</p>
  <p>This is abstracted so that it's built only once at module import 
  time.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="JobQueuePurge"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">JobQueuePurge</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueuePurge">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes job queue files and archived jobs.</p>
  <dl class="fields">
    <dt>Returns: tuple</dt>
        <dd>True, None</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetMasterNodeName"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetMasterNodeName</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetMasterNodeName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns the master node name.</p>
  <dl class="fields">
    <dt>Returns: string</dt>
        <dd>name of the master node</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case of errors</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RunLocalHooks"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RunLocalHooks</span>(<span class="sig-arg">hook_opcode</span>,
        <span class="sig-arg">hooks_path</span>,
        <span class="sig-arg">env_builder_fn</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RunLocalHooks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Decorator that runs hooks before and after the decorated function.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hook_opcode</code></strong> (string) - opcode of the hook</li>
        <li><strong class="pname"><code>hooks_path</code></strong> (string) - path of the hooks</li>
        <li><strong class="pname"><code>env_builder_fn</code></strong> (function) - function that returns a dictionary containing the environment 
          variables for the hooks. Will get all the parameters of the 
          decorated function.</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case of pre-hook failure</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_BuildMasterIpEnv"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_BuildMasterIpEnv</span>(<span class="sig-arg">master_params</span>,
        <span class="sig-arg">use_external_mip_script</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_BuildMasterIpEnv">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Builds environment variables for master IP hooks.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>master_params</code></strong> (<a href="ganeti.objects.MasterNetworkParameters-class.html" 
          class="link" 
          onclick="show_private();">objects.MasterNetworkParameters</a>) - network parameters of the master</li>
        <li><strong class="pname"><code>use_external_mip_script</code></strong> (boolean) - whether to use an external master IP address setup script 
          (unused, but necessary per the implementation of the 
          _RunLocalHooks decorator)</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_RunMasterSetupScript"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RunMasterSetupScript</span>(<span class="sig-arg">master_params</span>,
        <span class="sig-arg">action</span>,
        <span class="sig-arg">use_external_mip_script</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_RunMasterSetupScript">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Execute the master IP address setup script.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>master_params</code></strong> (<a href="ganeti.objects.MasterNetworkParameters-class.html" 
          class="link" 
          onclick="show_private();">objects.MasterNetworkParameters</a>) - network parameters of the master</li>
        <li><strong class="pname"><code>action</code></strong> (string) - action to pass to the script. Must be one of <a 
          href="ganeti.backend-module.html#_MASTER_START" class="link" 
          onclick="show_private();">backend._MASTER_START</a> or <a 
          href="ganeti.backend-module.html#_MASTER_STOP" class="link" 
          onclick="show_private();">backend._MASTER_STOP</a></li>
        <li><strong class="pname"><code>use_external_mip_script</code></strong> (boolean) - whether to use an external master IP address setup script</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">backend.RPCFail</a></strong></code> - if there are errors during the execution of the script</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ActivateMasterIp"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ActivateMasterIp</span>(<span class="sig-arg">master_params</span>,
        <span class="sig-arg">use_external_mip_script</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ActivateMasterIp">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Activate the IP address of the master daemon.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>master_params</code></strong> (<a href="ganeti.objects.MasterNetworkParameters-class.html" 
          class="link" 
          onclick="show_private();">objects.MasterNetworkParameters</a>) - network parameters of the master</li>
        <li><strong class="pname"><code>use_external_mip_script</code></strong> (boolean) - whether to use an external master IP address setup script</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@RunLocalHooks(constants.FAKE_OP_MASTER_TURNUP, "master-ip-turnup", _BuildMasterIpEnv)</code></li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case of errors during the IP startup</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="StartMasterDaemons"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">StartMasterDaemons</span>(<span class="sig-arg">no_voting</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#StartMasterDaemons">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Activate local node as master node.</p>
  <p>The function will start the master daemons (ganeti-masterd and 
  ganeti-rapi).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>no_voting</code></strong> (boolean) - whether to start ganeti-masterd without a node vote but still 
          non-interactively</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="DeactivateMasterIp"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DeactivateMasterIp</span>(<span class="sig-arg">master_params</span>,
        <span class="sig-arg">use_external_mip_script</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#DeactivateMasterIp">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Deactivate the master IP on this node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>master_params</code></strong> (<a href="ganeti.objects.MasterNetworkParameters-class.html" 
          class="link" 
          onclick="show_private();">objects.MasterNetworkParameters</a>) - network parameters of the master</li>
        <li><strong class="pname"><code>use_external_mip_script</code></strong> (boolean) - whether to use an external master IP address setup script</li>
    </ul></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@RunLocalHooks(constants.FAKE_OP_MASTER_TURNDOWN, "master-ip-turndown", _BuildMasterIpEnv)</code></li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case of errors during the IP turndown</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="StopMasterDaemons"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">StopMasterDaemons</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#StopMasterDaemons">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Stop the master daemons on this node.</p>
  <p>Stop the master daemons (ganeti-masterd and ganeti-rapi) on this 
  node.</p>
  <dl class="fields">
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="ChangeMasterNetmask"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ChangeMasterNetmask</span>(<span class="sig-arg">old_netmask</span>,
        <span class="sig-arg">netmask</span>,
        <span class="sig-arg">master_ip</span>,
        <span class="sig-arg">master_netdev</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ChangeMasterNetmask">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Change the netmask of the master IP.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>old_netmask</code></strong> - the old value of the netmask</li>
        <li><strong class="pname"><code>netmask</code></strong> - the new value of the netmask</li>
        <li><strong class="pname"><code>master_ip</code></strong> - the master IP</li>
        <li><strong class="pname"><code>master_netdev</code></strong> - the master network device</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="EtcHostsModify"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">EtcHostsModify</span>(<span class="sig-arg">mode</span>,
        <span class="sig-arg">host</span>,
        <span class="sig-arg">ip</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#EtcHostsModify">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Modify a host entry in /etc/hosts.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>mode</code></strong> - The mode to operate. Either add or remove entry</li>
        <li><strong class="pname"><code>host</code></strong> - The host to operate on</li>
        <li><strong class="pname"><code>ip</code></strong> - The ip associated with the entry</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="LeaveCluster"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">LeaveCluster</span>(<span class="sig-arg">modify_ssh_setup</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#LeaveCluster">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Cleans up and remove the current node.</p>
  <p>This function cleans up and prepares the current node to be removed 
  from the cluster.</p>
  <p>If processing is successful, then it raises an <a 
  href="ganeti.errors.QuitGanetiException-class.html" 
  class="link">errors.QuitGanetiException</a> which is used as a special 
  case to shutdown the node daemon.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>modify_ssh_setup</code></strong> - boolean</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckStorageParams"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckStorageParams</span>(<span class="sig-arg">params</span>,
        <span class="sig-arg">num_params</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckStorageParams">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Performs sanity checks for storage parameters.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>params</code></strong> (list) - list of storage parameters</li>
        <li><strong class="pname"><code>num_params</code></strong> (int) - expected number of parameters</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckLvmStorageParams"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckLvmStorageParams</span>(<span class="sig-arg">params</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckLvmStorageParams">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Performs sanity check for the 'exclusive storage' flag.</p>
  <dl class="fields">
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <code>_CheckStorageParams</code>
      </p>
</div></td></tr></table>
</div>
<a name="_GetLvmVgSpaceInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetLvmVgSpaceInfo</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">params</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetLvmVgSpaceInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wrapper around <code>_GetVgInfo</code> which checks the storage 
  parameters.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>name</code></strong> (string) - name of the volume group</li>
        <li><strong class="pname"><code>params</code></strong> (list) - list of storage parameters, which in this case should be 
          containing only one for exclusive storage</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetLvmPvSpaceInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetLvmPvSpaceInfo</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">params</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetLvmPvSpaceInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wrapper around <code>_GetVgSpindlesInfo</code> with sanity checks.</p>
  <dl class="fields">
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <code>_GetLvmVgSpaceInfo</code>
      </p>
</div></td></tr></table>
</div>
<a name="_GetVgSpindlesInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetVgSpindlesInfo</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">excl_stor</span>,
        <span class="sig-arg">info_fn</span>=<span class="sig-default">bdev.LogicalVolume.GetVgSpindlesInfo</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetVgSpindlesInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Retrieves information about spindles in an LVM volume group.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>name</code></strong> (string) - VG name</li>
        <li><strong class="pname"><code>excl_stor</code></strong> (bool) - exclusive storage</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary whose keys are &quot;name&quot;, &quot;vg_free&quot;, 
          &quot;vg_size&quot; for VG name, free spindles, total spindles 
          respectively</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetHvInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetHvInfo</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">hvparams</span>,
        <span class="sig-arg">get_hv_fn</span>=<span class="sig-default">hypervisor.GetHypervisor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetHvInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Retrieves node information from a hypervisor.</p>
  <p>The information returned depends on the hypervisor. Common items:</p>
  <ul>
    <li>
      vg_size is the size of the configured volume group in MiB
    </li>
    <li>
      vg_free is the free size of the volume group in MiB
    </li>
    <li>
      memory_dom0 is the memory allocated for domain0 in MiB
    </li>
    <li>
      memory_free is the currently available (free) ram in MiB
    </li>
    <li>
      memory_total is the total number of ram in MiB
    </li>
    <li>
      hv_version: the hypervisor version, if available
    </li>
  </ul>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hvparams</code></strong> (dict of string) - the hypervisor's hvparams</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetHvInfoAll"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetHvInfoAll</span>(<span class="sig-arg">hv_specs</span>,
        <span class="sig-arg">get_hv_fn</span>=<span class="sig-default">hypervisor.GetHypervisor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetHvInfoAll">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Retrieves node information for all hypervisors.</p>
  <p>See <code>_GetHvInfo</code> for information on the output.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hv_specs</code></strong> (list of pairs (string, dict of strings)) - list of pairs of a hypervisor's name and its hvparams</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetNodeInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetNodeInfo</span>(<span class="sig-arg">storage_units</span>,
        <span class="sig-arg">hv_specs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetNodeInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gives back a hash with different information about the node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>storage_units</code></strong> (list of tuples (string, string, list)) - List of tuples (storage unit, identifier, parameters) to ask for 
          disk space information. In case of lvm-vg, the identifier is the 
          VG name. The parameters can contain additional, 
          storage-type-specific parameters, for example exclusive storage 
          for lvm storage.</li>
        <li><strong class="pname"><code>hv_specs</code></strong> (list of pairs (string, dict of strings)) - list of pairs of a hypervisor's name and its hvparams</li>
    </ul></dd>
    <dt>Returns: tuple; (string, None/dict, None/dict)</dt>
        <dd>Tuple containing boot ID, volume group information and hypervisor
          information</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetFileStorageSpaceInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetFileStorageSpaceInfo</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">params</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetFileStorageSpaceInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wrapper around filestorage.GetSpaceInfo.</p>
  <p>The purpose of this wrapper is to call 
  filestorage.GetFileStorageSpaceInfo and ignore the *args parameter to not
  leak it into the filestorage module's code.</p>
  <dl class="fields">
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <code>filestorage.GetFileStorageSpaceInfo</code> for description of
        the parameters.
      </p>
</div></td></tr></table>
</div>
<a name="_ApplyStorageInfoFunction"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_ApplyStorageInfoFunction</span>(<span class="sig-arg">storage_type</span>,
        <span class="sig-arg">storage_key</span>,
        <span class="sig-arg">*args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_ApplyStorageInfoFunction">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Looks up and applies the correct function to calculate free and total 
  storage for the given storage type.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>storage_type</code></strong> (string) - the storage type for which the storage shall be reported.</li>
        <li><strong class="pname"><code>storage_key</code></strong> (string) - identifier of a storage unit, e.g. the volume group name of an 
          LVM storage unit</li>
        <li><strong class="pname"><code>args</code></strong> (any) - various parameters that can be used for storage reporting. These 
          parameters and their semantics vary from storage type to storage 
          type and are just propagated in this function.</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>the results of the application of the storage space function (see
          _STORAGE_TYPE_INFO_FN) if storage space reporting is implemented 
          for that storage type</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'>NotImplementedError</strong></code> - for storage types who don't support space reporting yet</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckExclusivePvs"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckExclusivePvs</span>(<span class="sig-arg">pvi_list</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckExclusivePvs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check that PVs are not shared among LVs</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>pvi_list</code></strong> (list of <a href="ganeti.objects.LvmPvInfo-class.html" 
          class="link" onclick="show_private();">objects.LvmPvInfo</a> 
          objects) - information about the PVs</li>
    </ul></dd>
    <dt>Returns: list of tuples (string, list of strings)</dt>
        <dd>offending volumes, as tuples: (pv_name, [lv1_name, lv2_name...])</dd>
  </dl>
</td></tr></table>
</div>
<a name="_VerifyHypervisors"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifyHypervisors</span>(<span class="sig-arg">what</span>,
        <span class="sig-arg">vm_capable</span>,
        <span class="sig-arg">result</span>,
        <span class="sig-arg">all_hvparams</span>,
        <span class="sig-arg">get_hv_fn</span>=<span class="sig-default">hypervisor.GetHypervisor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyHypervisors">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies the hypervisor. Appends the results to the 'results' 
  list.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>what</code></strong> (<code>dict</code>) - a dictionary of things to check</li>
        <li><strong class="pname"><code>vm_capable</code></strong> (boolean) - whether or not this node is vm capable</li>
        <li><strong class="pname"><code>result</code></strong> (dict) - dictionary of verification results; results of the verifications 
          in this function will be added here</li>
        <li><strong class="pname"><code>all_hvparams</code></strong> (dict of dict of string) - dictionary mapping hypervisor names to hvparams</li>
        <li><strong class="pname"><code>get_hv_fn</code></strong> (function) - function to retrieve the hypervisor, to improve testability</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_VerifyHvparams"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifyHvparams</span>(<span class="sig-arg">what</span>,
        <span class="sig-arg">vm_capable</span>,
        <span class="sig-arg">result</span>,
        <span class="sig-arg">get_hv_fn</span>=<span class="sig-default">hypervisor.GetHypervisor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyHvparams">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies the hvparams. Appends the results to the 'results' list.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>what</code></strong> (<code>dict</code>) - a dictionary of things to check</li>
        <li><strong class="pname"><code>vm_capable</code></strong> (boolean) - whether or not this node is vm capable</li>
        <li><strong class="pname"><code>result</code></strong> (dict) - dictionary of verification results; results of the verifications 
          in this function will be added here</li>
        <li><strong class="pname"><code>get_hv_fn</code></strong> (function) - function to retrieve the hypervisor, to improve testability</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_VerifyInstanceList"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifyInstanceList</span>(<span class="sig-arg">what</span>,
        <span class="sig-arg">vm_capable</span>,
        <span class="sig-arg">result</span>,
        <span class="sig-arg">all_hvparams</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyInstanceList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies the instance list.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>what</code></strong> (<code>dict</code>) - a dictionary of things to check</li>
        <li><strong class="pname"><code>vm_capable</code></strong> (boolean) - whether or not this node is vm capable</li>
        <li><strong class="pname"><code>result</code></strong> (dict) - dictionary of verification results; results of the verifications 
          in this function will be added here</li>
        <li><strong class="pname"><code>all_hvparams</code></strong> (dict of dict of string) - dictionary mapping hypervisor names to hvparams</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_VerifyNodeInfo"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifyNodeInfo</span>(<span class="sig-arg">what</span>,
        <span class="sig-arg">vm_capable</span>,
        <span class="sig-arg">result</span>,
        <span class="sig-arg">all_hvparams</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyNodeInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies the node info.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>what</code></strong> (<code>dict</code>) - a dictionary of things to check</li>
        <li><strong class="pname"><code>vm_capable</code></strong> (boolean) - whether or not this node is vm capable</li>
        <li><strong class="pname"><code>result</code></strong> (dict) - dictionary of verification results; results of the verifications 
          in this function will be added here</li>
        <li><strong class="pname"><code>all_hvparams</code></strong> (dict of dict of string) - dictionary mapping hypervisor names to hvparams</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_VerifyClientCertificate"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifyClientCertificate</span>(<span class="sig-arg">cert_file</span>=<span class="sig-default">pathutils.NODED_CLIENT_CERT_FILE</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyClientCertificate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verify the existance and validity of the client SSL certificate.</p>
  <p>Also, verify that the client certificate is not self-signed. Self- 
  signed client certificates stem from Ganeti versions 2.12.0 - 2.12.4 and 
  should be replaced by client certificates signed by the server 
  certificate. Hence we output a warning when we encounter a self-signed 
  one.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_VerifySshSetup"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifySshSetup</span>(<span class="sig-arg">node_status_list</span>,
        <span class="sig-arg">my_name</span>,
        <span class="sig-arg">ssh_key_type</span>,
        <span class="sig-arg">ganeti_pub_keys_file</span>=<span class="sig-default">pathutils.SSH_PUB_KEYS</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifySshSetup">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies the state of the SSH key files.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_status_list</code></strong> (list of tuples) - list of nodes of the cluster associated with a couple of flags: 
          (uuid, name, is_master_candidate, is_potential_master_candidate, 
          online)</li>
        <li><strong class="pname"><code>my_name</code></strong> (str) - name of this node</li>
        <li><strong class="pname"><code>ssh_key_type</code></strong> (one of constants.SSHK_ALL) - type of key used on nodes</li>
        <li><strong class="pname"><code>ganeti_pub_keys_file</code></strong> (str) - filename of the public keys file</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_VerifySshClutter"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifySshClutter</span>(<span class="sig-arg">node_status_list</span>,
        <span class="sig-arg">my_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifySshClutter">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies that the 'authorized_keys' files are not cluttered up.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_status_list</code></strong> (list of tuples) - list of nodes of the cluster associated with a couple of flags: 
          (uuid, name, is_master_candidate, is_potential_master_candidate, 
          online)</li>
        <li><strong class="pname"><code>my_name</code></strong> (str) - name of this node</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="VerifyNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">VerifyNode</span>(<span class="sig-arg">what</span>,
        <span class="sig-arg">cluster_name</span>,
        <span class="sig-arg">all_hvparams</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#VerifyNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verify the status of the local node.</p>
  <p>Based on the input <code class="link">what</code> parameter, various 
  checks are done on the local node.</p>
  <p>If the <i>filelist</i> key is present, this list of files is 
  checksummed and the file/checksum pairs are returned.</p>
  <p>If the <i>nodelist</i> key is present, we check that we have 
  connectivity via ssh with the target nodes (and check the hostname 
  report).</p>
  <p>If the <i>node-net-test</i> key is present, we check that we have 
  connectivity to the given nodes via both primary IP and, if applicable, 
  secondary IPs.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>what</code></strong> (<code>dict</code>) - a dictionary of things to check:
          <ul>
            <li>
              filelist: list of files for which to compute checksums
            </li>
            <li>
              nodelist: list of nodes we should check ssh communication 
              with
            </li>
            <li>
              node-net-test: list of nodes we should check node daemon port
              connectivity with
            </li>
            <li>
              hypervisor: list with hypervisors to run the verify for
            </li>
          </ul></li>
        <li><strong class="pname"><code>cluster_name</code></strong> (string) - the cluster's name</li>
        <li><strong class="pname"><code>all_hvparams</code></strong> (dict of dict of strings) - a dictionary mapping hypervisor names to hvparams</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>a dictionary with the same keys as the input dict, and values 
          representing the result of the checks</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetCryptoTokens"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetCryptoTokens</span>(<span class="sig-arg">token_requests</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetCryptoTokens">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Perform actions on the node's cryptographic tokens.</p>
  <p>Token types can be 'ssl' or 'ssh'. So far only some actions are 
  implemented for 'ssl'. Action 'get' returns the digest of the public 
  client ssl certificate. Action 'create' creates a new client certificate 
  and private key and also returns the digest of the certificate. The third
  parameter of a token request are optional parameters for the actions, so 
  far only the filename is supported.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>token_requests</code></strong> (list of tuples of (string, string, dict), where the first string 
          is in constants.CRYPTO_TYPES, the second in 
          constants.CRYPTO_ACTIONS. The third parameter is a dictionary of 
          string to string.) - list of requests of cryptographic tokens and actions to perform 
          on them. The actions come with a dictionary of options.</li>
    </ul></dd>
    <dt>Returns: list of tuples (string, string)</dt>
        <dd>list of tuples of the token type and the public crypto token</dd>
  </dl>
</td></tr></table>
</div>
<a name="EnsureDaemon"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">EnsureDaemon</span>(<span class="sig-arg">daemon_name</span>,
        <span class="sig-arg">run</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#EnsureDaemon">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Ensures the given daemon is running or stopped.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>daemon_name</code></strong> (string) - name of the daemon (e.g., constants.KVMD)</li>
        <li><strong class="pname"><code>run</code></strong> (bool) - whether to start or stop the daemon</li>
    </ul></dd>
    <dt>Returns: bool</dt>
        <dd>'True' if daemon successfully started/stopped, 'False' otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="AddNodeSshKey"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddNodeSshKey</span>(<span class="sig-arg">node_uuid</span>,
        <span class="sig-arg">node_name</span>,
        <span class="sig-arg">potential_master_candidates</span>,
        <span class="sig-arg">to_authorized_keys</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">to_public_keys</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">get_public_keys</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">pub_key_file</span>=<span class="sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="sig-arg">ssconf_store</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">noded_cert_file</span>=<span class="sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="sig-arg">run_cmd_fn</span>=<span class="sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="sig-arg">ssh_update_debug</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">ssh_update_verbose</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#AddNodeSshKey">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Distributes a node's public SSH key across the cluster.</p>
  <p>Note that this function should only be executed on the master node, 
  which then will copy the new node's key to all nodes in the cluster via 
  SSH.</p>
  <p>Also note: at least one of the flags <code>to_authorized_keys</code>, 
  <code>to_public_keys</code>, and <code>get_public_keys</code> has to be 
  set to <code>True</code> for the function to actually perform any 
  actions.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_uuid</code></strong> (str) - the UUID of the node whose key is added</li>
        <li><strong class="pname"><code>node_name</code></strong> (str) - the name of the node whose key is added</li>
        <li><strong class="pname"><code>potential_master_candidates</code></strong> (list of str) - list of node names of potential master candidates; this should 
          match the list of uuids in the public key file</li>
        <li><strong class="pname"><code>to_authorized_keys</code></strong> (boolean) - whether the key should be added to the 
          <code>authorized_keys</code> file of all nodes</li>
        <li><strong class="pname"><code>to_public_keys</code></strong> (boolean) - whether the keys should be added to the public key file</li>
        <li><strong class="pname"><code>get_public_keys</code></strong> (boolean) - whether the node should add the clusters' public keys to its 
          {ganeti_pub_keys} file</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AddNodeSshKeyBulk"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddNodeSshKeyBulk</span>(<span class="sig-arg">node_list</span>,
        <span class="sig-arg">potential_master_candidates</span>,
        <span class="sig-arg">pub_key_file</span>=<span class="sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="sig-arg">ssconf_store</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">noded_cert_file</span>=<span class="sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="sig-arg">run_cmd_fn</span>=<span class="sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="sig-arg">ssh_update_debug</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">ssh_update_verbose</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#AddNodeSshKeyBulk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Distributes a node's public SSH key across the cluster.</p>
  <p>Note that this function should only be executed on the master node, 
  which then will copy the new node's key to all nodes in the cluster via 
  SSH.</p>
  <p>Also note: at least one of the flags <code>to_authorized_keys</code>, 
  <code>to_public_keys</code>, and <code>get_public_keys</code> has to be 
  set to <code>True</code> for the function to actually perform any 
  actions.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_list</code></strong> (list of SshAddNodeInfo tuples) - list of tuples containing the necessary node information for 
          adding their keys</li>
        <li><strong class="pname"><code>potential_master_candidates</code></strong> (list of str) - list of node names of potential master candidates; this should 
          match the list of uuids in the public key file</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveNodeSshKey"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveNodeSshKey</span>(<span class="sig-arg">node_uuid</span>,
        <span class="sig-arg">node_name</span>,
        <span class="sig-arg">master_candidate_uuids</span>,
        <span class="sig-arg">potential_master_candidates</span>,
        <span class="sig-arg">master_uuid</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">keys_to_remove</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">from_authorized_keys</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">from_public_keys</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">clear_authorized_keys</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">clear_public_keys</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">pub_key_file</span>=<span class="sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="sig-arg">ssconf_store</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">noded_cert_file</span>=<span class="sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="sig-arg">readd</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">run_cmd_fn</span>=<span class="sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="sig-arg">ssh_update_debug</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">ssh_update_verbose</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveNodeSshKey">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes the node's SSH keys from the key files and distributes 
  those.</p>
  <p>Note that at least one of the flags <code>from_authorized_keys</code>,
  <code>from_public_keys</code>, <code>clear_authorized_keys</code>, and 
  <code>clear_public_keys</code> has to be set to <code>True</code> for the
  function to perform any action at all. Not doing so will trigger an 
  assertion in the function.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_uuid</code></strong> (str) - UUID of the node whose key is removed</li>
        <li><strong class="pname"><code>node_name</code></strong> (str) - name of the node whose key is remove</li>
        <li><strong class="pname"><code>master_candidate_uuids</code></strong> (list of str) - list of UUIDs of the current master candidates</li>
        <li><strong class="pname"><code>potential_master_candidates</code></strong> (list of str) - list of names of potential master candidates</li>
        <li><strong class="pname"><code>keys_to_remove</code></strong> (dict of str to list of str) - a dictionary mapping node UUIDS to lists of SSH keys to be 
          removed. This list is supposed to be used only if the keys are 
          not in the public keys file. This is for example the case when 
          removing a master node's key.</li>
        <li><strong class="pname"><code>from_authorized_keys</code></strong> (boolean) - whether or not the key should be removed from the 
          <code>authorized_keys</code> file</li>
        <li><strong class="pname"><code>from_public_keys</code></strong> (boolean) - whether or not the key should be remove from the 
          <code>ganeti_pub_keys</code> file</li>
        <li><strong class="pname"><code>clear_authorized_keys</code></strong> (boolean) - whether or not the <code>authorized_keys</code> file should be 
          cleared on the node whose keys are removed</li>
        <li><strong class="pname"><code>clear_public_keys</code></strong> (boolean) - whether to clear the node's <code>ganeti_pub_key</code> file</li>
        <li><strong class="pname"><code>readd</code></strong> (boolean) - whether this is called during a readd operation.</li>
    </ul></dd>
    <dt>Returns: list of string</dt>
        <dd>list of feedback messages</dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveNodeSshKeyBulk"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveNodeSshKeyBulk</span>(<span class="sig-arg">node_list</span>,
        <span class="sig-arg">master_candidate_uuids</span>,
        <span class="sig-arg">potential_master_candidates</span>,
        <span class="sig-arg">master_uuid</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">keys_to_remove</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">pub_key_file</span>=<span class="sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="sig-arg">ssconf_store</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">noded_cert_file</span>=<span class="sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="sig-arg">readd</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">run_cmd_fn</span>=<span class="sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="sig-arg">ssh_update_debug</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">ssh_update_verbose</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveNodeSshKeyBulk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes the node's SSH keys from the key files and distributes 
  those.</p>
  <p>Note that at least one of the flags <code>from_authorized_keys</code>,
  <code>from_public_keys</code>, <code>clear_authorized_keys</code>, and 
  <code>clear_public_keys</code> of at least one node has to be set to 
  <code>True</code> for the function to perform any action at all. Not 
  doing so will trigger an assertion in the function.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_list</code></strong> (list of <code>SshRemoveNodeInfo</code>.) - list of information about nodes whose keys are being removed</li>
        <li><strong class="pname"><code>master_candidate_uuids</code></strong> (list of str) - list of UUIDs of the current master candidates</li>
        <li><strong class="pname"><code>potential_master_candidates</code></strong> (list of str) - list of names of potential master candidates</li>
        <li><strong class="pname"><code>keys_to_remove</code></strong> (dict of str to list of str) - a dictionary mapping node UUIDS to lists of SSH keys to be 
          removed. This list is supposed to be used only if the keys are 
          not in the public keys file. This is for example the case when 
          removing a master node's key.</li>
        <li><strong class="pname"><code>readd</code></strong> (boolean) - whether this is called during a readd operation.</li>
    </ul></dd>
    <dt>Returns: list of string</dt>
        <dd>list of feedback messages</dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveSshKeyFromPublicKeyFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveSshKeyFromPublicKeyFile</span>(<span class="sig-arg">node_name</span>,
        <span class="sig-arg">pub_key_file</span>=<span class="sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="sig-arg">ssconf_store</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveSshKeyFromPublicKeyFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes a SSH key from the master's public key file.</p>
  <p>This is an operation that is only used to clean up after failed 
  operations (for example failed hooks before adding a node). To avoid 
  abuse of this function (and the matching RPC call), we add a safety check
  to make sure that only stray keys can be removed that belong to nodes 
  that are not in the cluster (anymore).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_name</code></strong> (string) - the name of the node whose key is removed</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GenerateNodeSshKey"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GenerateNodeSshKey</span>(<span class="sig-arg">node_name</span>,
        <span class="sig-arg">ssh_port_map</span>,
        <span class="sig-arg">ssh_key_type</span>,
        <span class="sig-arg">ssh_key_bits</span>,
        <span class="sig-arg">ssconf_store</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">noded_cert_file</span>=<span class="sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="sig-arg">run_cmd_fn</span>=<span class="sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="sig-arg">suffix</span>=<span class="sig-default">&quot;&quot;</span>,
        <span class="sig-arg">ssh_update_debug</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">ssh_update_verbose</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GenerateNodeSshKey">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generates the root SSH key pair on the node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_name</code></strong> (str) - name of the node whose key is remove</li>
        <li><strong class="pname"><code>ssh_port_map</code></strong> (dict of str to int) - mapping of node names to their SSH port</li>
        <li><strong class="pname"><code>ssh_key_type</code></strong> (One of constants.SSHK_ALL) - the type of SSH key to be generated</li>
        <li><strong class="pname"><code>ssh_key_bits</code></strong> (int) - the length of the key to be generated</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="RenewSshKeys"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RenewSshKeys</span>(<span class="sig-arg">node_uuids</span>,
        <span class="sig-arg">node_names</span>,
        <span class="sig-arg">master_candidate_uuids</span>,
        <span class="sig-arg">potential_master_candidates</span>,
        <span class="sig-arg">old_key_type</span>,
        <span class="sig-arg">new_key_type</span>,
        <span class="sig-arg">new_key_bits</span>,
        <span class="sig-arg">ganeti_pub_keys_file</span>=<span class="sig-default">pathutils.SSH_PUB_KEYS</span>,
        <span class="sig-arg">ssconf_store</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">noded_cert_file</span>=<span class="sig-default">pathutils.NODED_CERT_FILE</span>,
        <span class="sig-arg">run_cmd_fn</span>=<span class="sig-default">ssh.RunSshCmdWithStdin</span>,
        <span class="sig-arg">ssh_update_debug</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">ssh_update_verbose</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RenewSshKeys">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Renews all SSH keys and updates authorized_keys and 
  ganeti_pub_keys.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>node_uuids</code></strong> (list of str) - list of node UUIDs whose keys should be renewed</li>
        <li><strong class="pname"><code>node_names</code></strong> (list of str) - list of node names whose keys should be removed. This list should
          match the <code>node_uuids</code> parameter</li>
        <li><strong class="pname"><code>master_candidate_uuids</code></strong> (list of str) - list of UUIDs of master candidates or master node</li>
        <li><strong class="pname"><code>old_key_type</code></strong> (One of constants.SSHK_ALL) - the type of SSH key already present on nodes</li>
        <li><strong class="pname"><code>new_key_type</code></strong> (One of constants.SSHK_ALL) - the type of SSH key to be generated</li>
        <li><strong class="pname"><code>new_key_bits</code></strong> (int) - the length of the key to be generated</li>
        <li><strong class="pname"><code>ganeti_pub_keys_file</code></strong> (str) - file path of the the public key file</li>
        <li><strong class="pname"><code>noded_cert_file</code></strong> (str) - path of the noded SSL certificate file</li>
        <li><strong class="pname"><code>run_cmd_fn</code></strong> (function) - function to run commands on remote nodes via SSH</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.ProgrammerError-class.html">ProgrammerError</a></strong></code> - if node_uuids and node_names don't match; SshUpdateError if a 
        node's key is missing from the public key file, if a node's new SSH
        key could not be fetched from it, if there is none or more than one
        entry in the public key list for the master node.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetBlockDevSizes"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetBlockDevSizes</span>(<span class="sig-arg">devices</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetBlockDevSizes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the size of the given block devices</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>devices</code></strong> (list) - list of block device nodes to query</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary of all block devices under /dev (key). The value is 
          their size in MiB.
          <p>{'/dev/disk/by-uuid/123456-12321231-312312-312': 124}</p></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetVolumeList"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetVolumeList</span>(<span class="sig-arg">vg_names</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetVolumeList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute list of logical volumes and their size.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>vg_names</code></strong> (list) - the volume groups whose LVs we should list, or empty for all 
          volume groups</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary of all partions (key) with value being a tuple of 
          their size (in MiB), inactive and online status:
<pre class="literalblock">
 {'xenvg/test1': ('20.06', True, True)}
</pre>
          <p>in case of errors, a string is returned with the error 
          details.</p></dd>
  </dl>
</td></tr></table>
</div>
<a name="ListVolumeGroups"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ListVolumeGroups</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ListVolumeGroups">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>List the volume groups and their size.</p>
  <dl class="fields">
    <dt>Returns: dict</dt>
        <dd>dictionary with keys volume name and values the size of the 
          volume</dd>
  </dl>
</td></tr></table>
</div>
<a name="NodeVolumes"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">NodeVolumes</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#NodeVolumes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>List all volumes on this node.</p>
  <dl class="fields">
    <dt>Returns: list</dt>
        <dd>A list of dictionaries, each having four keys:
          <ul>
            <li>
              name: the logical volume name,
            </li>
            <li>
              size: the size of the logical volume
            </li>
            <li>
              dev: the physical device on which the LV lives
            </li>
            <li>
              vg: the volume group to which it belongs
            </li>
          </ul>
          <p>In case of errors, we return an empty list and log the 
          error.</p>
          <p>Note that since a logical volume can live on multiple physical
          volumes, the resulting list might include a logical volume 
          multiple times.</p></dd>
  </dl>
</td></tr></table>
</div>
<a name="BridgesExist"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BridgesExist</span>(<span class="sig-arg">bridges_list</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BridgesExist">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if a list of bridges exist on the current node.</p>
  <dl class="fields">
    <dt>Returns: boolean</dt>
        <dd><code>True</code> if all of them exist, <code>False</code> 
          otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceListForHypervisor"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceListForHypervisor</span>(<span class="sig-arg">hname</span>,
        <span class="sig-arg">hvparams</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">get_hv_fn</span>=<span class="sig-default">hypervisor.GetHypervisor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceListForHypervisor">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Provides a list of instances of the given hypervisor.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hname</code></strong> (string) - name of the hypervisor</li>
        <li><strong class="pname"><code>hvparams</code></strong> (dict of strings) - hypervisor parameters for the given hypervisor</li>
        <li><strong class="pname"><code>get_hv_fn</code></strong> (function) - function that returns a hypervisor for the given hypervisor name;
          optional parameter to increase testability</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>a list of all running instances on the current node
          <ul>
            <li>
              instance1.example.com
            </li>
            <li>
              instance2.example.com
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceList"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceList</span>(<span class="sig-arg">hypervisor_list</span>,
        <span class="sig-arg">all_hvparams</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">get_hv_fn</span>=<span class="sig-default">hypervisor.GetHypervisor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Provides a list of instances.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hypervisor_list</code></strong> (list) - the list of hypervisors to query information</li>
        <li><strong class="pname"><code>all_hvparams</code></strong> (dict of dict of strings) - a dictionary mapping hypervisor types to respective cluster-wide 
          hypervisor parameters</li>
        <li><strong class="pname"><code>get_hv_fn</code></strong> (function) - function that returns a hypervisor for the given hypervisor name;
          optional parameter to increase testability</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>a list of all running instances on the current node
          <ul>
            <li>
              instance1.example.com
            </li>
            <li>
              instance2.example.com
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceInfo</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">hname</span>,
        <span class="sig-arg">hvparams</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gives back the information about an instance as a dictionary.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (string) - the instance name</li>
        <li><strong class="pname"><code>hname</code></strong> (string) - the hypervisor type of the instance</li>
        <li><strong class="pname"><code>hvparams</code></strong> (dict of strings) - the instance's hvparams</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary with the following keys:
          <ul>
            <li>
              memory: memory size of instance (int)
            </li>
            <li>
              state: state of instance (HvInstanceState)
            </li>
            <li>
              time: cpu time of instance (float)
            </li>
            <li>
              vcpus: the number of vcpus (int)
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceMigratable"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceMigratable</span>(<span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceMigratable">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Computes whether an instance can be migrated.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - object representing the instance to be checked.</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>tuple of (result, description) where:
          <ul>
            <li>
              result: whether the instance can be migrated or not
            </li>
            <li>
              description: a description of the issue, if relevant
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetAllInstancesInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetAllInstancesInfo</span>(<span class="sig-arg">hypervisor_list</span>,
        <span class="sig-arg">all_hvparams</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetAllInstancesInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gather data about all instances.</p>
  <p>This is the equivalent of <a 
  href="ganeti.backend-module.html#GetInstanceInfo" 
  class="link">GetInstanceInfo</a>, except that it computes data for all 
  instances at once, thus being faster if one needs data about more than 
  one instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hypervisor_list</code></strong> (list) - list of hypervisors to query for instance data</li>
        <li><strong class="pname"><code>all_hvparams</code></strong> (dict of dict of strings) - mapping of hypervisor names to hvparams</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary of instance: data, with data having the following 
          keys:
          <ul>
            <li>
              memory: memory size of instance (int)
            </li>
            <li>
              state: xen state of instance (string)
            </li>
            <li>
              time: cpu time of instance (float)
            </li>
            <li>
              vcpus: the number of vcpus
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetInstanceConsoleInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetInstanceConsoleInfo</span>(<span class="sig-arg">instance_param_dict</span>,
        <span class="sig-arg">get_hv_fn</span>=<span class="sig-default">hypervisor.GetHypervisor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetInstanceConsoleInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gather data about the console access of a set of instances of this 
  node.</p>
  <p>This function assumes that the caller already knows which instances 
  are on this node, by calling a function such as <a 
  href="ganeti.backend-module.html#GetAllInstancesInfo" 
  class="link">GetAllInstancesInfo</a> or <a 
  href="ganeti.backend-module.html#GetInstanceList" 
  class="link">GetInstanceList</a>.</p>
  <p>For every instance, a large amount of configuration data needs to be 
  provided to the hypervisor interface in order to receive the console 
  information. Whether this could or should be cut down can be discussed. 
  The information is provided in a dictionary indexed by instance name, 
  allowing any number of instance queries to be done.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance_param_dict</code></strong> (dict of string to tuple of dictionaries, where the dictionaries 
          represent: <a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>, <a 
          href="ganeti.objects.Node-class.html" 
          class="link">objects.Node</a>, <a 
          href="ganeti.objects.NodeGroup-class.html" 
          class="link">objects.NodeGroup</a>, HvParams, BeParams) - mapping of instance name to parameters necessary for console 
          information retrieval</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dictionary of instance: data, with data having the following 
          keys:
          <ul>
            <li>
              instance: instance name
            </li>
            <li>
              kind: console kind
            </li>
            <li>
              message: used with kind == CONS_MESSAGE, indicates console to
              be unavailable, supplies error message
            </li>
            <li>
              host: host to connect to
            </li>
            <li>
              port: port to use
            </li>
            <li>
              user: user for login
            </li>
            <li>
              command: the command, broken into parts as an array
            </li>
            <li>
              display: unknown, potentially unused?
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_InstanceLogName"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_InstanceLogName</span>(<span class="sig-arg">kind</span>,
        <span class="sig-arg">os_name</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">component</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_InstanceLogName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute the OS log filename for a given instance and operation.</p>
  <p>The instance name and os name are passed in as strings since not all 
  operations have these as part of an instance object.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>kind</code></strong> (string) - the operation type (e.g. add, import, etc.)</li>
        <li><strong class="pname"><code>os_name</code></strong> (string) - the os name</li>
        <li><strong class="pname"><code>instance</code></strong> (string) - the name of the instance being imported/added/etc.</li>
        <li><strong class="pname"><code>component</code></strong> (string or None) - the name of the component of the instance being transferred</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="InstanceOsAdd"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstanceOsAdd</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">reinstall</span>,
        <span class="sig-arg">debug</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceOsAdd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Add an OS to an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - Instance whose OS is to be installed</li>
        <li><strong class="pname"><code>reinstall</code></strong> (boolean) - whether this is an instance reinstall</li>
        <li><strong class="pname"><code>debug</code></strong> (integer) - debug level, passed to the OS scripts</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="RunRenameInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RunRenameInstance</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">old_name</span>,
        <span class="sig-arg">debug</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RunRenameInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Run the OS rename script for an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - Instance whose OS is to be installed</li>
        <li><strong class="pname"><code>old_name</code></strong> (string) - previous instance name</li>
        <li><strong class="pname"><code>debug</code></strong> (integer) - debug level, passed to the OS scripts</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>the success of the operation</dd>
  </dl>
</td></tr></table>
</div>
<a name="_SymlinkBlockDev"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_SymlinkBlockDev</span>(<span class="sig-arg">instance_name</span>,
        <span class="sig-arg">device_path</span>,
        <span class="sig-arg">idx</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">uuid</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_SymlinkBlockDev">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set up symlinks to a instance's block device.</p>
  <p>This is an auxiliary function run when an instance is start (on the 
  primary node) or when an instance is migrated (on the target node).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance_name</code></strong> - the name of the target instance</li>
        <li><strong class="pname"><code>device_path</code></strong> - path of the physical block device, on the node</li>
        <li><strong class="pname"><code>idx</code></strong> - the disk index</li>
        <li><strong class="pname"><code>uuid</code></strong> - the disk uuid</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>absolute path to the disk's symlink</dd>
  </dl>
</td></tr></table>
</div>
<a name="_CalculateDeviceURI"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CalculateDeviceURI</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">disk</span>,
        <span class="sig-arg">device</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_CalculateDeviceURI">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the URI for the device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance which disk belongs to</li>
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the target disk object</li>
        <li><strong class="pname"><code>device</code></strong> (<a href="ganeti.storage.base.BlockDev-class.html" 
          class="link">bdev.BlockDev</a>) - the corresponding BlockDevice</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>the device uri if any else None</dd>
  </dl>
</td></tr></table>
</div>
<a name="_GatherAndLinkBlockDevs"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GatherAndLinkBlockDevs</span>(<span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GatherAndLinkBlockDevs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set up an instance's block device(s).</p>
  <p>This is run on the primary node at instance startup. The block devices
  must be already assembled.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance whose disks we should assemble</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>list of (disk_object, link_name, drive_uri)</dd>
  </dl>
</td></tr></table>
</div>
<a name="StartInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">StartInstance</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">startup_paused</span>,
        <span class="sig-arg">reason</span>,
        <span class="sig-arg">store_reason</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#StartInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Start an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance object</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - pause instance at startup?</li>
        <li><strong class="pname"><code>reason</code></strong> (list of reasons) - the reason trail for this startup</li>
        <li><strong class="pname"><code>store_reason</code></strong> (boolean) - whether to store the shutdown reason trail on file</li>
        <li><strong class="pname"><code>startup_paused</code></strong> (bool)</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="InstanceShutdown"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstanceShutdown</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">timeout</span>,
        <span class="sig-arg">reason</span>,
        <span class="sig-arg">store_reason</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceShutdown">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Shut an instance down.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance object</li>
        <li><strong class="pname"><code>timeout</code></strong> (integer) - maximum timeout for soft shutdown</li>
        <li><strong class="pname"><code>reason</code></strong> (list of reasons) - the reason trail for this shutdown</li>
        <li><strong class="pname"><code>store_reason</code></strong> (boolean) - whether to store the shutdown reason trail on file</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        this functions uses polling with a hardcoded timeout.
      </p>
</div></td></tr></table>
</div>
<a name="InstanceReboot"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstanceReboot</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">reboot_type</span>,
        <span class="sig-arg">shutdown_timeout</span>,
        <span class="sig-arg">reason</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceReboot">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Reboot an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance object to reboot</li>
        <li><strong class="pname"><code>reboot_type</code></strong> (str) - the type of reboot, one the following constants:
          <ul>
            <li>
              constants.INSTANCE_REBOOT_SOFT: only reboot the instance OS, 
              do not recreate the VM
            </li>
            <li>
              constants.INSTANCE_REBOOT_HARD: tear down and restart the VM 
              (at the hypervisor level)
            </li>
            <li>
              the other reboot type (constants.INSTANCE_REBOOT_FULL) is not
              accepted here, since that mode is handled differently, in 
              cmdlib, and translates into full stop and start of the 
              instance (instead of a call_instance_reboot RPC)
            </li>
          </ul></li>
        <li><strong class="pname"><code>shutdown_timeout</code></strong> (integer) - maximum timeout for soft shutdown</li>
        <li><strong class="pname"><code>reason</code></strong> (list of reasons) - the reason trail for this reboot</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="InstanceBalloonMemory"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstanceBalloonMemory</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">memory</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#InstanceBalloonMemory">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Resize an instance's memory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance object</li>
        <li><strong class="pname"><code>memory</code></strong> (int) - new memory amount in MB</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="MigrationInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MigrationInfo</span>(<span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#MigrationInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gather information about an instance to be migrated.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance definition</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="AcceptInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AcceptInstance</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">info</span>,
        <span class="sig-arg">target</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#AcceptInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Prepare the node to accept an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance definition</li>
        <li><strong class="pname"><code>info</code></strong> (string/data (opaque)) - migration information, from the source node</li>
        <li><strong class="pname"><code>target</code></strong> (string) - target host (usually ip), on this node</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="FinalizeMigrationDst"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FinalizeMigrationDst</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">info</span>,
        <span class="sig-arg">success</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeMigrationDst">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Finalize any preparation to accept an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance definition</li>
        <li><strong class="pname"><code>info</code></strong> (string/data (opaque)) - migration information, from the source node</li>
        <li><strong class="pname"><code>success</code></strong> (boolean) - whether the migration was a success or a failure</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="MigrateInstance"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">MigrateInstance</span>(<span class="sig-arg">cluster_name</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">target</span>,
        <span class="sig-arg">live</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#MigrateInstance">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Migrates an instance to another node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cluster_name</code></strong> (string) - name of the cluster</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance definition</li>
        <li><strong class="pname"><code>target</code></strong> (string) - the target node name</li>
        <li><strong class="pname"><code>live</code></strong> (boolean) - whether the migration should be done live or not (the 
          interpretation of this parameter is left to the hypervisor)</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - if migration fails for some reason</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="FinalizeMigrationSource"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FinalizeMigrationSource</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">success</span>,
        <span class="sig-arg">live</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeMigrationSource">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Finalize the instance migration on the source node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance definition of the migrated instance</li>
        <li><strong class="pname"><code>success</code></strong> (bool) - whether the migration succeeded or not</li>
        <li><strong class="pname"><code>live</code></strong> (bool) - whether the user requested a live migration or not</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - If the execution fails for some reason</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetMigrationStatus"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetMigrationStatus</span>(<span class="sig-arg">instance</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetMigrationStatus">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the migration status</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance that is being migrated</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.objects.MigrationStatus-class.html" class="link" 
      onclick="show_private();">objects.MigrationStatus</a></dt>
        <dd>the status of the current migration (one of 
          constants.HV_MIGRATION_VALID_STATUSES), plus any additional 
          progress info that can be retrieved from the hypervisor</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - If the migration status cannot be retrieved</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="HotplugDevice"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">HotplugDevice</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">action</span>,
        <span class="sig-arg">dev_type</span>,
        <span class="sig-arg">device</span>,
        <span class="sig-arg">extra</span>,
        <span class="sig-arg">seq</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#HotplugDevice">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Hotplug a device</p>
  <p>Hotplug is currently supported only for KVM Hypervisor.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance to which we hotplug a device</li>
        <li><strong class="pname"><code>action</code></strong> (string) - the hotplug action to perform</li>
        <li><strong class="pname"><code>dev_type</code></strong> (string) - the device type to hotplug</li>
        <li><strong class="pname"><code>device</code></strong> (either <a href="ganeti.objects.NIC-class.html" 
          class="link">objects.NIC</a> or <a 
          href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the device object to hotplug</li>
        <li><strong class="pname"><code>extra</code></strong> (tuple) - extra info used for disk hotplug (disk link, drive uri)</li>
        <li><strong class="pname"><code>seq</code></strong> (int) - the index of the device from master perspective</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case instance does not have KVM hypervisor</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ModifyInstanceMetadata"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ModifyInstanceMetadata</span>(<span class="sig-arg">metadata</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ModifyInstanceMetadata">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Sends instance data to the metadata daemon.</p>
  <p>Uses the Luxi transport layer to communicate with the metadata daemon 
  configuration server.  It starts the metadata daemon if it is not 
  running. The daemon must be enabled during at configuration time.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>metadata</code></strong> (dict) - instance metadata obtained by calling <a 
          href="ganeti.objects.Instance-class.html#ToDict" 
          class="link">objects.Instance.ToDict</a> on an instance object</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevCreate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevCreate</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">size</span>,
        <span class="sig-arg">owner</span>,
        <span class="sig-arg">on_primary</span>,
        <span class="sig-arg">info</span>,
        <span class="sig-arg">excl_stor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevCreate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates a block device for an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the object describing the disk we should create</li>
        <li><strong class="pname"><code>size</code></strong> (int) - the size of the physical underlying device, in MiB</li>
        <li><strong class="pname"><code>owner</code></strong> (str) - the name of the instance for which disk is created, used for 
          device cache data</li>
        <li><strong class="pname"><code>on_primary</code></strong> (boolean) - indicates if it is the primary node or not</li>
        <li><strong class="pname"><code>info</code></strong> (string) - string that will be sent to the physical device creation, used 
          for example to set (LVM) tags on LVs</li>
        <li><strong class="pname"><code>excl_stor</code></strong> (boolean) - Whether exclusive_storage is active</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>the new unique_id of the device (this can sometime be computed 
          only after creation), or None. On secondary nodes, it's not 
          required to return anything.</dd>
  </dl>
</td></tr></table>
</div>
<a name="_DumpDevice"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_DumpDevice</span>(<span class="sig-arg">source_path</span>,
        <span class="sig-arg">target_path</span>,
        <span class="sig-arg">offset</span>,
        <span class="sig-arg">size</span>,
        <span class="sig-arg">truncate</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_DumpDevice">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This function images/wipes the device using a local file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>source_path</code></strong> (string) - path of the image or data source (e.g., &quot;/dev/zero&quot;)</li>
        <li><strong class="pname"><code>target_path</code></strong> (string) - path of the device to image/wipe</li>
        <li><strong class="pname"><code>offset</code></strong> (int) - offset in MiB in the output file</li>
        <li><strong class="pname"><code>size</code></strong> (int) - maximum size in MiB to write (data source might be smaller)</li>
        <li><strong class="pname"><code>truncate</code></strong> (bool) - whether the file should be truncated</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>None</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case of failure</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_DownloadAndDumpDevice"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_DownloadAndDumpDevice</span>(<span class="sig-arg">source_url</span>,
        <span class="sig-arg">target_path</span>,
        <span class="sig-arg">size</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_DownloadAndDumpDevice">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This function images a device using a downloaded image file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>source_url</code></strong> (string) - URL of image to dump to disk</li>
        <li><strong class="pname"><code>target_path</code></strong> (string) - path of the device to image</li>
        <li><strong class="pname"><code>size</code></strong> (int) - maximum size in MiB to write (data source might be smaller)</li>
    </ul></dd>
    <dt>Returns: NoneType</dt>
        <dd>None</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case of download or write failures</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevConvert"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevConvert</span>(<span class="sig-arg">src_disk</span>,
        <span class="sig-arg">target_disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevConvert">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Copies data from source block device to target.</p>
  <p>This function gets the export and import commands from the source and 
  target devices respectively, and then concatenates them to a single 
  command using a pipe (&quot;|&quot;). Finally, executes the unified 
  command that will transfer the data between the devices during the disk 
  template conversion operation.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>src_disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we want to copy from</li>
        <li><strong class="pname"><code>target_disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we want to copy to</li>
    </ul></dd>
    <dt>Returns: NoneType</dt>
        <dd>None</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case of failure</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevWipe"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevWipe</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">offset</span>,
        <span class="sig-arg">size</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevWipe">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wipes a block device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we want to wipe</li>
        <li><strong class="pname"><code>offset</code></strong> (int) - The offset in MiB in the file</li>
        <li><strong class="pname"><code>size</code></strong> (int) - The size in MiB to write</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevImage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevImage</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">image</span>,
        <span class="sig-arg">size</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevImage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Images a block device either by dumping a local file or downloading a 
  URL.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we want to image</li>
        <li><strong class="pname"><code>image</code></strong> (string) - file path to the disk image be dumped</li>
        <li><strong class="pname"><code>size</code></strong> (int) - The size in MiB to write</li>
    </ul></dd>
    <dt>Returns: NoneType</dt>
        <dd>None</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - in case of failure</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevPauseResumeSync"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevPauseResumeSync</span>(<span class="sig-arg">disks</span>,
        <span class="sig-arg">pause</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevPauseResumeSync">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Pause or resume the sync of the block device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disks object we want to pause/resume</li>
        <li><strong class="pname"><code>pause</code></strong> (bool) - Wheater to pause or resume</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevRemove"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevRemove</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRemove">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove a block device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we should remove</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>the success of the operation</dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        This is intended to be called recursively.
      </p>
</div></td></tr></table>
</div>
<a name="_RecursiveAssembleBD"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RecursiveAssembleBD</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">owner</span>,
        <span class="sig-arg">as_primary</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_RecursiveAssembleBD">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Activate a block device for an instance.</p>
  <p>This is run on the primary and secondary nodes for an instance.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk we try to assemble</li>
        <li><strong class="pname"><code>owner</code></strong> (str) - the name of the instance which owns the disk</li>
        <li><strong class="pname"><code>as_primary</code></strong> (boolean) - if we should make the block device read/write</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>the assembled device or None (in case no device was assembled)</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.BlockDeviceError-class.html">errors.BlockDeviceError</a></strong></code> - in case there is an error during the activation of the children or 
        the device itself</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        this function is called recursively.
      </p>
</div></td></tr></table>
</div>
<a name="BlockdevAssemble"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevAssemble</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">as_primary</span>,
        <span class="sig-arg">idx</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevAssemble">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Activate a block device for an instance.</p>
  <p>This is a wrapper over _RecursiveAssembleBD.</p>
  <dl class="fields">
    <dt>Returns: str or boolean</dt>
        <dd>a tuple with the <code>/dev/...</code> path and the created 
          symlink for primary nodes, and (<code>True</code>, 
          <code>True</code>) for secondary nodes</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevShutdown"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevShutdown</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevShutdown">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Shut down a block device.</p>
  <p>First, if the device is assembled (Attach() is successful), then the 
  device is shutdown. Then the children of the device are shutdown.</p>
  <p>This function is called recursively. Note that we don't cache the 
  children or such, as oppossed to assemble, shutdown of different devices 
  doesn't require that the upper device was active.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the description of the disk we should shutdown</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevAddchildren"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevAddchildren</span>(<span class="sig-arg">parent_cdev</span>,
        <span class="sig-arg">new_cdevs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevAddchildren">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Extend a mirrored block device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>parent_cdev</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to which we should add children</li>
        <li><strong class="pname"><code>new_cdevs</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of children which we should add</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevRemovechildren"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevRemovechildren</span>(<span class="sig-arg">parent_cdev</span>,
        <span class="sig-arg">new_cdevs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRemovechildren">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Shrink a mirrored block device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>parent_cdev</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk from which we should remove children</li>
        <li><strong class="pname"><code>new_cdevs</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of children which we should remove</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevGetmirrorstatus"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevGetmirrorstatus</span>(<span class="sig-arg">disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetmirrorstatus">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the mirroring status of a list of devices.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of disks which we should query</li>
    </ul></dd>
    <dt>Returns: disk</dt>
        <dd>List of <a href="ganeti.objects.BlockDevStatus-class.html" 
          class="link" 
          onclick="show_private();">objects.BlockDevStatus</a>, one for 
          each disk</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.BlockDeviceError-class.html">errors.BlockDeviceError</a></strong></code> - if any of the disks cannot be found</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevGetmirrorstatusMulti"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevGetmirrorstatusMulti</span>(<span class="sig-arg">disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetmirrorstatusMulti">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get the mirroring status of a list of devices.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of disks which we should query</li>
    </ul></dd>
    <dt>Returns: disk</dt>
        <dd>List of tuples, (bool, status), one for each disk; bool denotes 
          success/failure, status is <a 
          href="ganeti.objects.BlockDevStatus-class.html" class="link" 
          onclick="show_private();">objects.BlockDevStatus</a> on success, 
          string otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="_RecursiveFindBD"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_RecursiveFindBD</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_RecursiveFindBD">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if a device is activated.</p>
  <p>If so, return information about the real device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we need to find</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>None if the device can't be found, otherwise the device instance</dd>
  </dl>
</td></tr></table>
</div>
<a name="_OpenRealBD"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_OpenRealBD</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_OpenRealBD">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Opens the underlying block device of a disk.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk object we want to open</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevFind"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevFind</span>(<span class="sig-arg">disk</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevFind">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check if a device is activated.</p>
  <p>If it is, return information about the real device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to find</li>
    </ul></dd>
    <dt>Returns: None or objects.BlockDevStatus</dt>
        <dd>None if the disk cannot be found, otherwise a the current 
          information</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevGetdimensions"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevGetdimensions</span>(<span class="sig-arg">disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGetdimensions">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Computes the size of the given disks.</p>
  <p>If a disk is not found, returns None instead.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of disk to compute the size for</li>
    </ul></dd>
    <dt>Returns: list</dt>
        <dd>list with elements None if the disk cannot be found, otherwise 
          the pair (size, spindles), where spindles is None if the device 
          doesn't support that</dd>
  </dl>
</td></tr></table>
</div>
<a name="UploadFile"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">UploadFile</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">data</span>,
        <span class="sig-arg">mode</span>,
        <span class="sig-arg">uid</span>,
        <span class="sig-arg">gid</span>,
        <span class="sig-arg">atime</span>,
        <span class="sig-arg">mtime</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#UploadFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Write a file to the filesystem.</p>
  <p>This allows the master to overwrite(!) a file. It will only perform 
  the operation if the file belongs to a list of configuration files.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - the target file name</li>
        <li><strong class="pname"><code>data</code></strong> (str) - the new contents of the file</li>
        <li><strong class="pname"><code>mode</code></strong> (int) - the mode to give the file (can be None)</li>
        <li><strong class="pname"><code>uid</code></strong> (string) - the owner of the file</li>
        <li><strong class="pname"><code>gid</code></strong> (string) - the group of the file</li>
        <li><strong class="pname"><code>atime</code></strong> (float) - the atime to set on the file (can be None)</li>
        <li><strong class="pname"><code>mtime</code></strong> (float) - the mtime to set on the file (can be None)</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="RunOob"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RunOob</span>(<span class="sig-arg">oob_program</span>,
        <span class="sig-arg">command</span>,
        <span class="sig-arg">node</span>,
        <span class="sig-arg">timeout</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RunOob">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Executes oob_program with given command on given node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>oob_program</code></strong> - The path to the executable oob_program</li>
        <li><strong class="pname"><code>command</code></strong> - The command to invoke on oob_program</li>
        <li><strong class="pname"><code>node</code></strong> - The node given as an argument to the program</li>
        <li><strong class="pname"><code>timeout</code></strong> - Timeout after which we kill the oob program</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>stdout</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - If execution fails for some reason</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_OSOndiskAPIVersion"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_OSOndiskAPIVersion</span>(<span class="sig-arg">os_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_OSOndiskAPIVersion">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute and return the API version of a given OS.</p>
  <p>This function will try to read the API version of the OS residing in 
  the 'os_dir' directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>os_dir</code></strong> (str) - the directory in which we should look for the OS</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>tuple (status, data) with status denoting the validity and data 
          holding either the valid versions or an error message</dd>
  </dl>
</td></tr></table>
</div>
<a name="DiagnoseOS"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DiagnoseOS</span>(<span class="sig-arg">top_dirs</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#DiagnoseOS">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute the validity for all OSes.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>top_dirs</code></strong> (list) - the list of directories in which to search (if not given defaults
          to <a href="ganeti.pathutils-module.html#OS_SEARCH_PATH" 
          class="link">pathutils.OS_SEARCH_PATH</a>)</li>
    </ul></dd>
    <dt>Returns: list of <a href="ganeti.objects.OS-class.html" 
      class="link">objects.OS</a></dt>
        <dd>a list of tuples (name, path, status, diagnose, variants, 
          parameters, api_version) for all (potential) OSes under all 
          search paths, where:
          <ul>
            <li>
              name is the (potential) OS name
            </li>
            <li>
              path is the full path to the OS
            </li>
            <li>
              status True/False is the validity of the OS
            </li>
            <li>
              diagnose is the error message for an invalid OS, otherwise 
              empty
            </li>
            <li>
              variants is a list of supported OS variants, if any
            </li>
            <li>
              parameters is a list of (name, help) parameters, if any
            </li>
            <li>
              api_version is a list of support OS API versions
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_TryOSFromDisk"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_TryOSFromDisk</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">base_dir</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_TryOSFromDisk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create an OS instance from disk.</p>
  <p>This function will return an OS instance if the given name is a valid 
  OS name.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>base_dir</code></strong> (string) - Base directory containing OS installations. Defaults to a search 
          in all the OS_SEARCH_PATH dirs.</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>success and either the OS instance if we find a valid one, or 
          error message</dd>
  </dl>
</td></tr></table>
</div>
<a name="OSFromDisk"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">OSFromDisk</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">base_dir</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#OSFromDisk">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create an OS instance from disk.</p>
  <p>This function will return an OS instance if the given name is a valid 
  OS name. Otherwise, it will raise an appropriate <a 
  href="ganeti.backend.RPCFail-class.html" class="link">RPCFail</a> 
  exception, detailing why this is not a valid OS.</p>
  <p>This is just a wrapper over <a 
  href="ganeti.backend-module.html#_TryOSFromDisk" class="link" 
  onclick="show_private();">_TryOSFromDisk</a>, which doesn't raise an 
  exception but returns true/false status data.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>base_dir</code></strong> (string) - Base directory containing OS installations. Defaults to a search 
          in all the OS_SEARCH_PATH dirs.</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.objects.OS-class.html" class="link">objects.OS</a></dt>
        <dd>the OS instance if we find a valid one</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - if we don't find a valid OS</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="OSCoreEnv"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">OSCoreEnv</span>(<span class="sig-arg">os_name</span>,
        <span class="sig-arg">inst_os</span>,
        <span class="sig-arg">os_params</span>,
        <span class="sig-arg">debug</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#OSCoreEnv">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Calculate the basic environment for an os script.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>os_name</code></strong> (str) - full operating system name (including variant)</li>
        <li><strong class="pname"><code>inst_os</code></strong> (<a href="ganeti.objects.OS-class.html" 
          class="link">objects.OS</a>) - operating system for which the environment is being built</li>
        <li><strong class="pname"><code>os_params</code></strong> (dict) - the OS parameters</li>
        <li><strong class="pname"><code>debug</code></strong> (integer) - debug level (0 or 1, for OS Api 10)</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dict of environment variables</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.BlockDeviceError-class.html">errors.BlockDeviceError</a></strong></code> - if the block device cannot be found</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="OSEnvironment"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">OSEnvironment</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">inst_os</span>,
        <span class="sig-arg">debug</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#OSEnvironment">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Calculate the environment for an os script.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - target instance for the os script run</li>
        <li><strong class="pname"><code>inst_os</code></strong> (<a href="ganeti.objects.OS-class.html" 
          class="link">objects.OS</a>) - operating system for which the environment is being built</li>
        <li><strong class="pname"><code>debug</code></strong> (integer) - debug level (0 or 1, for OS Api 10)</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>dict of environment variables</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.errors.BlockDeviceError-class.html">errors.BlockDeviceError</a></strong></code> - if the block device cannot be found</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="DiagnoseExtStorage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DiagnoseExtStorage</span>(<span class="sig-arg">top_dirs</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#DiagnoseExtStorage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compute the validity for all ExtStorage Providers.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>top_dirs</code></strong> (list) - the list of directories in which to search (if not given defaults
          to <a href="ganeti.pathutils-module.html#ES_SEARCH_PATH" 
          class="link">pathutils.ES_SEARCH_PATH</a>)</li>
    </ul></dd>
    <dt>Returns: list of <a href="ganeti.objects.ExtStorage-class.html" class="link" 
      onclick="show_private();">objects.ExtStorage</a></dt>
        <dd>a list of tuples (name, path, status, diagnose, parameters) for 
          all (potential) ExtStorage Providers under all search paths, 
          where:
          <ul>
            <li>
              name is the (potential) ExtStorage Provider
            </li>
            <li>
              path is the full path to the ExtStorage Provider
            </li>
            <li>
              status True/False is the validity of the ExtStorage Provider
            </li>
            <li>
              diagnose is the error message for an invalid ExtStorage 
              Provider, otherwise empty
            </li>
            <li>
              parameters is a list of (name, help) parameters, if any
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevGrow"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevGrow</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">amount</span>,
        <span class="sig-arg">dryrun</span>,
        <span class="sig-arg">backingstore</span>,
        <span class="sig-arg">excl_stor</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevGrow">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Grow a stack of block devices.</p>
  <p>This function is called recursively, with the childrens being the 
  first ones to resize.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to be grown</li>
        <li><strong class="pname"><code>amount</code></strong> (integer) - the amount (in mebibytes) to grow with</li>
        <li><strong class="pname"><code>dryrun</code></strong> (boolean) - whether to execute the operation in simulation mode only, without
          actually increasing the size</li>
        <li><strong class="pname"><code>backingstore</code></strong> - whether to execute the operation on backing storage only, or on 
          &quot;logical&quot; storage only; e.g. DRBD is logical storage, 
          whereas LVM, file, RBD are backing storage</li>
        <li><strong class="pname"><code>excl_stor</code></strong> (boolean) - Whether exclusive_storage is active</li>
    </ul></dd>
    <dt>Returns: (status, result)</dt>
        <dd>a tuple with the status of the operation (True/False), and the 
          errors message if status is False</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevSnapshot"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevSnapshot</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">snap_name</span>,
        <span class="sig-arg">snap_size</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevSnapshot">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create a snapshot copy of a block device.</p>
  <p>This function is called recursively, and the snapshot is actually 
  created just for the leaf lvm backend device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to be snapshotted</li>
        <li><strong class="pname"><code>snap_name</code></strong> (string) - the name of the snapshot</li>
        <li><strong class="pname"><code>snap_size</code></strong> (int) - the size of the snapshot</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>snapshot disk ID as (vg, lv)</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevSetInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevSetInfo</span>(<span class="sig-arg">disk</span>,
        <span class="sig-arg">info</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevSetInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Sets 'metadata' information on block devices.</p>
  <p>This function sets 'info' metadata on block devices. Initial 
  information is set at device creation; this function should be used for 
  example after renames.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disk</code></strong> (<a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk to be grown</li>
        <li><strong class="pname"><code>info</code></strong> (string) - new 'info' metadata</li>
    </ul></dd>
    <dt>Returns: (status, result)</dt>
        <dd>a tuple with the status of the operation (True/False), and the 
          errors message if status is False</dd>
  </dl>
</td></tr></table>
</div>
<a name="FinalizeExport"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FinalizeExport</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">snap_disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#FinalizeExport">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Write out the export configuration information.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - the instance which we export, used for saving configuration</li>
        <li><strong class="pname"><code>snap_disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - list of snapshot block devices, which will be used to get the 
          actual name of the dump file</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="ExportInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ExportInfo</span>(<span class="sig-arg">dest</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ExportInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get export configuration information.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dest</code></strong> (str) - directory containing the export</li>
    </ul></dd>
    <dt>Returns: <a href="ganeti.objects.SerializableConfigParser-class.html" 
      class="link" 
      onclick="show_private();">objects.SerializableConfigParser</a></dt>
        <dd>a serializable config file containing the export info</dd>
  </dl>
</td></tr></table>
</div>
<a name="ListExports"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ListExports</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ListExports">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return a list of exports currently available on this machine.</p>
  <dl class="fields">
    <dt>Returns: list</dt>
        <dd>list of the exports</dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveExport"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveExport</span>(<span class="sig-arg">export</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveExport">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove an existing export from the node.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>export</code></strong> (str) - the name of the export to remove</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevRename"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevRename</span>(<span class="sig-arg">devlist</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevRename">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Rename a list of block devices.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>devlist</code></strong> (list of tuples) - list of tuples of the form  (disk, new_unique_id); disk is an <a 
          href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a> object describing the current disk,
          and new unique_id is the name we rename it to</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>True if all renames succeeded, False otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="_TransformFileStorageDir"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_TransformFileStorageDir</span>(<span class="sig-arg">fs_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_TransformFileStorageDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks whether given file_storage_dir is valid.</p>
  <p>Checks wheter the given fs_dir is within the cluster-wide default 
  file_storage_dir or the shared_file_storage_dir, which are stored in 
  SimpleStore. Only paths under those directories are allowed.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>fs_dir</code></strong> (str) - the path to check</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>the normalized path if valid, None otherwise</dd>
  </dl>
</td></tr></table>
</div>
<a name="CreateFileStorageDir"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CreateFileStorageDir</span>(<span class="sig-arg">file_storage_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#CreateFileStorageDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create file storage directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_storage_dir</code></strong> (str) - directory to create</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>tuple with first element a boolean indicating wheter dir creation
          was successful or not</dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveFileStorageDir"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveFileStorageDir</span>(<span class="sig-arg">file_storage_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveFileStorageDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove file storage directory.</p>
  <p>Remove it only if it's empty. If not log an error and return.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_storage_dir</code></strong> (str) - the directory we should cleanup</li>
    </ul></dd>
    <dt>Returns: tuple (success,)</dt>
        <dd>tuple of one element, <code>success</code>, denoting whether the 
          operation was successful</dd>
  </dl>
</td></tr></table>
</div>
<a name="RenameFileStorageDir"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RenameFileStorageDir</span>(<span class="sig-arg">old_file_storage_dir</span>,
        <span class="sig-arg">new_file_storage_dir</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RenameFileStorageDir">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Rename the file storage directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>old_file_storage_dir</code></strong> (str) - the current path</li>
        <li><strong class="pname"><code>new_file_storage_dir</code></strong> (str) - the name we should rename to</li>
    </ul></dd>
    <dt>Returns: tuple (success,)</dt>
        <dd>tuple of one element, <code>success</code>, denoting whether the 
          operation was successful</dd>
  </dl>
</td></tr></table>
</div>
<a name="_EnsureJobQueueFile"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_EnsureJobQueueFile</span>(<span class="sig-arg">file_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_EnsureJobQueueFile">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks whether the given filename is in the queue directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - the file name we should check</li>
    </ul></dd>
    <dt>Returns: None</dt>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - if the file is not valid</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="JobQueueUpdate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">JobQueueUpdate</span>(<span class="sig-arg">file_name</span>,
        <span class="sig-arg">content</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueUpdate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Updates a file in the queue directory.</p>
  <p>This is just a wrapper over utils.io.WriteFile, with proper 
  checking.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_name</code></strong> (str) - the job file name</li>
        <li><strong class="pname"><code>content</code></strong> (str) - the new job contents</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>the success of the operation</dd>
  </dl>
</td></tr></table>
</div>
<a name="JobQueueRename"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">JobQueueRename</span>(<span class="sig-arg">old</span>,
        <span class="sig-arg">new</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#JobQueueRename">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Renames a job queue file.</p>
  <p>This is just a wrapper over os.rename with proper checking.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>old</code></strong> (str) - the old (actual) file name</li>
        <li><strong class="pname"><code>new</code></strong> (str) - the desired file name</li>
    </ul></dd>
    <dt>Returns: tuple</dt>
        <dd>the success of the operation and payload</dd>
  </dl>
</td></tr></table>
</div>
<a name="BlockdevClose"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">BlockdevClose</span>(<span class="sig-arg">instance_name</span>,
        <span class="sig-arg">disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#BlockdevClose">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Closes the given block devices.</p>
  <p>This means they will be switched to secondary mode (in case of 
  DRBD).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance_name</code></strong> - if the argument is not empty, the symlinks of this instance will 
          be removed</li>
        <li><strong class="pname"><code>disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the list of disks to be closed</li>
    </ul></dd>
    <dt>Returns: tuple (success, message)</dt>
        <dd>a tuple of success and message, where success indicates the 
          succes of the operation, and message which will contain the error
          details in case we failed</dd>
  </dl>
</td></tr></table>
</div>
<a name="ValidateHVParams"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ValidateHVParams</span>(<span class="sig-arg">hvname</span>,
        <span class="sig-arg">hvparams</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ValidateHVParams">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Validates the given hypervisor parameters.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>hvname</code></strong> (string) - the hypervisor name</li>
        <li><strong class="pname"><code>hvparams</code></strong> (dict) - the hypervisor parameters to be validated</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="_CheckOSPList"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckOSPList</span>(<span class="sig-arg">os_obj</span>,
        <span class="sig-arg">parameters</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckOSPList">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check whether a list of parameters is supported by the OS.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>os_obj</code></strong> (<a href="ganeti.objects.OS-class.html" 
          class="link">objects.OS</a>) - OS object to check</li>
        <li><strong class="pname"><code>parameters</code></strong> (list) - the list of parameters to check</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CheckOSVariant"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CheckOSVariant</span>(<span class="sig-arg">os_obj</span>,
        <span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_CheckOSVariant">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check whether an OS name conforms to the os variants 
  specification.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>os_obj</code></strong> (<a href="ganeti.objects.OS-class.html" 
          class="link">objects.OS</a>) - OS object to check</li>
        <li><strong class="pname"><code>name</code></strong> (string) - OS name passed by the user, to check for validity</li>
    </ul></dd>
    <dt>Returns: NoneType</dt>
        <dd>None</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - if OS variant is not valid</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ValidateOS"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ValidateOS</span>(<span class="sig-arg">required</span>,
        <span class="sig-arg">osname</span>,
        <span class="sig-arg">checks</span>,
        <span class="sig-arg">osparams</span>,
        <span class="sig-arg">force_variant</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ValidateOS">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Validate the given OS parameters.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>required</code></strong> (boolean) - whether absence of the OS should translate into failure or not</li>
        <li><strong class="pname"><code>osname</code></strong> (string) - the OS to be validated</li>
        <li><strong class="pname"><code>checks</code></strong> (list) - list of the checks to run (currently only 'parameters')</li>
        <li><strong class="pname"><code>osparams</code></strong> (dict) - dictionary with OS parameters, some of which may be private.</li>
    </ul></dd>
    <dt>Returns: boolean</dt>
        <dd>True if the validation passed, or False if the OS was not found 
          and <code class="link">required</code> was false</dd>
  </dl>
</td></tr></table>
</div>
<a name="ExportOS"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ExportOS</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">override_env</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ExportOS">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates a GZIPed tarball with an OS definition and environment.</p>
  <p>The archive contains a file with the environment variables needed by 
  the OS scripts.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - instance for which the OS definition is exported</li>
        <li><strong class="pname"><code>override_env</code></strong> (dict of string to string) - if supplied, it overrides the environment on a key-by-key basis 
          that is part of the archive</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>filepath of the archive</dd>
  </dl>
</td></tr></table>
</div>
<a name="CreateX509Certificate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CreateX509Certificate</span>(<span class="sig-arg">validity</span>,
        <span class="sig-arg">cryptodir</span>=<span class="sig-default">pathutils.CRYPTO_KEYS_DIR</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#CreateX509Certificate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates a new X509 certificate for SSL/TLS.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>validity</code></strong> (int) - Validity in seconds</li>
    </ul></dd>
    <dt>Returns: tuple; (string, string)</dt>
        <dd>Certificate name and public part</dd>
  </dl>
</td></tr></table>
</div>
<a name="RemoveX509Certificate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveX509Certificate</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">cryptodir</span>=<span class="sig-default">pathutils.CRYPTO_KEYS_DIR</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RemoveX509Certificate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Removes a X509 certificate.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>name</code></strong> (string) - Certificate name</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_GetImportExportIoCommand"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_GetImportExportIoCommand</span>(<span class="sig-arg">instance</span>,
        <span class="sig-arg">mode</span>,
        <span class="sig-arg">ieio</span>,
        <span class="sig-arg">ieargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_GetImportExportIoCommand">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns the command for the requested input/output.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - The instance object</li>
        <li><strong class="pname"><code>mode</code></strong> - Import/export mode</li>
        <li><strong class="pname"><code>ieio</code></strong> - Input/output type</li>
        <li><strong class="pname"><code>ieargs</code></strong> - Input/output arguments</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="StartImportExportDaemon"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">StartImportExportDaemon</span>(<span class="sig-arg">mode</span>,
        <span class="sig-arg">opts</span>,
        <span class="sig-arg">host</span>,
        <span class="sig-arg">port</span>,
        <span class="sig-arg">instance</span>,
        <span class="sig-arg">component</span>,
        <span class="sig-arg">ieio</span>,
        <span class="sig-arg">ieioargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#StartImportExportDaemon">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Starts an import or export daemon.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>mode</code></strong> - Import/output mode</li>
        <li><strong class="pname"><code>opts</code></strong> (<a href="ganeti.objects.ImportExportOptions-class.html" 
          class="link" 
          onclick="show_private();">objects.ImportExportOptions</a>) - Daemon options</li>
        <li><strong class="pname"><code>host</code></strong> (string) - Remote host for export (None for import)</li>
        <li><strong class="pname"><code>port</code></strong> (int) - Remote port for export (None for import)</li>
        <li><strong class="pname"><code>instance</code></strong> (<a href="ganeti.objects.Instance-class.html" 
          class="link">objects.Instance</a>) - Instance object</li>
        <li><strong class="pname"><code>component</code></strong> (string) - which part of the instance is transferred now, e.g. 'disk/0'</li>
        <li><strong class="pname"><code>ieio</code></strong> - Input/output type</li>
        <li><strong class="pname"><code>ieioargs</code></strong> - Input/output arguments</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetImportExportStatus"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetImportExportStatus</span>(<span class="sig-arg">names</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetImportExportStatus">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns import/export daemon status.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>names</code></strong> (sequence) - List of names</li>
    </ul></dd>
    <dt>Returns: List of dicts</dt>
        <dd>Returns a list of the state of each named import/export or None 
          if a status couldn't be read</dd>
  </dl>
</td></tr></table>
</div>
<a name="CleanupImportExport"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CleanupImportExport</span>(<span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#CleanupImportExport">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Cleanup after an import or export.</p>
  <p>If the import/export daemon is still running it's killed. Afterwards 
  the whole status directory is removed.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_FindDisks"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_FindDisks</span>(<span class="sig-arg">disks</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_FindDisks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Finds attached <a href="ganeti.storage.base.BlockDev-class.html" 
  class="link">BlockDev</a>s for the given disks.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>disks</code></strong> (list of <a href="ganeti.objects.Disk-class.html" 
          class="link">objects.Disk</a>) - the disk objects we need to find</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>list of <a href="ganeti.storage.base.BlockDev-class.html" 
          class="link">BlockDev</a> objects or <code>None</code> if a given
          disk was not found or was no attached.</dd>
  </dl>
</td></tr></table>
</div>
<a name="PowercycleNode"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">PowercycleNode</span>(<span class="sig-arg">hypervisor_type</span>,
        <span class="sig-arg">hvparams</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#PowercycleNode">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Hard-powercycle the node.</p>
  <p>Because we need to return first, and schedule the powercycle in the 
  background, we won't be able to report failures nicely.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_VerifyRestrictedCmdName"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifyRestrictedCmdName</span>(<span class="sig-arg">cmd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyRestrictedCmdName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies a restricted command name.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cmd</code></strong> (string) - Command name</li>
    </ul></dd>
    <dt>Returns: tuple; (boolean, string or None)</dt>
        <dd>The tuple's first element is the status; if <code>False</code>, 
          the second element is an error message string, otherwise it's 
          <code>None</code></dd>
  </dl>
</td></tr></table>
</div>
<a name="_CommonRestrictedCmdCheck"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_CommonRestrictedCmdCheck</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">owner</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_CommonRestrictedCmdCheck">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Common checks for restricted command file system directories and 
  files.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (string) - Path to check</li>
        <li><strong class="pname"><code>owner</code></strong> - <code>None</code> or tuple containing UID and GID</li>
    </ul></dd>
    <dt>Returns: tuple; (boolean, string or <code>os.stat</code> result)</dt>
        <dd>The tuple's first element is the status; if <code>False</code>, 
          the second element is an error message string, otherwise it's the
          result of <code>os.stat</code></dd>
  </dl>
</td></tr></table>
</div>
<a name="_VerifyRestrictedCmdDirectory"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifyRestrictedCmdDirectory</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">_owner</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyRestrictedCmdDirectory">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies restricted command directory.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (string) - Path to check</li>
    </ul></dd>
    <dt>Returns: tuple; (boolean, string or None)</dt>
        <dd>The tuple's first element is the status; if <code>False</code>, 
          the second element is an error message string, otherwise it's 
          <code>None</code></dd>
  </dl>
</td></tr></table>
</div>
<a name="_VerifyRestrictedCmd"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_VerifyRestrictedCmd</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">cmd</span>,
        <span class="sig-arg">_owner</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_VerifyRestrictedCmd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Verifies a whole restricted command and returns its executable 
  filename.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (string) - Directory containing restricted commands</li>
        <li><strong class="pname"><code>cmd</code></strong> (string) - Command name</li>
    </ul></dd>
    <dt>Returns: tuple; (boolean, string)</dt>
        <dd>The tuple's first element is the status; if <code>False</code>, 
          the second element is an error message string, otherwise the 
          second element is the absolute path to the executable</dd>
  </dl>
</td></tr></table>
</div>
<a name="_PrepareRestrictedCmd"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_PrepareRestrictedCmd</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">cmd</span>,
        <span class="sig-arg">_verify_dir</span>=<span class="sig-default">_VerifyRestrictedCmdDirectory</span>,
        <span class="sig-arg">_verify_name</span>=<span class="sig-default">_VerifyRestrictedCmdName</span>,
        <span class="sig-arg">_verify_cmd</span>=<span class="sig-default">_VerifyRestrictedCmd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#_PrepareRestrictedCmd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Performs a number of tests on a restricted command.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (string) - Directory containing restricted commands</li>
        <li><strong class="pname"><code>cmd</code></strong> (string) - Command name</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Same as <a href="ganeti.backend-module.html#_VerifyRestrictedCmd"
          class="link" onclick="show_private();">_VerifyRestrictedCmd</a></dd>
  </dl>
</td></tr></table>
</div>
<a name="RunConstrainedCmd"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RunConstrainedCmd</span>(<span class="sig-arg">cmd</span>,
        <span class="sig-arg">lock_file</span>,
        <span class="sig-arg">path</span>,
        <span class="sig-arg">inp</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">_lock_timeout</span>=<span class="sig-default">_RCMD_LOCK_TIMEOUT</span>,
        <span class="sig-arg">_sleep_fn</span>=<span class="sig-default">time.sleep</span>,
        <span class="sig-arg">_prepare_fn</span>=<span class="sig-default">_PrepareRestrictedCmd</span>,
        <span class="sig-arg">_runcmd_fn</span>=<span class="sig-default">utils.RunCmd</span>,
        <span class="sig-arg">_enabled</span>=<span class="sig-default">constants.ENABLE_RESTRICTED_COMMANDS</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#RunConstrainedCmd">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Executes a command after performing strict tests.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>cmd</code></strong> (string) - Command name</li>
        <li><strong class="pname"><code>lock_file</code></strong> (string) - path to the lock file</li>
        <li><strong class="pname"><code>path</code></strong> (string) - path to the directory in which the command is present</li>
        <li><strong class="pname"><code>inp</code></strong> (string) - Input to be passed to the command</li>
    </ul></dd>
    <dt>Returns: string</dt>
        <dd>Command output</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="ganeti.backend.RPCFail-class.html">RPCFail</a></strong></code> - In case of an error</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="SetWatcherPause"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">SetWatcherPause</span>(<span class="sig-arg">until</span>,
        <span class="sig-arg">_filename</span>=<span class="sig-default">pathutils.WATCHER_PAUSEFILE</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#SetWatcherPause">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates or removes the watcher pause file.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>until</code></strong> (None or number) - Unix timestamp saying until when the watcher shouldn't run</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="ConfigureOVS"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ConfigureOVS</span>(<span class="sig-arg">ovs_name</span>,
        <span class="sig-arg">ovs_link</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#ConfigureOVS">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates a OpenvSwitch on the node.</p>
  <p>This function sets up a OpenvSwitch on the node with given name nad 
  connects it via a given eth device.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>ovs_name</code></strong> (string) - Name of the OpenvSwitch to create.</li>
        <li><strong class="pname"><code>ovs_link</code></strong> (None or string) - Ethernet device for outside connection (can be missing)</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="GetFileInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GetFileInfo</span>(<span class="sig-arg">file_path</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.backend-pysrc.html#GetFileInfo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Checks if a file exists and returns information related to it.</p>
  <p>Currently returned information:</p>
  <ul>
    <li>
      file size: int, size in bytes
    </li>
  </ul>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_path</code></strong> (string) - Name of file to examine.</li>
    </ul></dd>
    <dt>Returns: tuple of bool, dict</dt>
        <dd>Whether the file exists, and a dictionary of information about 
          the file gathered by os.stat.</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-VariablesDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_ALLOWED_CLEAN_DIRS"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">_ALLOWED_CLEAN_DIRS</h3>
  denotes which directories are accepted in the <a 
  href="ganeti.backend-module.html#_CleanDirectory" class="link" 
  onclick="show_private();">_CleanDirectory</a> function
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
compat.UniqueFrozenset([pathutils.DATA_DIR, pathutils.JOB_QUEUE_ARCHIV<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
E_DIR, pathutils.QUEUE_DIR, pathutils.CRYPTO_KEYS_DIR,])
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="_LVSLINE_REGEX"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">_LVSLINE_REGEX</h3>
  <p>Valid LVS output line regex</p>
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
re.compile(r&quot;^ *([^|]+)\|([^|]+)\|([0-9.]+)\|([^|]{6,})\|?$&quot;)
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="_RCMD_MAX_MODE"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">_RCMD_MAX_MODE</h3>
  <p>Maximum file permissions for restricted command directory and 
  executables</p>
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
stat.S_IRWXU | stat.S_IRGRP | stat.S_IXGRP | stat.S_IROTH | stat.S_IXO<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
TH
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="_STORAGE_TYPE_INFO_FN"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">_STORAGE_TYPE_INFO_FN</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
{constants.ST_BLOCK: None, constants.ST_DISKLESS: None, constants.ST_E<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
XT: None, constants.ST_FILE: _GetFileStorageSpaceInfo, constants.ST_LV<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
M_PV: _GetLvmPvSpaceInfo, constants.ST_LVM_VG: _GetLvmVgSpaceInfo, con<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
stants.ST_SHARED_FILE: None, constants.ST_GLUSTER: None, constants.ST_<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
RADOS: None,}
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="SshAddNodeInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">SshAddNodeInfo</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
collections.namedtuple(&quot;SshAddNodeInfo&quot;, [&quot;uuid&quot;, &quot;name&quot;, &quot;to_authoriz<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
ed_keys&quot;, &quot;to_public_keys&quot;, &quot;get_public_keys&quot;])
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="SshRemoveNodeInfo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">SshRemoveNodeInfo</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
collections.namedtuple(&quot;SshRemoveNodeInfo&quot;, [&quot;uuid&quot;, &quot;name&quot;, &quot;from_aut<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
horized_keys&quot;, &quot;from_public_keys&quot;, &quot;clear_authorized_keys&quot;, &quot;clear_pub<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
lic_keys&quot;])
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Mar 11 11:23:28 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
