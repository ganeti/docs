<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ganeti.Objects.Maintenance</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ganeti-Objects-Maintenance.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="Ganeti/Objects/Maintenance.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ganeti</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Ganeti.Objects.Maintenance</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Implementation of the Ganeti configuration for the maintenance daemon.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:RepairAction">RepairAction</a> <ul class="subs"><li>= <a href="#v:RANoop">RANoop</a>  </li><li>| <a href="#v:RALiveRepair">RALiveRepair</a>  </li><li>| <a href="#v:RAEvacuate">RAEvacuate</a>  </li><li>| <a href="#v:RAEvacuateFailover">RAEvacuateFailover</a>  </li></ul></li><li class="src short"><a href="#v:repairActionFromRaw">repairActionFromRaw</a> :: <span class="keyword">forall</span> m. Monad m =&gt; String -&gt; m <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></li><li class="src short"><a href="#v:repairActionToRaw">repairActionToRaw</a> :: <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a> -&gt; String</li><li class="src short"><span class="keyword">data</span>  <a href="#t:RepairStatus">RepairStatus</a> <ul class="subs"><li>= <a href="#v:RSNoted">RSNoted</a>  </li><li>| <a href="#v:RSPending">RSPending</a>  </li><li>| <a href="#v:RSCanceled">RSCanceled</a>  </li><li>| <a href="#v:RSFailed">RSFailed</a>  </li><li>| <a href="#v:RSCompleted">RSCompleted</a>  </li></ul></li><li class="src short"><a href="#v:repairStatusFromRaw">repairStatusFromRaw</a> :: <span class="keyword">forall</span> m. Monad m =&gt; String -&gt; m <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></li><li class="src short"><a href="#v:repairStatusToRaw">repairStatusToRaw</a> :: <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a> -&gt; String</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Incident">Incident</a>  = <a href="#v:Incident">Incident</a> {<ul class="subs"><li><a href="#v:incidentOriginal">incidentOriginal</a> :: JSValue</li><li><a href="#v:incidentAction">incidentAction</a> :: <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></li><li><a href="#v:incidentJobs">incidentJobs</a> :: [<a href="Ganeti-Types.html#t:JobId">JobId</a>]</li><li><a href="#v:incidentNode">incidentNode</a> :: String</li><li><a href="#v:incidentRepairStatus">incidentRepairStatus</a> :: <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></li><li><a href="#v:incidentTag">incidentTag</a> :: String</li><li><a href="#v:incidentUuid">incidentUuid</a> :: ByteString</li><li><a href="#v:incidentCtime">incidentCtime</a> :: ClockTime</li><li><a href="#v:incidentMtime">incidentMtime</a> :: ClockTime</li><li><a href="#v:incidentSerial">incidentSerial</a> :: Int</li></ul>}</li><li class="src short"><a href="#v:loadIncident">loadIncident</a> :: JSValue -&gt; Result <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></li><li class="src short"><a href="#v:saveIncident">saveIncident</a> :: <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a> -&gt; JSValue</li><li class="src short"><span class="keyword">data</span>  <a href="#t:MaintenanceData">MaintenanceData</a>  = <a href="#v:MaintenanceData">MaintenanceData</a> {<ul class="subs"><li><a href="#v:maintRoundDelay">maintRoundDelay</a> :: Int</li><li><a href="#v:maintJobs">maintJobs</a> :: [<a href="Ganeti-Types.html#t:JobId">JobId</a>]</li><li><a href="#v:maintBalance">maintBalance</a> :: Bool</li><li><a href="#v:maintBalanceThreshold">maintBalanceThreshold</a> :: Double</li><li><a href="#v:maintEvacuated">maintEvacuated</a> :: [String]</li><li><a href="#v:maintIncidents">maintIncidents</a> :: [<a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a>]</li><li><a href="#v:maintCtime">maintCtime</a> :: ClockTime</li><li><a href="#v:maintMtime">maintMtime</a> :: ClockTime</li><li><a href="#v:maintSerial">maintSerial</a> :: Int</li></ul>}</li><li class="src short"><a href="#v:loadMaintenanceData">loadMaintenanceData</a> :: JSValue -&gt; Result <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></li><li class="src short"><a href="#v:saveMaintenanceData">saveMaintenanceData</a> :: <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a> -&gt; JSValue</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:RepairAction" class="def">RepairAction</a>  <a href="Ganeti/Objects/Maintenance.html#RepairAction" class="link">Source</a></p><div class="doc"><p>Action to be taken for a certain repair event. Note
 that the order is important, as we rely on values higher
 in the derived order to be more intrusive actions.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:RANoop" class="def">RANoop</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:RALiveRepair" class="def">RALiveRepair</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:RAEvacuate" class="def">RAEvacuate</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:RAEvacuateFailover" class="def">RAEvacuateFailover</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:RepairAction" class="caption collapser" onclick="toggleSection('i:RepairAction')">Instances</p><div id="section.i:RepairAction" class="show"><table><tr><td class="src">Bounded <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Enum <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Eq <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Ord <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">JSON <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Arbitrary <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:repairActionFromRaw" class="def">repairActionFromRaw</a> :: <span class="keyword">forall</span> m. Monad m =&gt; String -&gt; m <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a><a href="Ganeti/Objects/Maintenance.html#repairActionFromRaw" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:repairActionToRaw" class="def">repairActionToRaw</a> :: <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a> -&gt; String<a href="Ganeti/Objects/Maintenance.html#repairActionToRaw" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:RepairStatus" class="def">RepairStatus</a>  <a href="Ganeti/Objects/Maintenance.html#RepairStatus" class="link">Source</a></p><div class="doc"><p>Progress made on the particular repair event. Again we rely
 on the order in that everything larger than <code><a href="Ganeti-Objects-Maintenance.html#v:RSPending">RSPending</a></code> is finalized
 in the sense that no further jobs will be submitted.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:RSNoted" class="def">RSNoted</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:RSPending" class="def">RSPending</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:RSCanceled" class="def">RSCanceled</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:RSFailed" class="def">RSFailed</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:RSCompleted" class="def">RSCompleted</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:RepairStatus" class="caption collapser" onclick="toggleSection('i:RepairStatus')">Instances</p><div id="section.i:RepairStatus" class="show"><table><tr><td class="src">Bounded <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Enum <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Eq <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Ord <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">JSON <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Arbitrary <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:repairStatusFromRaw" class="def">repairStatusFromRaw</a> :: <span class="keyword">forall</span> m. Monad m =&gt; String -&gt; m <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a><a href="Ganeti/Objects/Maintenance.html#repairStatusFromRaw" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:repairStatusToRaw" class="def">repairStatusToRaw</a> :: <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a> -&gt; String<a href="Ganeti/Objects/Maintenance.html#repairStatusToRaw" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Incident" class="def">Incident</a>  <a href="Ganeti/Objects/Maintenance.html#Incident" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Incident" class="def">Incident</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:incidentOriginal" class="def">incidentOriginal</a> :: JSValue</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:incidentAction" class="def">incidentAction</a> :: <a href="Ganeti-Objects-Maintenance.html#t:RepairAction">RepairAction</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:incidentJobs" class="def">incidentJobs</a> :: [<a href="Ganeti-Types.html#t:JobId">JobId</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:incidentNode" class="def">incidentNode</a> :: String</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:incidentRepairStatus" class="def">incidentRepairStatus</a> :: <a href="Ganeti-Objects-Maintenance.html#t:RepairStatus">RepairStatus</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:incidentTag" class="def">incidentTag</a> :: String</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:incidentUuid" class="def">incidentUuid</a> :: ByteString</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:incidentCtime" class="def">incidentCtime</a> :: ClockTime</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:incidentMtime" class="def">incidentMtime</a> :: ClockTime</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:incidentSerial" class="def">incidentSerial</a> :: Int</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Incident" class="caption collapser" onclick="toggleSection('i:Incident')">Instances</p><div id="section.i:Incident" class="show"><table><tr><td class="src">Eq <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">JSON <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-JSON.html#t:ArrayObject">ArrayObject</a> <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-JSON.html#t:DictObject">DictObject</a> <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Types.html#t:SerialNoObject">SerialNoObject</a> <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Types.html#t:UuidObject">UuidObject</a> <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Types.html#t:TimeStampObject">TimeStampObject</a> <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Arbitrary <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:loadIncident" class="def">loadIncident</a> :: JSValue -&gt; Result <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a><a href="Ganeti/Objects/Maintenance.html#loadIncident" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:saveIncident" class="def">saveIncident</a> :: <a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a> -&gt; JSValue<a href="Ganeti/Objects/Maintenance.html#saveIncident" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:MaintenanceData" class="def">MaintenanceData</a>  <a href="Ganeti/Objects/Maintenance.html#MaintenanceData" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:MaintenanceData" class="def">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:maintRoundDelay" class="def">maintRoundDelay</a> :: Int</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:maintJobs" class="def">maintJobs</a> :: [<a href="Ganeti-Types.html#t:JobId">JobId</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:maintBalance" class="def">maintBalance</a> :: Bool</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:maintBalanceThreshold" class="def">maintBalanceThreshold</a> :: Double</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:maintEvacuated" class="def">maintEvacuated</a> :: [String]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:maintIncidents" class="def">maintIncidents</a> :: [<a href="Ganeti-Objects-Maintenance.html#t:Incident">Incident</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:maintCtime" class="def">maintCtime</a> :: ClockTime</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:maintMtime" class="def">maintMtime</a> :: ClockTime</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:maintSerial" class="def">maintSerial</a> :: Int</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:MaintenanceData" class="caption collapser" onclick="toggleSection('i:MaintenanceData')">Instances</p><div id="section.i:MaintenanceData" class="show"><table><tr><td class="src">Eq <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">JSON <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-JSON.html#t:ArrayObject">ArrayObject</a> <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-JSON.html#t:DictObject">DictObject</a> <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Types.html#t:SerialNoObject">SerialNoObject</a> <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Types.html#t:TimeStampObject">TimeStampObject</a> <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Objects-Lens.html#t:SerialNoObjectL">SerialNoObjectL</a> <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ganeti-Objects-Lens.html#t:TimeStampObjectL">TimeStampObjectL</a> <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Arbitrary <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:loadMaintenanceData" class="def">loadMaintenanceData</a> :: JSValue -&gt; Result <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a><a href="Ganeti/Objects/Maintenance.html#loadMaintenanceData" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:saveMaintenanceData" class="def">saveMaintenanceData</a> :: <a href="Ganeti-Objects-Maintenance.html#t:MaintenanceData">MaintenanceData</a> -&gt; JSValue<a href="Ganeti/Objects/Maintenance.html#saveMaintenanceData" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>