<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ganeti.query._FilterHints</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ganeti-module.html">Package&nbsp;ganeti</a> ::
        <a href="ganeti.query-module.html">Module&nbsp;query</a> ::
        Class&nbsp;_FilterHints
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ganeti.query._FilterHints-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class _FilterHints</h1><p class="nomargin-top"><span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_ganeti_q_11" name="uml_class_diagram_for_ganeti_q_11">
<area shape="rect" id="node1225" href="ganeti.query._FilterHints-class.html#__init__" title="Initializes this class." alt="" coords="17,39,320,57"/>
<area shape="rect" id="node1225" href="ganeti.query._FilterHints-class.html#RequestedNames" title="Returns all requested values." alt="" coords="17,57,320,76"/>
<area shape="rect" id="node1225" href="ganeti.query._FilterHints-class.html#ReferencedData" title="Returns all kinds of data referenced by the filter." alt="" coords="17,76,320,95"/>
<area shape="rect" id="node1225" href="ganeti.query._FilterHints-class.html#NoteLogicOp" title="Called when handling a logic operation." alt="" coords="17,95,320,113"/>
<area shape="rect" id="node1225" href="ganeti.query._FilterHints-class.html#NoteUnaryOp" title="Called when handling an unary operation." alt="" coords="17,113,320,132"/>
<area shape="rect" id="node1225" href="ganeti.query._FilterHints-class.html#NoteBinaryOp" title="Called when handling a binary operation." alt="" coords="17,132,320,151"/>
<area shape="rect" id="node1" href="ganeti.query._FilterHints-class.html" title="Class for filter analytics." alt="" coords="5,6,331,157"/>
</map>
  <img src="uml_class_diagram_for_ganeti_q_11.gif" alt='' usemap="#uml_class_diagram_for_ganeti_q_11" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>Class for filter analytics.</p>
  <p>When filters are used, the user of the <a 
  href="ganeti.query.Query-class.html" class="link">Query</a> class usually
  doesn't know exactly which items will be necessary for building the 
  result. It therefore has to prepare and compute the input data for 
  potentially returning everything.</p>
  <p>There are two ways to optimize this. The first, and simpler, is to 
  assign each field a group of data, so that the caller can determine which
  computations are necessary depending on the data groups requested. The 
  list of referenced groups must also be computed for fields referenced in 
  the filter.</p>
  <p>The second is restricting the items based on a primary key. The 
  primary key is usually a unique name (e.g. a node name). This class 
  extracts all referenced names from a filter. If it encounters any filter 
  condition which disallows such a list to be determined (e.g. a 
  non-equality filter), all names will be requested.</p>
  <p>The end-effect is that any operation other than <a 
  href="ganeti.qlang-module.html#OP_OR" class="link">qlang.OP_OR</a> and <a
  href="ganeti.qlang-module.html#OP_EQUAL" class="link">qlang.OP_EQUAL</a> 
  will make the query more expensive.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.query._FilterHints-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">namefield</span>)</span><br />
      Initializes this class.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.query._FilterHints-class.html#RequestedNames" class="summary-sig-name">RequestedNames</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Returns all requested values.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.RequestedNames">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="ReferencedData"></a><span class="summary-sig-name">ReferencedData</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Returns all kinds of data referenced by the filter.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.ReferencedData">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_NeedAllNames"></a><span class="summary-sig-name">_NeedAllNames</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Changes internal state to request all names.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints._NeedAllNames">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.query._FilterHints-class.html#NoteLogicOp" class="summary-sig-name">NoteLogicOp</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">op</span>)</span><br />
      Called when handling a logic operation.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.NoteLogicOp">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.query._FilterHints-class.html#NoteUnaryOp" class="summary-sig-name">NoteUnaryOp</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">op</span>,
        <span class="summary-sig-arg">datakind</span>)</span><br />
      Called when handling an unary operation.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.NoteUnaryOp">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ganeti.query._FilterHints-class.html#NoteBinaryOp" class="summary-sig-name">NoteBinaryOp</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">op</span>,
        <span class="summary-sig-arg">datakind</span>,
        <span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">value</span>)</span><br />
      Called when handling a binary operation.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.NoteBinaryOp">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE VARIABLES ==================== -->
<a name="section-InstanceVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ganeti.query._FilterHints-class.html#_allnames" class="summary-name" onclick="show_private();">_allnames</a><br />
      Whether all names need to be requested (e.g.
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_names"></a><span class="summary-name">_names</span><br />
      Which names to request
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_datakinds"></a><span class="summary-name">_datakinds</span><br />
      Data kinds referenced by the filter (used by <a 
      href="ganeti.query.Query-class.html#RequestedData" 
      class="link">Query.RequestedData</a>)
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">namefield</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Initializes this class.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>namefield</code></strong> (string) - Field caller is interested in</li>
    </ul></dd>
    <dt>Overrides:
        object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="RequestedNames"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RequestedNames</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.RequestedNames">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns all requested values.</p>
  <p>Returns <code>None</code> if list of values can't be determined (e.g. 
  encountered non-equality operators).</p>
  <dl class="fields">
    <dt>Returns: list</dt>
  </dl>
</td></tr></table>
</div>
<a name="NoteLogicOp"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">NoteLogicOp</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">op</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.NoteLogicOp">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called when handling a logic operation.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>op</code></strong> (string) - Operator</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="NoteUnaryOp"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">NoteUnaryOp</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">op</span>,
        <span class="sig-arg">datakind</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.NoteUnaryOp">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called when handling an unary operation.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>op</code></strong> (string) - Operator</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="NoteBinaryOp"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">NoteBinaryOp</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">op</span>,
        <span class="sig-arg">datakind</span>,
        <span class="sig-arg">name</span>,
        <span class="sig-arg">value</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ganeti.query-pysrc.html#_FilterHints.NoteBinaryOp">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called when handling a binary operation.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>op</code></strong> (string) - Operator</li>
        <li><strong class="pname"><code>name</code></strong> (string) - Left-hand side of operator (field name)</li>
        <li><strong class="pname"><code>value</code></strong> - Right-hand side of operator</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== INSTANCE VARIABLE DETAILS ==================== -->
<a name="section-InstanceVariableDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Variable Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceVariableDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_allnames"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">_allnames</h3>
  <p>Whether all names need to be requested (e.g. if a non-equality 
  operator has been used)</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/ganeti/">Ganeti</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Mon Jan 11 11:58:00 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
